var Ay=Object.defineProperty,by=Object.defineProperties;var Ny=Object.getOwnPropertyDescriptors;var Rd=Object.getOwnPropertySymbols;var xy=Object.prototype.hasOwnProperty,Ry=Object.prototype.propertyIsEnumerable;var Pd=(t,e,n)=>e in t?Ay(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,j=(t,e)=>{for(var n in e||={})xy.call(e,n)&&Pd(t,n,e[n]);if(Rd)for(var n of Rd(e))Ry.call(e,n)&&Pd(t,n,e[n]);return t},Q=(t,e)=>by(t,Ny(e));var me=null,To=!1,_a=1,Py=null,xe=Symbol("SIGNAL");function b(t){let e=me;return me=t,e}function wo(){return me}var Pn={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ca(t){if(To)throw new Error("");if(me===null)return;me.consumerOnSignalRead(t);let e=me.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=me.recomputing;if(r&&(n=e!==void 0?e.nextProducer:me.producers,n!==void 0&&n.producer===t)){me.producersTail=n,n.lastReadVersion=t.version;return}let o=t.consumersTail;if(o!==void 0&&o.consumer===me&&(!r||Fy(o,me)))return;let i=Fn(me),s={producer:t,consumer:me,nextProducer:n,prevConsumer:o,lastReadVersion:t.version,nextConsumer:void 0};me.producersTail=s,e!==void 0?e.nextProducer=s:me.producers=s,i&&Od(t,s)}function kd(){_a++}function Da(t){if(!(Fn(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===_a)){if(!t.producerMustRecompute(t)&&!Ao(t)){Ea(t);return}t.producerRecomputeValue(t),Ea(t)}}function Ia(t){if(t.consumers===void 0)return;let e=To;To=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||ky(r)}}finally{To=e}}function Ta(){return me?.consumerAllowSignalWrites!==!1}function ky(t){t.dirty=!0,Ia(t),t.consumerMarkedDirty?.(t)}function Ea(t){t.dirty=!1,t.lastCleanEpoch=_a}function yr(t){return t&&Fd(t),b(t)}function Fd(t){t.producersTail=void 0,t.recomputing=!0}function Mo(t,e){b(e),t&&Ld(t)}function Ld(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(Fn(t))do n=Sa(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function Ao(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(Da(n),r!==n.version))return!0}return!1}function kn(t){if(Fn(t)){let e=t.producers;for(;e!==void 0;)e=Sa(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function Od(t,e){let n=t.consumersTail,r=Fn(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let o=t.producers;o!==void 0;o=o.nextProducer)Od(o.producer,o)}function Sa(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,o=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=o:e.consumersTail=o,o!==void 0)o.nextConsumer=r;else if(e.consumers=r,!Fn(e)){let i=e.producers;for(;i!==void 0;)i=Sa(i)}return n}function Fn(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function wa(t){Py?.(t)}function Fy(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Ma(t,e){return Object.is(t,e)}function bo(t,e){let n=Object.create(Ly);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Da(n),Ca(n),n.value===So)throw n.error;return n.value};return r[xe]=n,wa(n),r}var ya=Symbol("UNSET"),va=Symbol("COMPUTING"),So=Symbol("ERRORED"),Ly=Q(j({},Pn),{value:ya,dirty:!0,error:null,equal:Ma,kind:"computed",producerMustRecompute(t){return t.value===ya||t.value===va},producerRecomputeValue(t){if(t.value===va)throw new Error("");let e=t.value;t.value=va;let n=yr(t),r,o=!1;try{r=t.computation(),b(null),o=e!==ya&&e!==So&&r!==So&&t.equal(e,r)}catch(i){r=So,t.error=i}finally{Mo(t,n)}if(o){t.value=e;return}t.value=r,t.version++}});function Oy(){throw new Error}var Vd=Oy;function Ud(t){Vd(t)}function Aa(t){Vd=t}var Vy=null;function ba(t,e){let n=Object.create(Gd);n.value=t,e!==void 0&&(n.equal=e);let r=()=>Bd(n);return r[xe]=n,wa(n),[r,s=>Na(n,s),s=>Hd(n,s)]}function Bd(t){return Ca(t),t.value}function Na(t,e){Ta()||Ud(t),t.equal(t.value,e)||(t.value=e,Uy(t))}function Hd(t,e){Ta()||Ud(t),Na(t,e(t.value))}var Gd=Q(j({},Pn),{equal:Ma,value:void 0,kind:"signal"});function Uy(t){t.version++,kd(),Ia(t),Vy?.(t)}function xa(t){let e=b(null);try{return t()}finally{b(e)}}var Ra=Q(j({},Pn),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function Pa(t){if(t.dirty=!1,t.version>0&&!Ao(t))return;t.version++;let e=yr(t);try{t.cleanup(),t.fn()}finally{Mo(t,e)}}function G(t){return typeof t=="function"}function No(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var xo=No(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function vr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ve=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(G(r))try{r()}catch(i){e=i instanceof xo?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{$d(i)}catch(s){e=e??[],s instanceof xo?e=[...e,...s.errors]:e.push(s)}}if(e)throw new xo(e)}}add(e){var n;if(e&&e!==this)if(this.closed)$d(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&vr(n,e)}remove(e){let{_finalizers:n}=this;n&&vr(n,e),e instanceof t&&e._removeParent(this)}};ve.EMPTY=(()=>{let t=new ve;return t.closed=!0,t})();var ka=ve.EMPTY;function Ro(t){return t instanceof ve||t&&"closed"in t&&G(t.remove)&&G(t.add)&&G(t.unsubscribe)}function $d(t){G(t)?t():t.unsubscribe()}var ze={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ln={setTimeout(t,e,...n){let{delegate:r}=Ln;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ln;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Po(t){Ln.setTimeout(()=>{let{onUnhandledError:e}=ze;if(e)e(t);else throw t})}function Fa(){}var qd=La("C",void 0,void 0);function zd(t){return La("E",void 0,t)}function Wd(t){return La("N",t,void 0)}function La(t,e,n){return{kind:t,value:e,error:n}}var en=null;function On(t){if(ze.useDeprecatedSynchronousErrorHandling){let e=!en;if(e&&(en={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=en;if(en=null,n)throw r}}else t()}function jd(t){ze.useDeprecatedSynchronousErrorHandling&&en&&(en.errorThrown=!0,en.error=t)}var tn=class extends ve{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ro(e)&&e.add(this)):this.destination=Gy}static create(e,n,r){return new Vn(e,n,r)}next(e){this.isStopped?Va(Wd(e),this):this._next(e)}error(e){this.isStopped?Va(zd(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Va(qd,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},By=Function.prototype.bind;function Oa(t,e){return By.call(t,e)}var Ua=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ko(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ko(r)}else ko(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ko(n)}}},Vn=class extends tn{constructor(e,n,r){super();let o;if(G(e)||!e)o={next:e??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&ze.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&Oa(e.next,i),error:e.error&&Oa(e.error,i),complete:e.complete&&Oa(e.complete,i)}):o=e}this.destination=new Ua(o)}};function ko(t){ze.useDeprecatedSynchronousErrorHandling?jd(t):Po(t)}function Hy(t){throw t}function Va(t,e){let{onStoppedNotification:n}=ze;n&&Ln.setTimeout(()=>n(t,e))}var Gy={closed:!0,next:Fa,error:Hy,complete:Fa};var Un=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Jd(t){return t}function Yd(t){return t.length===0?Jd:t.length===1?t[0]:function(n){return t.reduce((r,o)=>o(r),n)}}var te=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=qy(n)?n:new Vn(n,r,o);return On(()=>{let{operator:s,source:l}=this;i.add(s?s.call(i,l):l?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Kd(r),new r((o,i)=>{let s=new Vn({next:l=>{try{n(l)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Un](){return this}pipe(...n){return Yd(n)(this)}toPromise(n){return n=Kd(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return t.create=e=>new t(e),t})();function Kd(t){var e;return(e=t??ze.Promise)!==null&&e!==void 0?e:Promise}function $y(t){return t&&G(t.next)&&G(t.error)&&G(t.complete)}function qy(t){return t&&t instanceof tn||$y(t)&&Ro(t)}function zy(t){return G(t?.lift)}function Ie(t){return e=>{if(zy(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Te(t,e,n,r,o){return new Ba(t,e,n,r,o)}var Ba=class extends tn{constructor(e,n,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(l){try{n(l)}catch(c){e.error(c)}}:super._next,this._error=o?function(l){try{o(l)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var Zd=No(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var at=(()=>{class t extends te{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Fo(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Zd}next(n){On(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){On(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){On(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?ka:(this.currentObservers=null,i.push(n),new ve(()=>{this.currentObservers=null,vr(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new te;return n.source=this,n}}return t.create=(e,n)=>new Fo(e,n),t})(),Fo=class extends at{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:ka}};var Er=class extends at{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};function Qd(t){return t&&G(t.schedule)}function Xd(t){return t[t.length-1]}function ef(t){return G(Xd(t))?t.pop():void 0}function tf(t){return Qd(Xd(t))?t.pop():void 0}function rf(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(f){try{d(r.next(f))}catch(p){s(p)}}function c(f){try{d(r.throw(f))}catch(p){s(p)}}function d(f){f.done?i(f.value):o(f.value).then(l,c)}d((r=r.apply(t,e||[])).next())})}function nf(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function nn(t){return this instanceof nn?(this.v=t,this):new nn(t)}function of(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(g){return function(m){return Promise.resolve(m).then(g,p)}}function l(g,m){r[g]&&(o[g]=function(v){return new Promise(function(E,y){i.push([g,v,E,y])>1||c(g,v)})},m&&(o[g]=m(o[g])))}function c(g,m){try{d(r[g](m))}catch(v){h(i[0][3],v)}}function d(g){g.value instanceof nn?Promise.resolve(g.value.v).then(f,p):h(i[0][2],g)}function f(g){c("next",g)}function p(g){c("throw",g)}function h(g,m){g(m),i.shift(),i.length&&c(i[0][0],i[0][1])}}function sf(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof nf=="function"?nf(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(s){return new Promise(function(l,c){s=t[i](s),o(l,c,s.done,s.value)})}}function o(i,s,l,c){Promise.resolve(c).then(function(d){i({value:d,done:l})},s)}}var Lo=t=>t&&typeof t.length=="number"&&typeof t!="function";function Oo(t){return G(t?.then)}function Vo(t){return G(t[Un])}function Uo(t){return Symbol.asyncIterator&&G(t?.[Symbol.asyncIterator])}function Bo(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Wy(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ho=Wy();function Go(t){return G(t?.[Ho])}function $o(t){return of(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:o}=yield nn(n.read());if(o)return yield nn(void 0);yield yield nn(r)}}finally{n.releaseLock()}})}function qo(t){return G(t?.getReader)}function Se(t){if(t instanceof te)return t;if(t!=null){if(Vo(t))return jy(t);if(Lo(t))return Jy(t);if(Oo(t))return Yy(t);if(Uo(t))return af(t);if(Go(t))return Ky(t);if(qo(t))return Zy(t)}throw Bo(t)}function jy(t){return new te(e=>{let n=t[Un]();if(G(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Jy(t){return new te(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Yy(t){return new te(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Po)})}function Ky(t){return new te(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function af(t){return new te(e=>{Qy(t,e).catch(n=>e.error(n))})}function Zy(t){return af($o(t))}function Qy(t,e){var n,r,o,i;return rf(this,void 0,void 0,function*(){try{for(n=sf(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}e.complete()})}function Oe(t,e,n,r=0,o=!1){let i=e.schedule(function(){n(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!o)return i}function zo(t,e=0){return Ie((n,r)=>{n.subscribe(Te(r,o=>Oe(r,t,()=>r.next(o),e),()=>Oe(r,t,()=>r.complete(),e),o=>Oe(r,t,()=>r.error(o),e)))})}function Wo(t,e=0){return Ie((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function lf(t,e){return Se(t).pipe(Wo(e),zo(e))}function uf(t,e){return Se(t).pipe(Wo(e),zo(e))}function cf(t,e){return new te(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function df(t,e){return new te(n=>{let r;return Oe(n,e,()=>{r=t[Ho](),Oe(n,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>G(r?.return)&&r.return()})}function jo(t,e){if(!t)throw new Error("Iterable cannot be null");return new te(n=>{Oe(n,e,()=>{let r=t[Symbol.asyncIterator]();Oe(n,e,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function ff(t,e){return jo($o(t),e)}function pf(t,e){if(t!=null){if(Vo(t))return lf(t,e);if(Lo(t))return cf(t,e);if(Oo(t))return uf(t,e);if(Uo(t))return jo(t,e);if(Go(t))return df(t,e);if(qo(t))return ff(t,e)}throw Bo(t)}function _r(t,e){return e?pf(t,e):Se(t)}function Jo(...t){let e=tf(t);return _r(t,e)}function we(t,e){return Ie((n,r)=>{let o=0;n.subscribe(Te(r,i=>{r.next(t.call(e,i,o++))}))})}var{isArray:Xy}=Array;function ev(t,e){return Xy(e)?t(...e):t(e)}function hf(t){return we(e=>ev(t,e))}var{isArray:tv}=Array,{getPrototypeOf:nv,prototype:rv,keys:ov}=Object;function gf(t){if(t.length===1){let e=t[0];if(tv(e))return{args:e,keys:null};if(iv(e)){let n=ov(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function iv(t){return t&&typeof t=="object"&&nv(t)===rv}function mf(t,e){return t.reduce((n,r,o)=>(n[r]=e[o],n),{})}function yf(t,e,n,r,o,i,s,l){let c=[],d=0,f=0,p=!1,h=()=>{p&&!c.length&&!d&&e.complete()},g=v=>d<r?m(v):c.push(v),m=v=>{i&&e.next(v),d++;let E=!1;Se(n(v,f++)).subscribe(Te(e,y=>{o?.(y),i?g(y):e.next(y)},()=>{E=!0},void 0,()=>{if(E)try{for(d--;c.length&&d<r;){let y=c.shift();s?Oe(e,s,()=>m(y)):m(y)}h()}catch(y){e.error(y)}}))};return t.subscribe(Te(e,g,()=>{p=!0,h()})),()=>{l?.()}}function Yo(t,e,n=1/0){return G(e)?Yo((r,o)=>we((i,s)=>e(r,i,o,s))(Se(t(r,o))),n):(typeof e=="number"&&(n=e),Ie((r,o)=>yf(r,o,t,n)))}function Ha(...t){let e=ef(t),{args:n,keys:r}=gf(t),o=new te(i=>{let{length:s}=n;if(!s){i.complete();return}let l=new Array(s),c=s,d=s;for(let f=0;f<s;f++){let p=!1;Se(n[f]).subscribe(Te(i,h=>{p||(p=!0,d--),l[f]=h},()=>c--,void 0,()=>{(!c||!p)&&(d||i.next(r?mf(r,l):l),i.complete())}))}});return e?o.pipe(hf(e)):o}function Ga(t,e){return Ie((n,r)=>{let o=0;n.subscribe(Te(r,i=>t.call(e,i,o++)&&r.next(i)))})}function $a(t,e){return G(e)?Yo(t,e,1):Yo(t,1)}function qa(t){return Ie((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function za(t,e){return Ie((n,r)=>{let o=null,i=0,s=!1,l=()=>s&&!o&&r.complete();n.subscribe(Te(r,c=>{o?.unsubscribe();let d=0,f=i++;Se(t(c,f)).subscribe(o=Te(r,p=>r.next(e?e(c,p,f,d++):p),()=>{o=null,l()}))},()=>{s=!0,l()}))})}var Wa;function Ko(){return Wa}function lt(t){let e=Wa;return Wa=t,e}var vf=Symbol("NotFound");function Bn(t){return t===vf||t?.name==="\u0275NotFound"}var ri="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",P=class extends Error{code;constructor(e,n){super(Mr(e,n)),this.code=e}};function sv(t){return`NG0${Math.abs(t)}`}function Mr(t,e){return`${sv(t)}${e?": "+e:""}`}function Y(t){for(let e in t)if(t[e]===Y)return e;throw Error("")}function If(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Lt(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Lt).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function oi(t,e){return t?e?`${t} ${e}`:t:e||""}var av=Y({__forward_ref__:Y});function It(t){return t.__forward_ref__=It,t.toString=function(){return Lt(this())},t}function fe(t){return il(t)?t():t}function il(t){return typeof t=="function"&&t.hasOwnProperty(av)&&t.__forward_ref__===It}function H(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Tt(t){return{providers:t.providers||[],imports:t.imports||[]}}function ii(t){return lv(t,si)}function lv(t,e){return t.hasOwnProperty(e)&&t[e]||null}function uv(t){let e=t?.[si]??null;return e||null}function Ja(t){return t&&t.hasOwnProperty(Qo)?t[Qo]:null}var si=Y({\u0275prov:Y}),Qo=Y({\u0275inj:Y}),R=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=H({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function sl(t){return t&&!!t.\u0275providers}var al=Y({\u0275cmp:Y}),ll=Y({\u0275dir:Y}),ul=Y({\u0275pipe:Y});var Dr=Y({\u0275fac:Y}),un=Y({__NG_ELEMENT_ID__:Y}),Ef=Y({__NG_ENV_ID__:Y});function cn(t){return dl(t,"@Component"),t[al]||null}function cl(t){return dl(t,"@Directive"),t[ll]||null}function Tf(t){return dl(t,"@Pipe"),t[ul]||null}function dl(t,e){if(t==null)throw new P(-919,!1)}function dn(t){return typeof t=="string"?t:t==null?"":String(t)}function Sf(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():dn(t)}var wf=Y({ngErrorCode:Y}),cv=Y({ngErrorMessage:Y}),dv=Y({ngTokenPath:Y});function fl(t,e){return Mf("",-200,e)}function ai(t,e){throw new P(-201,!1)}function Mf(t,e,n){let r=new P(e,t);return r[wf]=e,r[cv]=t,n&&(r[dv]=n),r}function fv(t){return t[wf]}var Ya;function Af(){return Ya}function Re(t){let e=Ya;return Ya=t,e}function pl(t,e,n){let r=ii(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;ai(t,"")}var pv={},rn=pv,hv="__NG_DI_FLAG__",Ka=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=on(n)||0;try{return this.injector.get(e,r&8?null:rn,r)}catch(o){if(Bn(o))return o;throw o}}};function gv(t,e=0){let n=Ko();if(n===void 0)throw new P(-203,!1);if(n===null)return pl(t,void 0,e);{let r=mv(e),o=n.retrieve(t,r);if(Bn(o)){if(r.optional)return null;throw o}return o}}function B(t,e=0){return(Af()||gv)(fe(t),e)}function M(t,e){return B(t,on(e))}function on(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function mv(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Za(t){let e=[];for(let n=0;n<t.length;n++){let r=fe(t[n]);if(Array.isArray(r)){if(r.length===0)throw new P(900,!1);let o,i=0;for(let s=0;s<r.length;s++){let l=r[s],c=yv(l);typeof c=="number"?c===-1?o=l.token:i|=c:o=l}e.push(B(o,i))}else e.push(B(r))}return e}function yv(t){return t[hv]}function sn(t,e){let n=t.hasOwnProperty(Dr);return n?t[Dr]:null}function li(t,e){t.forEach(n=>Array.isArray(n)?li(n,e):e(n))}function hl(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ar(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function bf(t,e,n,r){let o=t.length;if(o==e)t.push(n,r);else if(o===1)t.push(r,t[0]),t[0]=n;else{for(o--,t.push(t[o-1],t[o]);o>e;){let i=o-2;t[o]=t[i],o--}t[e]=n,t[e+1]=r}}function ui(t,e,n){let r=Gn(t,e);return r>=0?t[r|1]=n:(r=~r,bf(t,r,e,n)),r}function ci(t,e){let n=Gn(t,e);if(n>=0)return t[n|1]}function Gn(t,e){return vv(t,e,1)}function vv(t,e,n){let r=0,o=t.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=t[i<<n];if(e===s)return i<<n;s>e?o=i:r=i+1}return~(o<<n)}var Ut={},Ee=[],br=new R(""),gl=new R("",-1),ml=new R(""),Ir=class{get(e,n=rn){if(n===rn){let o=Mf("",-201);throw o.name="\u0275NotFound",o}return n}};function Nr(t){return{\u0275providers:t}}function Nf(...t){return{\u0275providers:yl(!0,t),\u0275fromNgModule:!0}}function yl(t,...e){let n=[],r=new Set,o,i=s=>{n.push(s)};return li(e,s=>{let l=s;Xo(l,i,[],r)&&(o||=[],o.push(l))}),o!==void 0&&xf(o,i),n}function xf(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:o}=t[n];vl(o,i=>{e(i,r)})}}function Xo(t,e,n,r){if(t=fe(t),!t)return!1;let o=null,i=Ja(t),s=!i&&cn(t);if(!i&&!s){let c=t.ngModule;if(i=Ja(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=t}let l=r.has(o);if(s){if(l)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of c)Xo(d,e,n,r)}}else if(i){if(i.imports!=null&&!l){r.add(o);let d;try{li(i.imports,f=>{Xo(f,e,n,r)&&(d||=[],d.push(f))})}finally{}d!==void 0&&xf(d,e)}if(!l){let d=sn(o)||(()=>new o);e({provide:o,useFactory:d,deps:Ee},o),e({provide:ml,useValue:o,multi:!0},o),e({provide:br,useValue:()=>B(o),multi:!0},o)}let c=i.providers;if(c!=null&&!l){let d=t;vl(c,f=>{e(f,d)})}}else return!1;return o!==t&&t.providers!==void 0}function vl(t,e){for(let n of t)sl(n)&&(n=n.\u0275providers),Array.isArray(n)?vl(n,e):e(n)}var Ev=Y({provide:String,useValue:Y});function Rf(t){return t!==null&&typeof t=="object"&&Ev in t}function _v(t){return!!(t&&t.useExisting)}function Cv(t){return!!(t&&t.useFactory)}function an(t){return typeof t=="function"}function Pf(t){return!!t.useClass}var xr=new R(""),Zo={},_f={},ja;function Rr(){return ja===void 0&&(ja=new Ir),ja}var _e=class{},ln=class extends _e{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,Xa(e,s=>this.processProvider(s)),this.records.set(gl,Hn(void 0,this)),o.has("environment")&&this.records.set(_e,Hn(void 0,this));let i=this.records.get(xr);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(ml,Ee,{self:!0}))}retrieve(e,n){let r=on(n)||0;try{return this.get(e,rn,r)}catch(o){if(Bn(o))return o;throw o}}destroy(){Cr(this),this._destroyed=!0;let e=b(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),b(e)}}onDestroy(e){return Cr(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Cr(this);let n=lt(this),r=Re(void 0),o;try{return e()}finally{lt(n),Re(r)}}get(e,n=rn,r){if(Cr(this),e.hasOwnProperty(Ef))return e[Ef](this);let o=on(r),i,s=lt(this),l=Re(void 0);try{if(!(o&4)){let d=this.records.get(e);if(d===void 0){let f=wv(e)&&ii(e);f&&this.injectableDefInScope(f)?d=Hn(Qa(e),Zo):d=null,this.records.set(e,d)}if(d!=null)return this.hydrate(e,d,o)}let c=o&2?Rr():this.parent;return n=o&8&&n===rn?null:n,c.get(e,n)}catch(c){let d=fv(c);throw d===-200||d===-201?new P(d,null):c}finally{Re(l),lt(s)}}resolveInjectorInitializers(){let e=b(null),n=lt(this),r=Re(void 0),o;try{let i=this.get(br,Ee,{self:!0});for(let s of i)s()}finally{lt(n),Re(r),b(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Lt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=fe(e);let n=an(e)?e:fe(e&&e.provide),r=Iv(e);if(!an(e)&&e.multi===!0){let o=this.records.get(n);o||(o=Hn(void 0,Zo,!0),o.factory=()=>Za(o.multi),this.records.set(n,o)),n=e,o.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let o=b(null);try{if(n.value===_f)throw fl(Lt(e));return n.value===Zo&&(n.value=_f,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&Sv(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{b(o)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=fe(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Qa(t){let e=ii(t),n=e!==null?e.factory:sn(t);if(n!==null)return n;if(t instanceof R)throw new P(204,!1);if(t instanceof Function)return Dv(t);throw new P(204,!1)}function Dv(t){if(t.length>0)throw new P(204,!1);let n=uv(t);return n!==null?()=>n.factory(t):()=>new t}function Iv(t){if(Rf(t))return Hn(void 0,t.useValue);{let e=El(t);return Hn(e,Zo)}}function El(t,e,n){let r;if(an(t)){let o=fe(t);return sn(o)||Qa(o)}else if(Rf(t))r=()=>fe(t.useValue);else if(Cv(t))r=()=>t.useFactory(...Za(t.deps||[]));else if(_v(t))r=(o,i)=>B(fe(t.useExisting),i!==void 0&&i&8?8:void 0);else{let o=fe(t&&(t.useClass||t.provide));if(Tv(t))r=()=>new o(...Za(t.deps));else return sn(o)||Qa(o)}return r}function Cr(t){if(t.destroyed)throw new P(205,!1)}function Hn(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Tv(t){return!!t.deps}function Sv(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function wv(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Xa(t,e){for(let n of t)Array.isArray(n)?Xa(n,e):n&&sl(n)?Xa(n.\u0275providers,e):e(n)}function $n(t,e){let n;t instanceof ln?(Cr(t),n=t):n=new Ka(t);let r,o=lt(n),i=Re(void 0);try{return e()}finally{lt(o),Re(i)}}function kf(){return Af()!==void 0||Ko()!=null}var We=0,F=1,k=2,de=3,Ve=4,Ue=5,qn=6,zn=7,ie=8,St=9,dt=10,X=11,Wn=12,_l=13,fn=14,ke=15,pn=16,hn=17,gn=18,Pr=19,Cl=20,Ct=21,di=22,Ot=23,Fe=24,mn=25,yn=26,pe=27,Ff=1,Dl=6,Bt=7,kr=8,Fr=9,se=10;function ft(t){return Array.isArray(t)&&typeof t[Ff]=="object"}function je(t){return Array.isArray(t)&&t[Ff]===!0}function Il(t){return(t.flags&4)!==0}function Ht(t){return t.componentOffset>-1}function Lr(t){return(t.flags&1)===1}function pt(t){return!!t.template}function jn(t){return(t[k]&512)!==0}function vn(t){return(t[k]&256)===256}var Tl="svg",Lf="math";function Be(t){for(;Array.isArray(t);)t=t[We];return t}function Sl(t,e){return Be(e[t])}function Je(t,e){return Be(e[t.index])}function Or(t,e){return t.data[e]}function He(t,e){let n=e[t];return ft(n)?n:n[We]}function fi(t){return(t[k]&128)===128}function Of(t){return je(t[de])}function ht(t,e){return e==null?null:t[e]}function wl(t){t[hn]=0}function Ml(t){t[k]&1024||(t[k]|=1024,fi(t)&&En(t))}function Vf(t,e){for(;t>0;)e=e[fn],t--;return e}function Vr(t){return!!(t[k]&9216||t[Fe]?.dirty)}function pi(t){t[dt].changeDetectionScheduler?.notify(8),t[k]&64&&(t[k]|=1024),Vr(t)&&En(t)}function En(t){t[dt].changeDetectionScheduler?.notify(0);let e=Vt(t);for(;e!==null&&!(e[k]&8192||(e[k]|=8192,!fi(e)));)e=Vt(e)}function Al(t,e){if(vn(t))throw new P(911,!1);t[Ct]===null&&(t[Ct]=[]),t[Ct].push(e)}function Uf(t,e){if(t[Ct]===null)return;let n=t[Ct].indexOf(e);n!==-1&&t[Ct].splice(n,1)}function Vt(t){let e=t[de];return je(e)?e[de]:e}function Bf(t){return t[zn]??=[]}function Hf(t){return t.cleanup??=[]}var U={lFrame:rp(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var el=!1;function Gf(){return U.lFrame.elementDepthCount}function $f(){U.lFrame.elementDepthCount++}function qf(){U.lFrame.elementDepthCount--}function bl(){return U.bindingsEnabled}function zf(){return U.skipHydrationRootTNode!==null}function Wf(t){return U.skipHydrationRootTNode===t}function jf(){U.skipHydrationRootTNode=null}function $(){return U.lFrame.lView}function he(){return U.lFrame.tView}function wt(t){return U.lFrame.contextLView=t,t[ie]}function Mt(t){return U.lFrame.contextLView=null,t}function Ae(){let t=Nl();for(;t!==null&&t.type===64;)t=t.parent;return t}function Nl(){return U.lFrame.currentTNode}function Jf(){let t=U.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Jn(t,e){let n=U.lFrame;n.currentTNode=t,n.isParent=e}function xl(){return U.lFrame.isParent}function Yf(){U.lFrame.isParent=!1}function Rl(){return el}function Tr(t){let e=el;return el=t,e}function Kf(){return U.lFrame.bindingIndex}function Zf(t){return U.lFrame.bindingIndex=t}function _n(){return U.lFrame.bindingIndex++}function hi(t){let e=U.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Qf(){return U.lFrame.inI18n}function Xf(t,e){let n=U.lFrame;n.bindingIndex=n.bindingRootIndex=t,gi(e)}function ep(){return U.lFrame.currentDirectiveIndex}function gi(t){U.lFrame.currentDirectiveIndex=t}function tp(t){let e=U.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Pl(t){U.lFrame.currentQueryIndex=t}function Mv(t){let e=t[F];return e.type===2?e.declTNode:e.type===1?t[Ue]:null}function kl(t,e,n){if(n&4){let o=e,i=t;for(;o=o.parent,o===null&&!(n&1);)if(o=Mv(i),o===null||(i=i[fn],o.type&10))break;if(o===null)return!1;e=o,t=i}let r=U.lFrame=np();return r.currentTNode=e,r.lView=t,!0}function mi(t){let e=np(),n=t[F];U.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function np(){let t=U.lFrame,e=t===null?null:t.child;return e===null?rp(t):e}function rp(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function op(){let t=U.lFrame;return U.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Fl=op;function yi(){let t=op();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ip(t){return(U.lFrame.contextLView=Vf(t,U.lFrame.contextLView))[ie]}function At(){return U.lFrame.selectedIndex}function Gt(t){U.lFrame.selectedIndex=t}function vi(){let t=U.lFrame;return Or(t.tView,t.selectedIndex)}function Ge(){U.lFrame.currentNamespace=Tl}function Ye(){Av()}function Av(){U.lFrame.currentNamespace=null}function sp(){return U.lFrame.currentNamespace}var ap=!0;function Ei(){return ap}function _i(t){ap=t}function tl(t,e=null,n=null,r){let o=lp(t,e,n,r);return o.resolveInjectorInitializers(),o}function lp(t,e=null,n=null,r,o=new Set){let i=[n||Ee,Nf(t)];return r=r||(typeof t=="object"?void 0:Lt(t)),new ln(i,e||Rr(),r||null,o)}var ut=class t{static THROW_IF_NOT_FOUND=rn;static NULL=new Ir;static create(e,n){if(Array.isArray(e))return tl({name:""},n,e,"");{let r=e.name??"";return tl({name:r},e.parent,e.providers,r)}}static \u0275prov=H({token:t,providedIn:"any",factory:()=>B(gl)});static __NG_ELEMENT_ID__=-1},Ce=new R(""),bt=(()=>{class t{static __NG_ELEMENT_ID__=bv;static __NG_ENV_ID__=n=>n}return t})(),ei=class extends bt{_lView;constructor(e){super(),this._lView=e}get destroyed(){return vn(this._lView)}onDestroy(e){let n=this._lView;return Al(n,e),()=>Uf(n,e)}};function bv(){return new ei($())}var up=!1,Cn=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Er(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new te(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}return t})(),nl=class extends at{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,kf()&&(this.destroyRef=M(bt,{optional:!0})??void 0,this.pendingTasks=M(Cn,{optional:!0})??void 0)}emit(e){let n=b(null);try{super.next(e)}finally{b(n)}}subscribe(e,n,r){let o=e,i=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let l=super.subscribe({next:o,error:i,complete:s});return e instanceof ve&&e.add(l),l}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Pe=nl;function ti(...t){}function Ll(t){let e,n;function r(){t=ti;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Ol(t){return queueMicrotask(()=>t()),()=>{t=ti}}var Vl="isAngularZone",Sr=Vl+"_ID",Nv=0,Me=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Pe(!1);onMicrotaskEmpty=new Pe(!1);onStable=new Pe(!1);onError=new Pe(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=up}=e;if(typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,Pv(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Vl)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new P(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,xv,ti,ti);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},xv={};function Ul(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Rv(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Ll(()=>{t.callbackScheduled=!1,rl(t),t.isCheckStableRunning=!0,Ul(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),rl(t)}function Pv(t){let e=()=>{Rv(t)},n=Nv++;t._inner=t._inner.fork({name:"angular",properties:{[Vl]:!0,[Sr]:n,[Sr+n]:!0},onInvokeTask:(r,o,i,s,l,c)=>{if(kv(c))return r.invokeTask(i,s,l,c);try{return Cf(t),r.invokeTask(i,s,l,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Df(t)}},onInvoke:(r,o,i,s,l,c,d)=>{try{return Cf(t),r.invoke(i,s,l,c,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Fv(c)&&e(),Df(t)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,rl(t),Ul(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function rl(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Cf(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Df(t){t._nesting--,Ul(t)}var wr=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Pe;onMicrotaskEmpty=new Pe;onStable=new Pe;onError=new Pe;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,o){return e.apply(n,r)}};function kv(t){return cp(t,"__ignore_ng_zone__")}function Fv(t){return cp(t,"__scheduler_tick__")}function cp(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var ct=class{_console=console;handleError(e){this._console.error("ERROR",e)}},$t=new R("",{factory:()=>{let t=M(Me),e=M(_e),n;return r=>{t.runOutsideAngular(()=>{e.destroyed&&!n?setTimeout(()=>{throw r}):(n??=e.get(ct),n.handleError(r))})}}}),dp={provide:br,useValue:()=>{let t=M(ct,{optional:!0})},multi:!0};function oe(t,e){let[n,r,o]=ba(t,e?.equal),i=n,s=i[xe];return i.set=r,i.update=o,i.asReadonly=fp.bind(i),i}function fp(){let t=this[xe];if(t.readonlyFn===void 0){let e=()=>this();e[xe]=t,t.readonlyFn=e}return t.readonlyFn}var Ur=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=Lv}return t})();function Lv(){return new Ur($(),Ae())}var Dt=class{},Br=new R("",{factory:()=>!0});var Bl=new R(""),Ci=(()=>{class t{internalPendingTasks=M(Cn);scheduler=M(Dt);errorHandler=M($t);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}return t})(),Di=(()=>{class t{static \u0275prov=H({token:t,providedIn:"root",factory:()=>new ol})}return t})(),ol=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},ni=class{[xe];constructor(e){this[xe]=e}destroy(){this[xe].destroy()}};function Hl(t,e){let n=e?.injector??M(ut),r=e?.manualCleanup!==!0?n.get(bt):null,o,i=n.get(Ur,null,{optional:!0}),s=n.get(Dt);return i!==null?(o=Uv(i.view,s,t),r instanceof ei&&r._lView===i.view&&(r=null)):o=Bv(t,n.get(Di),s),o.injector=n,r!==null&&(o.onDestroyFns=[r.onDestroy(()=>o.destroy())]),new ni(o)}var pp=Q(j({},Ra),{cleanupFns:void 0,zone:null,onDestroyFns:null,run(){let t=Tr(!1);try{Pa(this)}finally{Tr(t)}},cleanup(){if(!this.cleanupFns?.length)return;let t=b(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],b(t)}}}),Ov=Q(j({},pp),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){if(kn(this),this.onDestroyFns!==null)for(let t of this.onDestroyFns)t();this.cleanup(),this.scheduler.remove(this)}}),Vv=Q(j({},pp),{consumerMarkedDirty(){this.view[k]|=8192,En(this.view),this.notifier.notify(13)},destroy(){if(kn(this),this.onDestroyFns!==null)for(let t of this.onDestroyFns)t();this.cleanup(),this.view[Ot]?.delete(this)}});function Uv(t,e,n){let r=Object.create(Vv);return r.view=t,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=hp(r,n),t[Ot]??=new Set,t[Ot].add(r),r.consumerMarkedDirty(r),r}function Bv(t,e,n){let r=Object.create(Ov);return r.fn=hp(r,t),r.scheduler=e,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function hp(t,e){return()=>{e(n=>(t.cleanupFns??=[]).push(n))}}function gt(t){return xa(t)}function Zr(t){return{toString:t}.toString()}function Yv(t){return typeof t=="function"}function $p(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Mi=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}},Bi=(()=>{let t=()=>qp;return t.ngInherit=!0,t})();function qp(t){return t.type.prototype.ngOnChanges&&(t.setInput=Zv),Kv}function Kv(){let t=Wp(this),e=t?.current;if(e){let n=t.previous;if(n===Ut)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Zv(t,e,n,r,o){let i=this.declaredInputs[r],s=Wp(t)||Qv(t,{previous:Ut,current:null}),l=s.current||(s.current={}),c=s.previous,d=c[i];l[i]=new Mi(d&&d.currentValue,n,c===Ut),$p(t,e,o,n)}var zp="__ngSimpleChanges__";function Wp(t){return t[zp]||null}function Qv(t,e){return t[zp]=e}var gp=[];var J=function(t,e=null,n){for(let r=0;r<gp.length;r++){let o=gp[r];o(t,e,n)}},z=(function(t){return t[t.TemplateCreateStart=0]="TemplateCreateStart",t[t.TemplateCreateEnd=1]="TemplateCreateEnd",t[t.TemplateUpdateStart=2]="TemplateUpdateStart",t[t.TemplateUpdateEnd=3]="TemplateUpdateEnd",t[t.LifecycleHookStart=4]="LifecycleHookStart",t[t.LifecycleHookEnd=5]="LifecycleHookEnd",t[t.OutputStart=6]="OutputStart",t[t.OutputEnd=7]="OutputEnd",t[t.BootstrapApplicationStart=8]="BootstrapApplicationStart",t[t.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",t[t.BootstrapComponentStart=10]="BootstrapComponentStart",t[t.BootstrapComponentEnd=11]="BootstrapComponentEnd",t[t.ChangeDetectionStart=12]="ChangeDetectionStart",t[t.ChangeDetectionEnd=13]="ChangeDetectionEnd",t[t.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",t[t.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",t[t.AfterRenderHooksStart=16]="AfterRenderHooksStart",t[t.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",t[t.ComponentStart=18]="ComponentStart",t[t.ComponentEnd=19]="ComponentEnd",t[t.DeferBlockStateStart=20]="DeferBlockStateStart",t[t.DeferBlockStateEnd=21]="DeferBlockStateEnd",t[t.DynamicComponentStart=22]="DynamicComponentStart",t[t.DynamicComponentEnd=23]="DynamicComponentEnd",t[t.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",t[t.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",t})(z||{});function Xv(t,e,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){let s=qp(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}o&&(n.preOrderHooks??=[]).push(0-t,o),i&&((n.preOrderHooks??=[]).push(t,i),(n.preOrderCheckHooks??=[]).push(t,i))}function jp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let i=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:l,ngAfterViewInit:c,ngAfterViewChecked:d,ngOnDestroy:f}=i;s&&(t.contentHooks??=[]).push(-n,s),l&&((t.contentHooks??=[]).push(n,l),(t.contentCheckHooks??=[]).push(n,l)),c&&(t.viewHooks??=[]).push(-n,c),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Ti(t,e,n){Jp(t,e,3,n)}function Si(t,e,n,r){(t[k]&3)===n&&Jp(t,e,n,r)}function Gl(t,e){let n=t[k];(n&3)===e&&(n&=16383,n+=1,t[k]=n)}function Jp(t,e,n,r){let o=r!==void 0?t[hn]&65535:0,i=r??-1,s=e.length-1,l=0;for(let c=o;c<s;c++)if(typeof e[c+1]=="number"){if(l=e[c],r!=null&&l>=r)break}else e[c]<0&&(t[hn]+=65536),(l<i||i==-1)&&(eE(t,n,e,c),t[hn]=(t[hn]&4294901760)+c+2),c++}function mp(t,e){J(z.LifecycleHookStart,t,e);let n=b(null);try{e.call(t)}finally{b(n),J(z.LifecycleHookEnd,t,e)}}function eE(t,e,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],l=t[s];o?t[k]>>14<t[hn]>>16&&(t[k]&3)===e&&(t[k]+=16384,mp(l,i)):mp(l,i)}var Kn=-1,In=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,o){this.factory=e,this.name=o,this.canSeeViewProviders=n,this.injectImpl=r}};function tE(t){return(t.flags&8)!==0}function nE(t){return(t.flags&16)!==0}function rE(t,e,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],l=n[r++];t.setAttribute(e,s,l,i)}else{let i=o,s=n[++r];iE(i)?t.setProperty(e,i,s):t.setAttribute(e,i,s),r++}}return r}function oE(t){return t===3||t===4||t===6}function iE(t){return t.charCodeAt(0)===64}function $r(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let o=e[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?yp(t,n,o,null,e[++r]):yp(t,n,o,null,null))}}return t}function yp(t,e,n,r,o){let i=0,s=t.length;if(e===-1)s=-1;else for(;i<t.length;){let l=t[i++];if(typeof l=="number"){if(l===e){s=-1;break}else if(l>e){s=i-1;break}}}for(;i<t.length;){let l=t[i];if(typeof l=="number")break;if(l===n){o!==null&&(t[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(t.splice(s,0,e),i=s+1),t.splice(i++,0,n),o!==null&&t.splice(i++,0,o)}function Yp(t){return t!==Kn}function Ai(t){return t&32767}function sE(t){return t>>16}function bi(t,e){let n=sE(t),r=e;for(;n>0;)r=r[fn],n--;return r}var Xl=!0;function vp(t){let e=Xl;return Xl=t,e}var aE=256,Kp=aE-1,Zp=5,lE=0,mt={};function uE(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(un)&&(r=n[un]),r==null&&(r=n[un]=lE++);let o=r&Kp,i=1<<o;e.data[t+(o>>Zp)]|=i}function Ni(t,e){let n=Qp(t,e);if(n!==-1)return n;let r=e[F];r.firstCreatePass&&(t.injectorIndex=e.length,$l(r.data,t),$l(e,null),$l(r.blueprint,null));let o=Du(t,e),i=t.injectorIndex;if(Yp(o)){let s=Ai(o),l=bi(o,e),c=l[F].data;for(let d=0;d<8;d++)e[i+d]=l[s+d]|c[s+d]}return e[i+8]=o,i}function $l(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Qp(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Du(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,o=e;for(;o!==null;){if(r=rh(o),r===null)return Kn;if(n++,o=o[fn],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Kn}function eu(t,e,n){uE(t,e,n)}function Xp(t,e,n){if(n&8||t!==void 0)return t;ai(e,"NodeInjector")}function eh(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let o=t[St],i=Re(void 0);try{return o?o.get(e,r,n&8):pl(e,r,n&8)}finally{Re(i)}}return Xp(r,e,n)}function th(t,e,n,r=0,o){if(t!==null){if(e[k]&2048&&!(r&2)){let s=hE(t,e,n,r,mt);if(s!==mt)return s}let i=nh(t,e,n,r,mt);if(i!==mt)return i}return eh(e,n,r,o)}function nh(t,e,n,r,o){let i=fE(n);if(typeof i=="function"){if(!kl(e,t,r))return r&1?Xp(o,n,r):eh(e,n,r,o);try{let s;if(s=i(r),s==null&&!(r&8))ai(n);else return s}finally{Fl()}}else if(typeof i=="number"){let s=null,l=Qp(t,e),c=Kn,d=r&1?e[ke][Ue]:null;for((l===-1||r&4)&&(c=l===-1?Du(t,e):e[l+8],c===Kn||!_p(r,!1)?l=-1:(s=e[F],l=Ai(c),e=bi(c,e)));l!==-1;){let f=e[F];if(Ep(i,l,f.data)){let p=cE(l,e,n,s,r,d);if(p!==mt)return p}c=e[l+8],c!==Kn&&_p(r,e[F].data[l+8]===d)&&Ep(i,l,e)?(s=f,l=Ai(c),e=bi(c,e)):l=-1}}return o}function cE(t,e,n,r,o,i){let s=e[F],l=s.data[t+8],c=r==null?Ht(l)&&Xl:r!=s&&(l.type&3)!==0,d=o&1&&i===l,f=dE(l,s,n,c,d);return f!==null?xi(e,s,f,l,o):mt}function dE(t,e,n,r,o){let i=t.providerIndexes,s=e.data,l=i&1048575,c=t.directiveStart,d=t.directiveEnd,f=i>>20,p=r?l:l+f,h=o?l+f:d;for(let g=p;g<h;g++){let m=s[g];if(g<c&&n===m||g>=c&&m.type===n)return g}if(o){let g=s[c];if(g&&pt(g)&&g.type===n)return c}return null}function xi(t,e,n,r,o){let i=t[n],s=e.data;if(i instanceof In){let l=i;if(l.resolving){let g=Sf(s[n]);throw fl(g)}let c=vp(l.canSeeViewProviders);l.resolving=!0;let d=s[n].type||s[n],f,p=l.injectImpl?Re(l.injectImpl):null,h=kl(t,r,0);try{i=t[n]=l.factory(void 0,o,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&Xv(n,s[n],e)}finally{p!==null&&Re(p),vp(c),l.resolving=!1,Fl()}}return i}function fE(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(un)?t[un]:void 0;return typeof e=="number"?e>=0?e&Kp:pE:e}function Ep(t,e,n){let r=1<<t;return!!(n[e+(t>>Zp)]&r)}function _p(t,e){return!(t&2)&&!(t&1&&e)}var Dn=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return th(this._tNode,this._lView,e,on(r),n)}};function pE(){return new Dn(Ae(),$())}function Qr(t){return Zr(()=>{let e=t.prototype.constructor,n=e[Dr]||tu(e),r=Object.prototype,o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==r;){let i=o[Dr]||tu(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function tu(t){return il(t)?()=>{let e=tu(fe(t));return e&&e()}:sn(t)}function hE(t,e,n,r,o){let i=t,s=e;for(;i!==null&&s!==null&&s[k]&2048&&!jn(s);){let l=nh(i,s,n,r|2,mt);if(l!==mt)return l;let c=i.parent;if(!c){let d=s[Cl];if(d){let f=d.get(n,mt,r);if(f!==mt)return f}c=rh(s),s=s[fn]}i=c}return o}function rh(t){let e=t[F],n=e.type;return n===2?e.declTNode:n===1?t[Ue]:null}function gE(){return Hi(Ae(),$())}function Hi(t,e){return new zt(Je(t,e))}var zt=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=gE}return t})();function oh(t){return(t.flags&128)===128}var Iu=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(Iu||{}),ih=new Map,mE=0;function yE(){return mE++}function vE(t){ih.set(t[Pr],t)}function nu(t){ih.delete(t[Pr])}var Cp="__ngContext__";function Zn(t,e){ft(e)?(t[Cp]=e[Pr],vE(e)):t[Cp]=e}function sh(t){return lh(t[Wn])}function ah(t){return lh(t[Ve])}function lh(t){for(;t!==null&&!je(t);)t=t[Ve];return t}var EE;function Tu(t){EE=t}var Gi=new R("",{factory:()=>_E}),_E="ng";var $i=new R(""),Xr=new R("",{providedIn:"platform",factory:()=>"unknown"});var qi=new R("",{factory:()=>M(Ce).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var uh="r";var ch="di";var dh=!1,fh=new R("",{factory:()=>dh});var CE=(t,e,n,r)=>{};function DE(t,e,n,r){CE(t,e,n,r)}function Su(t){return(t.flags&32)===32}var IE=()=>null;function ph(t,e,n=!1){return IE(t,e,n)}function hh(t,e){let n=t.contentQueries;if(n!==null){let r=b(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let l=t.data[s];Pl(i),l.contentQueries(2,e[s],s)}}}finally{b(r)}}}function ru(t,e,n){Pl(0);let r=b(null);try{e(t,n)}finally{b(r)}}function gh(t,e,n){if(Il(e)){let r=b(null);try{let o=e.directiveStart,i=e.directiveEnd;for(let s=o;s<i;s++){let l=t.data[s];if(l.contentQueries){let c=n[s];l.contentQueries(1,c,s)}}}finally{b(r)}}}var Qe=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(Qe||{});var Ri=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ri})`}};function zi(t){return t instanceof Ri?t.changingThisBreaksApplicationSecurity:t}function mh(t,e){let n=yh(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${ri})`)}return n===e}function yh(t){return t instanceof Ri&&t.getTypeName()||null}var TE=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function vh(t){return t=String(t),t.match(TE)?t:"unsafe:"+t}function SE(t,e){return t.createText(e)}function wE(t,e,n){t.setValue(e,n)}function Eh(t,e,n){return t.createElement(e,n)}function Pi(t,e,n,r,o){t.insertBefore(e,n,r,o)}function _h(t,e,n){t.appendChild(e,n)}function Dp(t,e,n,r,o){r!==null?Pi(t,e,n,r,o):_h(t,e,n)}function Ch(t,e,n,r){t.removeChild(null,e,n,r)}function ME(t,e,n){t.setAttribute(e,"style",n)}function AE(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Dh(t,e,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&rE(t,e,r),o!==null&&AE(t,e,o),i!==null&&ME(t,e,i)}var wu=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(wu||{});function Mu(t){let e=bE();return e?e.sanitize(wu.URL,t)||"":mh(t,"URL")?zi(t):vh(dn(t))}function bE(){let t=$();return t&&t[dt].sanitizer}function NE(t,e,n){let r=t.length;for(;;){let o=t.indexOf(e,n);if(o===-1)return o;if(o===0||t.charCodeAt(o-1)<=32){let i=e.length;if(o+i===r||t.charCodeAt(o+i)<=32)return o}n=o+1}}var Ih="ng-template";function xE(t,e,n,r){let o=0;if(r){for(;o<e.length&&typeof e[o]=="string";o+=2)if(e[o]==="class"&&NE(e[o+1].toLowerCase(),n,0)!==-1)return!0}else if(Au(t))return!1;if(o=e.indexOf(1,o),o>-1){let i;for(;++o<e.length&&typeof(i=e[o])=="string";)if(i.toLowerCase()===n)return!0}return!1}function Au(t){return t.type===4&&t.value!==Ih}function RE(t,e,n){let r=t.type===4&&!n?Ih:t.value;return e===r}function PE(t,e,n){let r=4,o=t.attrs,i=o!==null?LE(o):0,s=!1;for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="number"){if(!s&&!Ke(r)&&!Ke(c))return!1;if(s&&Ke(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!RE(t,c,n)||c===""&&e.length===1){if(Ke(r))return!1;s=!0}}else if(r&8){if(o===null||!xE(t,o,c,n)){if(Ke(r))return!1;s=!0}}else{let d=e[++l],f=kE(c,o,Au(t),n);if(f===-1){if(Ke(r))return!1;s=!0;continue}if(d!==""){let p;if(f>i?p="":p=o[f+1].toLowerCase(),r&2&&d!==p){if(Ke(r))return!1;s=!0}}}}return Ke(r)||s}function Ke(t){return(t&1)===0}function kE(t,e,n,r){if(e===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<e.length;){let s=e[o];if(s===t)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let l=e[++o];for(;typeof l=="string";)l=e[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return OE(e,t)}function FE(t,e,n=!1){for(let r=0;r<e.length;r++)if(PE(t,e[r],n))return!0;return!1}function LE(t){for(let e=0;e<t.length;e++){let n=t[e];if(oE(n))return e}return t.length}function OE(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Ip(t,e){return t?":not("+e.trim()+")":e}function VE(t){let e=t[0],n=1,r=2,o="",i=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let l=t[++n];o+="["+s+(l.length>0?'="'+l+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!Ke(s)&&(e+=Ip(i,o),o=""),r=s,i=i||!Ke(r);n++}return o!==""&&(e+=Ip(i,o)),e}function UE(t){return t.map(VE).join(",")}function BE(t){let e=[],n=[],r=1,o=2;for(;r<t.length;){let i=t[r];if(typeof i=="string")o===2?i!==""&&e.push(i,t[++r]):o===8&&n.push(i);else{if(!Ke(o))break;o=i}r++}return n.length&&e.push(1,...n),e}var $e={};function bu(t,e,n,r,o,i,s,l,c,d,f){let p=pe+r,h=p+o,g=HE(p,h),m=typeof d=="function"?d():d;return g[F]={type:t,blueprint:g,template:n,queries:null,viewQuery:l,declTNode:e,data:g.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:f}}function HE(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:$e);return n}function GE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=bu(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Nu(t,e,n,r,o,i,s,l,c,d,f){let p=e.blueprint.slice();return p[We]=o,p[k]=r|4|128|8|64|1024,(d!==null||t&&t[k]&2048)&&(p[k]|=2048),wl(p),p[de]=p[fn]=t,p[ie]=n,p[dt]=s||t&&t[dt],p[X]=l||t&&t[X],p[St]=c||t&&t[St]||null,p[Ue]=i,p[Pr]=yE(),p[qn]=f,p[Cl]=d,p[ke]=e.type==2?t[ke]:p,p}function $E(t,e,n){let r=Je(e,t),o=GE(n),i=t[dt].rendererFactory,s=xu(t,Nu(t,o,null,Th(n),r,e,null,i.createRenderer(r,n),null,null,null));return t[e.index]=s}function Th(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function Sh(t,e,n,r){if(n===0)return-1;let o=e.length;for(let i=0;i<n;i++)e.push(r),t.blueprint.push(r),t.data.push(null);return o}function xu(t,e){return t[Wn]?t[_l][Ve]=e:t[Wn]=e,t[_l]=e,e}function N(t=1){wh(he(),$(),At()+t,!1)}function wh(t,e,n,r){if(!r)if((e[k]&3)===3){let i=t.preOrderCheckHooks;i!==null&&Ti(e,i,n)}else{let i=t.preOrderHooks;i!==null&&Si(e,i,0,n)}Gt(n)}var Wi=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Wi||{});function ou(t,e,n,r){let o=b(null);try{let[i,s,l]=t.inputs[n],c=null;(s&Wi.SignalBased)!==0&&(c=e[i][xe]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):l!==null&&(r=l.call(e,r)),t.setInput!==null?t.setInput(e,c,r,n,i):$p(e,c,i,r)}finally{b(o)}}var yt=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(yt||{}),qE;function Ru(t,e){return qE(t,e)}var Tn=new Set,ji=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(ji||{}),Nt=new R(""),Tp=new Set;function Wt(t){Tp.has(t)||(Tp.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Pu=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}return t})(),Mh=[0,1,2,3],Ah=(()=>{class t{ngZone=M(Me);scheduler=M(Dt);errorHandler=M(ct,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){M(Nt,{optional:!0})}execute(){let n=this.sequences.size>0;n&&J(z.AfterRenderHooksStart),this.executing=!0;for(let r of Mh)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&J(z.AfterRenderHooksEnd)}register(n){let{view:r}=n;r!==void 0?((r[mn]??=[]).push(n),En(r),r[k]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(ji.AFTER_NEXT_RENDER,n):n()}static \u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}return t})(),ki=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,o,i,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=o,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[mn];e&&(this.view[mn]=e.filter(n=>n!==this))}};function ku(t,e){let n=e?.injector??M(ut);return Wt("NgAfterNextRender"),WE(t,n,e,!0)}function zE(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function WE(t,e,n,r){let o=e.get(Pu);o.impl??=e.get(Ah);let i=e.get(Nt,null,{optional:!0}),s=n?.manualCleanup!==!0?e.get(bt):null,l=e.get(Ur,null,{optional:!0}),c=new ki(o.impl,zE(t),l?.view,r,s,i?.snapshot(null));return o.impl.register(c),c}var bh=new R("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:M(_e)})});function Nh(t,e,n){let r=t.get(bh);if(Array.isArray(e))for(let o of e)r.queue.add(o),n?.detachedLeaveAnimationFns?.push(o);else r.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(t)}function jE(t,e){let n=t.get(bh);if(e.detachedLeaveAnimationFns){for(let r of e.detachedLeaveAnimationFns)n.queue.delete(r);e.detachedLeaveAnimationFns=void 0}}function JE(t,e){for(let[n,r]of e)Nh(t,r.animateFns)}function Sp(t,e,n,r){let o=t?.[yn]?.enter;e!==null&&o&&o.has(n.index)&&JE(r,o)}function Yn(t,e,n,r,o,i,s,l){if(o!=null){let c,d=!1;je(o)?c=o:ft(o)&&(d=!0,o=o[We]);let f=Be(o);t===0&&r!==null?(Sp(l,r,i,n),s==null?_h(e,r,f):Pi(e,r,f,s||null,!0)):t===1&&r!==null?(Sp(l,r,i,n),Pi(e,r,f,s||null,!0)):t===2?wp(l,i,n,p=>{Ch(e,f,d,p)}):t===3&&wp(l,i,n,()=>{e.destroyNode(f)}),c!=null&&a_(e,t,n,c,i,r,s)}}function YE(t,e){xh(t,e),e[We]=null,e[Ue]=null}function KE(t,e,n,r,o,i){r[We]=o,r[Ue]=e,Yi(t,r,n,1,o,i)}function xh(t,e){e[dt].changeDetectionScheduler?.notify(9),Yi(t,e,e[X],2,null,null)}function ZE(t){let e=t[Wn];if(!e)return ql(t[F],t);for(;e;){let n=null;if(ft(e))n=e[Wn];else{let r=e[se];r&&(n=r)}if(!n){for(;e&&!e[Ve]&&e!==t;)ft(e)&&ql(e[F],e),e=e[de];e===null&&(e=t),ft(e)&&ql(e[F],e),n=e&&e[Ve]}e=n}}function Fu(t,e){let n=t[Fr],r=n.indexOf(e);n.splice(r,1)}function Ji(t,e){if(vn(e))return;let n=e[X];n.destroyNode&&Yi(t,e,n,3,null,null),ZE(e)}function ql(t,e){if(vn(e))return;let n=b(null);try{e[k]&=-129,e[k]|=256,e[Fe]&&kn(e[Fe]),e_(t,e),XE(t,e),e[F].type===1&&e[X].destroy();let r=e[pn];if(r!==null&&je(e[de])){r!==e[de]&&Fu(r,e);let o=e[gn];o!==null&&o.detachView(t)}nu(e)}finally{b(n)}}function wp(t,e,n,r){let o=t?.[yn];if(o==null||o.leave==null||!o.leave.has(e.index))return r(!1);t&&Tn.add(t),Nh(n,()=>{if(o.leave&&o.leave.has(e.index)){let s=o.leave.get(e.index),l=[];if(s){for(let c=0;c<s.animateFns.length;c++){let d=s.animateFns[c],{promise:f}=d();l.push(f)}o.detachedLeaveAnimationFns=void 0}o.running=Promise.allSettled(l),QE(t,r)}else t&&Tn.delete(t),r(!1)},o)}function QE(t,e){let n=t[yn]?.running;if(n){n.then(()=>{t[yn].running=void 0,Tn.delete(t),e(!0)});return}e(!1)}function XE(t,e){let n=t.cleanup,r=e[zn];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let l=n[s+3];l>=0?r[l]():r[-l].unsubscribe(),s+=2}else{let l=r[n[s+1]];n[s].call(l)}r!==null&&(e[zn]=null);let o=e[Ct];if(o!==null){e[Ct]=null;for(let s=0;s<o.length;s++){let l=o[s];l()}}let i=e[Ot];if(i!==null){e[Ot]=null;for(let s of i)s.destroy()}}function e_(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=e[n[r]];if(!(o instanceof In)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let l=o[i[s]],c=i[s+1];J(z.LifecycleHookStart,l,c);try{c.call(l)}finally{J(z.LifecycleHookEnd,l,c)}}else{J(z.LifecycleHookStart,o,i);try{i.call(o)}finally{J(z.LifecycleHookEnd,o,i)}}}}}function t_(t,e,n){return n_(t,e.parent,n)}function n_(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[We];if(Ht(r)){let{encapsulation:o}=t.data[r.directiveStart+r.componentOffset];if(o===Qe.None||o===Qe.Emulated)return null}return Je(r,n)}function r_(t,e,n){return i_(t,e,n)}function o_(t,e,n){return t.type&40?Je(t,n):null}var i_=o_,Mp;function Lu(t,e,n,r){let o=t_(t,r,e),i=e[X],s=r.parent||e[Ue],l=r_(s,r,e);if(o!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Dp(i,o,n[c],l,!1);else Dp(i,o,n,l,!1);Mp!==void 0&&Mp(i,r,e,n,o)}function Hr(t,e){if(e!==null){let n=e.type;if(n&3)return Je(e,t);if(n&4)return iu(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Hr(t,r);{let o=t[e.index];return je(o)?iu(-1,o):Be(o)}}else{if(n&128)return Hr(t,e.next);if(n&32)return Ru(e,t)()||Be(t[e.index]);{let r=Rh(t,e);if(r!==null){if(Array.isArray(r))return r[0];let o=Vt(t[ke]);return Hr(o,r)}else return Hr(t,e.next)}}}return null}function Rh(t,e){if(e!==null){let r=t[ke][Ue],o=e.projection;return r.projection[o]}return null}function iu(t,e){let n=se+t+1;if(n<e.length){let r=e[n],o=r[F].firstChild;if(o!==null)return Hr(r,o)}return e[Bt]}function Ou(t,e,n,r,o,i,s){for(;n!=null;){let l=r[St];if(n.type===128){n=n.next;continue}let c=r[n.index],d=n.type;if(s&&e===0&&(c&&Zn(Be(c),r),n.flags|=2),!Su(n))if(d&8)Ou(t,e,n.child,r,o,i,!1),Yn(e,t,l,o,c,n,i,r);else if(d&32){let f=Ru(n,r),p;for(;p=f();)Yn(e,t,l,o,p,n,i,r);Yn(e,t,l,o,c,n,i,r)}else d&16?s_(t,e,r,n,o,i):Yn(e,t,l,o,c,n,i,r);n=s?n.projectionNext:n.next}}function Yi(t,e,n,r,o,i){Ou(n,r,t.firstChild,e,o,i,!1)}function s_(t,e,n,r,o,i){let s=n[ke],c=s[Ue].projection[r.projection];if(Array.isArray(c))for(let d=0;d<c.length;d++){let f=c[d];Yn(e,t,n[St],o,f,r,i,n)}else{let d=c,f=s[de];oh(r)&&(d.flags|=128),Ou(t,e,d,f,o,i,!0)}}function a_(t,e,n,r,o,i,s){let l=r[Bt],c=Be(r);l!==c&&Yn(e,t,n,i,l,o,s);for(let d=se;d<r.length;d++){let f=r[d];Yi(f[F],f,t,e,i,l)}}function l_(t,e,n,r,o){if(e)o?t.addClass(n,r):t.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:yt.DashCase;o==null?t.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=yt.Important),t.setStyle(n,r,o,i))}}function Ph(t,e,n,r,o){let i=At(),s=r&2;try{Gt(-1),s&&e.length>pe&&wh(t,e,pe,!1);let l=s?z.TemplateUpdateStart:z.TemplateCreateStart;J(l,o,n),n(r,o)}finally{Gt(i);let l=s?z.TemplateUpdateEnd:z.TemplateCreateEnd;J(l,o,n)}}function Vu(t,e,n){g_(t,e,n),(n.flags&64)===64&&m_(t,e,n)}function Uu(t,e,n=Je){let r=e.localNames;if(r!==null){let o=e.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],l=s===-1?n(e,t):t[s];t[o++]=l}}}function u_(t,e,n,r){let i=r.get(fh,dh)||n===Qe.ShadowDom||n===Qe.ExperimentalIsolatedShadowDom,s=t.selectRootElement(e,i);return c_(s),s}function c_(t){d_(t)}var d_=()=>null;function f_(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function kh(t,e,n,r,o,i){let s=e[F];if(Bu(t,s,e,n,r)){Ht(t)&&h_(e,t.index);return}t.type&3&&(n=f_(n)),p_(t,e,n,r,o,i)}function p_(t,e,n,r,o,i){if(t.type&3){let s=Je(t,e);r=i!=null?i(r,t.value||"",n):r,o.setProperty(s,n,r)}else t.type&12}function h_(t,e){let n=He(e,t);n[k]&16||(n[k]|=64)}function g_(t,e,n){let r=n.directiveStart,o=n.directiveEnd;Ht(n)&&$E(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Ni(n,e);let i=n.initialInputs;for(let s=r;s<o;s++){let l=t.data[s],c=xi(e,t,s,n);if(Zn(c,e),i!==null&&__(e,s-r,c,l,n,i),pt(l)){let d=He(n.index,e);d[ie]=xi(e,t,s,n)}}}function m_(t,e,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=ep();try{Gt(i);for(let l=r;l<o;l++){let c=t.data[l],d=e[l];gi(l),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&y_(c,d)}}finally{Gt(-1),gi(s)}}function y_(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Fh(t,e){let n=t.directiveRegistry,r=null;if(n)for(let o=0;o<n.length;o++){let i=n[o];FE(e,i.selectors,!1)&&(r??=[],pt(i)?r.unshift(i):r.push(i))}return r}function v_(t,e,n,r,o,i){let s=Je(t,e);E_(e[X],s,i,t.value,n,r,o)}function E_(t,e,n,r,o,i,s){if(i==null)t.removeAttribute(e,o,n);else{let l=s==null?dn(i):s(i,r||"",o);t.setAttribute(e,o,l,n)}}function __(t,e,n,r,o,i){let s=i[e];if(s!==null)for(let l=0;l<s.length;l+=2){let c=s[l],d=s[l+1];ou(r,n,c,d)}}function C_(t,e,n,r,o){let i=pe+n,s=e[F],l=o(s,e,t,r,n);e[i]=l,Jn(t,!0);let c=t.type===2;return c?(Dh(e[X],l,t),(Gf()===0||Lr(t))&&Zn(l,e),$f()):Zn(l,e),Ei()&&(!c||!Su(t))&&Lu(s,e,l,t),t}function D_(t){let e=t;return xl()?Yf():(e=e.parent,Jn(e,!1)),e}function I_(t,e){let n=t[St];if(!n)return;let r;try{r=n.get($t,null)}catch{r=null}r?.(e)}function Bu(t,e,n,r,o){let i=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],l=!1;if(s)for(let c=0;c<s.length;c+=2){let d=s[c],f=s[c+1],p=e.data[d];ou(p,n[d],f,o),l=!0}if(i)for(let c of i){let d=n[c],f=e.data[c];ou(f,d,r,o),l=!0}return l}function T_(t,e){let n=He(e,t),r=n[F];S_(r,n);let o=n[We];o!==null&&n[qn]===null&&(n[qn]=ph(o,n[St])),J(z.ComponentStart);try{Hu(r,n,n[ie])}finally{J(z.ComponentEnd,n[ie])}}function S_(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Hu(t,e,n){mi(e);try{let r=t.viewQuery;r!==null&&ru(1,r,n);let o=t.template;o!==null&&Ph(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[gn]?.finishViewCreation(t),t.staticContentQueries&&hh(t,e),t.staticViewQueries&&ru(2,t.viewQuery,n);let i=t.components;i!==null&&w_(e,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[k]&=-5,yi()}}function w_(t,e){for(let n=0;n<e.length;n++)T_(t,e[n])}function Ki(t,e,n,r){let o=b(null);try{let i=e.tView,l=t[k]&4096?4096:16,c=Nu(t,i,n,l,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=t[e.index];c[pn]=d;let f=t[gn];return f!==null&&(c[gn]=f.createEmbeddedView(i)),Hu(i,c,n),c}finally{b(o)}}function qr(t,e){return!e||e.firstChild===null||oh(t)}function zr(t,e,n,r,o=!1){for(;n!==null;){if(n.type===128){n=o?n.projectionNext:n.next;continue}let i=e[n.index];i!==null&&r.push(Be(i)),je(i)&&Lh(i,r);let s=n.type;if(s&8)zr(t,e,n.child,r);else if(s&32){let l=Ru(n,e),c;for(;c=l();)r.push(c)}else if(s&16){let l=Rh(e,n);if(Array.isArray(l))r.push(...l);else{let c=Vt(e[ke]);zr(c[F],c,l,r,!0)}}n=o?n.projectionNext:n.next}return r}function Lh(t,e){for(let n=se;n<t.length;n++){let r=t[n],o=r[F].firstChild;o!==null&&zr(r[F],r,o,e)}t[Bt]!==t[We]&&e.push(t[Bt])}function Oh(t){if(t[mn]!==null){for(let e of t[mn])e.impl.addSequence(e);t[mn].length=0}}var Vh=[];function M_(t){return t[Fe]??A_(t)}function A_(t){let e=Vh.pop()??Object.create(N_);return e.lView=t,e}function b_(t){t.lView[Fe]!==t&&(t.lView=null,Vh.push(t))}var N_=Q(j({},Pn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{En(t.lView)},consumerOnSignalRead(){this.lView[Fe]=this}});function x_(t){let e=t[Fe]??Object.create(R_);return e.lView=t,e}var R_=Q(j({},Pn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Vt(t.lView);for(;e&&!Uh(e[F]);)e=Vt(e);e&&Ml(e)},consumerOnSignalRead(){this.lView[Fe]=this}});function Uh(t){return t.type!==2}function Bh(t){if(t[Ot]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Ot])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[k]&8192)}}var P_=100;function Hh(t,e=0){let r=t[dt].rendererFactory,o=!1;o||r.begin?.();try{k_(t,e)}finally{o||r.end?.()}}function k_(t,e){let n=Rl();try{Tr(!0),su(t,e);let r=0;for(;Vr(t);){if(r===P_)throw new P(103,!1);r++,su(t,1)}}finally{Tr(n)}}function F_(t,e,n,r){if(vn(e))return;let o=e[k],i=!1,s=!1;mi(e);let l=!0,c=null,d=null;i||(Uh(t)?(d=M_(e),c=yr(d)):wo()===null?(l=!1,d=x_(e),c=yr(d)):e[Fe]&&(kn(e[Fe]),e[Fe]=null));try{wl(e),Zf(t.bindingStartIndex),n!==null&&Ph(t,e,n,2,r);let f=(o&3)===3;if(!i)if(f){let g=t.preOrderCheckHooks;g!==null&&Ti(e,g,null)}else{let g=t.preOrderHooks;g!==null&&Si(e,g,0,null),Gl(e,0)}if(s||L_(e),Bh(e),Gh(e,0),t.contentQueries!==null&&hh(t,e),!i)if(f){let g=t.contentCheckHooks;g!==null&&Ti(e,g)}else{let g=t.contentHooks;g!==null&&Si(e,g,1),Gl(e,1)}V_(t,e);let p=t.components;p!==null&&qh(e,p,0);let h=t.viewQuery;if(h!==null&&ru(2,h,r),!i)if(f){let g=t.viewCheckHooks;g!==null&&Ti(e,g)}else{let g=t.viewHooks;g!==null&&Si(e,g,2),Gl(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[di]){for(let g of e[di])g();e[di]=null}i||(Oh(e),e[k]&=-73)}catch(f){throw i||En(e),f}finally{d!==null&&(Mo(d,c),l&&b_(d)),yi()}}function Gh(t,e){for(let n=sh(t);n!==null;n=ah(n))for(let r=se;r<n.length;r++){let o=n[r];$h(o,e)}}function L_(t){for(let e=sh(t);e!==null;e=ah(e)){if(!(e[k]&2))continue;let n=e[Fr];for(let r=0;r<n.length;r++){let o=n[r];Ml(o)}}}function O_(t,e,n){J(z.ComponentStart);let r=He(e,t);try{$h(r,n)}finally{J(z.ComponentEnd,r[ie])}}function $h(t,e){fi(t)&&su(t,e)}function su(t,e){let r=t[F],o=t[k],i=t[Fe],s=!!(e===0&&o&16);if(s||=!!(o&64&&e===0),s||=!!(o&1024),s||=!!(i?.dirty&&Ao(i)),s||=!1,i&&(i.dirty=!1),t[k]&=-9217,s)F_(r,t,r.template,t[ie]);else if(o&8192){let l=b(null);try{Bh(t),Gh(t,1);let c=r.components;c!==null&&qh(t,c,1),Oh(t)}finally{b(l)}}}function qh(t,e,n){for(let r=0;r<e.length;r++)O_(t,e[r],n)}function V_(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)Gt(~o);else{let i=o,s=n[++r],l=n[++r];Xf(s,i);let c=e[i];J(z.HostBindingsUpdateStart,c);try{l(2,c)}finally{J(z.HostBindingsUpdateEnd,c)}}}}finally{Gt(-1)}}function Gu(t,e){let n=Rl()?64:1088;for(t[dt].changeDetectionScheduler?.notify(e);t;){t[k]|=n;let r=Vt(t);if(jn(t)&&!r)return t;t=r}return null}function zh(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Wh(t,e){let n=se+e;if(n<t.length)return t[n]}function Zi(t,e,n,r=!0){let o=e[F];if(U_(o,e,t,n),r){let s=iu(n,t),l=e[X],c=l.parentNode(t[Bt]);c!==null&&KE(o,t[Ue],l,e,c,s)}let i=e[qn];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function jh(t,e){let n=Wr(t,e);return n!==void 0&&Ji(n[F],n),n}function Wr(t,e){if(t.length<=se)return;let n=se+e,r=t[n];if(r){let o=r[pn];o!==null&&o!==t&&Fu(o,r),e>0&&(t[n-1][Ve]=r[Ve]);let i=Ar(t,se+e);YE(r[F],r);let s=i[gn];s!==null&&s.detachView(i[F]),r[de]=null,r[Ve]=null,r[k]&=-129}return r}function U_(t,e,n,r){let o=se+r,i=n.length;r>0&&(n[o-1][Ve]=e),r<i-se?(e[Ve]=n[o],hl(n,se+r,e)):(n.push(e),e[Ve]=null),e[de]=n;let s=e[pn];s!==null&&n!==s&&Jh(s,e);let l=e[gn];l!==null&&l.insertView(t),pi(e),e[k]|=128}function Jh(t,e){let n=t[Fr],r=e[de];if(ft(r))t[k]|=2;else{let o=r[de][ke];e[ke]!==o&&(t[k]|=2)}n===null?t[Fr]=[e]:n.push(e)}var qt=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[F];return zr(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[ie]}set context(e){this._lView[ie]=e}get destroyed(){return vn(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[de];if(je(e)){let n=e[kr],r=n?n.indexOf(this):-1;r>-1&&(Wr(e,r),Ar(n,r))}this._attachedToViewContainer=!1}Ji(this._lView[F],this._lView)}onDestroy(e){Al(this._lView,e)}markForCheck(){Gu(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[k]&=-129}reattach(){pi(this._lView),this._lView[k]|=128}detectChanges(){this._lView[k]|=1024,Hh(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=jn(this._lView),n=this._lView[pn];n!==null&&!e&&Fu(n,this._lView),xh(this._lView[F],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=e;let n=jn(this._lView),r=this._lView[pn];r!==null&&!n&&Jh(r,this._lView),pi(this._lView)}};var Qi=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=B_;constructor(n,r,o){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){let i=Ki(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new qt(i)}}return t})();function B_(){return H_(Ae(),$())}function H_(t,e){return t.type&4?new Qi(e,t,Hi(t,e)):null}function Xi(t,e,n,r,o){let i=t.data[e];if(i===null)i=G_(t,e,n,r,o),Qf()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=Jf();i.injectorIndex=s===null?-1:s.injectorIndex}return Jn(i,!0),i}function G_(t,e,n,r,o){let i=Nl(),s=xl(),l=s?i:i&&i.parent,c=t.data[e]=q_(t,l,n,e,r,o);return $_(t,c,i,s),c}function $_(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function q_(t,e,n,r,o,i){let s=e?e.injectorIndex:-1,l=0;return zf()&&(l|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:l,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function z_(t){let e=t[Dl]??[],r=t[de][X],o=[];for(let i of e)i.data[ch]!==void 0?o.push(i):W_(i,r);t[Dl]=o}function W_(t,e){let n=0,r=t.firstChild;if(r){let o=t.data[uh];for(;n<o;){let i=r.nextSibling;Ch(e,r,!1),r=i,n++}}}var j_=()=>null,J_=()=>null;function au(t,e){return j_(t,e)}function Yh(t,e,n){return J_(t,e,n)}var Kh=class{},es=class{},lu=class{resolveComponentFactory(e){throw new P(917,!1)}},ts=class{static NULL=new lu},Sn=class{},Mn=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>Y_()}return t})();function Y_(){let t=$(),e=Ae(),n=He(e.index,t);return(ft(n)?n:t)[X]}var Zh=(()=>{class t{static \u0275prov=H({token:t,providedIn:"root",factory:()=>null})}return t})();var wi={},uu=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let o=this.injector.get(e,wi,r);return o!==wi||n===wi?o:this.parentInjector.get(e,n,r)}};function Ap(t,e,n){let r=n?t.styles:null,o=n?t.classes:null,i=0;if(e!==null)for(let s=0;s<e.length;s++){let l=e[s];if(typeof l=="number")i=l;else if(i==1)o=oi(o,l);else if(i==2){let c=l,d=e[++s];r=oi(r,c+": "+d+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=o:t.classesWithoutHost=o}function K(t,e=0){let n=$();if(n===null)return B(t,e);let r=Ae();return th(r,n,fe(t),e)}function Qh(t,e,n,r,o){let i=r===null?null:{"":-1},s=o(t,n);if(s!==null){let l=s,c=null,d=null;for(let f of s)if(f.resolveHostDirectives!==null){[l,c,d]=f.resolveHostDirectives(s);break}Q_(t,e,n,l,i,c,d)}i!==null&&r!==null&&K_(n,r,i)}function K_(t,e,n){let r=t.localNames=[];for(let o=0;o<e.length;o+=2){let i=n[e[o+1]];if(i==null)throw new P(-301,!1);r.push(e[o],i)}}function Z_(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Q_(t,e,n,r,o,i,s){let l=r.length,c=null;for(let h=0;h<l;h++){let g=r[h];c===null&&pt(g)&&(c=g,Z_(t,n,h)),eu(Ni(n,e),t,g.type)}oC(n,t.data.length,l),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let h=0;h<l;h++){let g=r[h];g.providersResolver&&g.providersResolver(g)}let d=!1,f=!1,p=Sh(t,e,l,null);l>0&&(n.directiveToIndex=new Map);for(let h=0;h<l;h++){let g=r[h];if(n.mergedAttrs=$r(n.mergedAttrs,g.hostAttrs),eC(t,n,e,p,g),rC(p,g,o),s!==null&&s.has(g)){let[v,E]=s.get(g);n.directiveToIndex.set(g.type,[p,v+n.directiveStart,E+n.directiveStart])}else(i===null||!i.has(g))&&n.directiveToIndex.set(g.type,p);g.contentQueries!==null&&(n.flags|=4),(g.hostBindings!==null||g.hostAttrs!==null||g.hostVars!==0)&&(n.flags|=64);let m=g.type.prototype;!d&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),d=!0),!f&&(m.ngOnChanges||m.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),f=!0),p++}X_(t,n,i)}function X_(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let o=t.data[r];if(n===null||!n.has(o))bp(0,e,o,r),bp(1,e,o,r),xp(e,r,!1);else{let i=n.get(o);Np(0,e,i,r),Np(1,e,i,r),xp(e,r,!0)}}}function bp(t,e,n,r){let o=t===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[i]??=[],s[i].push(r),Xh(e,i)}}function Np(t,e,n,r){let o=t===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],l;t===0?l=e.hostDirectiveInputs??={}:l=e.hostDirectiveOutputs??={},l[s]??=[],l[s].push(r,i),Xh(e,s)}}function Xh(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function xp(t,e,n){let{attrs:r,inputs:o,hostDirectiveInputs:i}=t;if(r===null||!n&&o===null||n&&i===null||Au(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,l=0;for(;l<r.length;){let c=r[l];if(c===0){l+=4;continue}else if(c===5){l+=2;continue}else if(typeof c=="number")break;if(!n&&o.hasOwnProperty(c)){let d=o[c];for(let f of d)if(f===e){s??=[],s.push(c,r[l+1]);break}}else if(n&&i.hasOwnProperty(c)){let d=i[c];for(let f=0;f<d.length;f+=2)if(d[f]===e){s??=[],s.push(d[f+1],r[l+1]);break}}l+=2}t.initialInputs??=[],t.initialInputs.push(s)}function eC(t,e,n,r,o){t.data[r]=o;let i=o.factory||(o.factory=sn(o.type,!0)),s=new In(i,pt(o),K,null);t.blueprint[r]=s,n[r]=s,tC(t,e,r,Sh(t,n,o.hostVars,$e),o)}function tC(t,e,n,r,o){let i=o.hostBindings;if(i){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let l=~e.index;nC(s)!=l&&s.push(l),s.push(n,r,i)}}function nC(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function rC(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;pt(e)&&(n[""]=t)}}function oC(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function eg(t,e,n,r,o,i,s,l){let c=e[F],d=c.consts,f=ht(d,s),p=Xi(c,t,n,r,f);return i&&Qh(c,e,p,ht(d,l),o),p.mergedAttrs=$r(p.mergedAttrs,p.attrs),p.attrs!==null&&Ap(p,p.attrs,!1),p.mergedAttrs!==null&&Ap(p,p.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,p),p}function tg(t,e){jp(t,e),Il(e)&&t.queries.elementEnd(e)}function vt(t,e,n){if(n===$e)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function iC(t,e,n,r){let o=vt(t,e,n);return vt(t,e+1,r)||o}function zl(t,e,n){return function r(o){let i=Ht(t)?He(t.index,e):e;Gu(i,5);let s=e[ie],l=Rp(e,s,n,o),c=r.__ngNextListenerFn__;for(;c;)l=Rp(e,s,c,o)&&l,c=c.__ngNextListenerFn__;return l}}function Rp(t,e,n,r){let o=b(null);try{return J(z.OutputStart,e,n),n(r)!==!1}catch(i){return I_(t,i),!1}finally{J(z.OutputEnd,e,n),b(o)}}function sC(t,e,n,r,o,i,s,l){let c=Lr(t),d=!1,f=null;if(!r&&c&&(f=lC(e,n,i,t.index)),f!==null){let p=f.__ngLastListenerFn__||f;p.__ngNextListenerFn__=s,f.__ngLastListenerFn__=s,d=!0}else{let p=Je(t,n),h=r?r(p):p;DE(n,h,i,l);let g=o.listen(h,i,l);if(!aC(i)){let m=r?v=>r(Be(v[t.index])):t.index;ng(m,e,n,i,l,g,!1)}}return d}function aC(t){return t.startsWith("animation")||t.startsWith("transition")}function lC(t,e,n,r){let o=t.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let l=e[zn],c=o[i+2];return l&&l.length>c?l[c]:null}typeof s=="string"&&(i+=2)}return null}function ng(t,e,n,r,o,i,s){let l=e.firstCreatePass?Hf(e):null,c=Bf(n),d=c.length;c.push(o,i),l&&l.push(r,t,d,(d+1)*(s?-1:1))}function Pp(t,e,n,r,o,i){let s=e[n],l=e[F],d=l.data[n].outputs[r],p=s[d].subscribe(i);ng(t.index,l,e,o,i,p,!0)}var cu=Symbol("BINDING");var du=class extends ts{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=cn(e);return new jr(n,this.ngModule)}};function uC(t){return Object.keys(t).map(e=>{let[n,r,o]=t[e],i={propName:n,templateName:e,isSignal:(r&Wi.SignalBased)!==0};return o&&(i.transform=o),i})}function cC(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function dC(t,e,n){let r=e instanceof _e?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new uu(n,r):n}function fC(t){let e=t.get(Sn,null);if(e===null)throw new P(407,!1);let n=t.get(Zh,null),r=t.get(Dt,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function pC(t,e){let n=rg(t);return Eh(e,n,n==="svg"?Tl:n==="math"?Lf:null)}function rg(t){return(t.selectors[0][0]||"div").toLowerCase()}var jr=class extends es{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=uC(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=cC(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=UE(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,o,i,s){J(z.DynamicComponentStart);let l=b(null);try{let c=this.componentDef,d=hC(r,c,s,i),f=dC(c,o||this.ngModule,e),p=fC(f),h=p.rendererFactory.createRenderer(null,c),g=r?u_(h,r,c.encapsulation,f):pC(c,h),m=s?.some(kp)||i?.some(y=>typeof y!="function"&&y.bindings.some(kp)),v=Nu(null,d,null,512|Th(c),null,null,p,h,f,null,ph(g,f,!0));v[pe]=g,mi(v);let E=null;try{let y=eg(pe,v,2,"#host",()=>d.directiveRegistry,!0,0);Dh(h,g,y),Zn(g,v),Vu(d,v,y),gh(d,y,v),tg(d,y),n!==void 0&&mC(y,this.ngContentSelectors,n),E=He(y.index,v),v[ie]=E[ie],Hu(d,v,null)}catch(y){throw E!==null&&nu(E),nu(v),y}finally{J(z.DynamicComponentEnd),yi()}return new Fi(this.componentType,v,!!m)}finally{b(l)}}};function hC(t,e,n,r){let o=t?["ng-version","21.0.6"]:BE(e.selectors[0]),i=null,s=null,l=0;if(n)for(let f of n)l+=f[cu].requiredVars,f.create&&(f.targetIdx=0,(i??=[]).push(f)),f.update&&(f.targetIdx=0,(s??=[]).push(f));if(r)for(let f=0;f<r.length;f++){let p=r[f];if(typeof p!="function")for(let h of p.bindings){l+=h[cu].requiredVars;let g=f+1;h.create&&(h.targetIdx=g,(i??=[]).push(h)),h.update&&(h.targetIdx=g,(s??=[]).push(h))}}let c=[e];if(r)for(let f of r){let p=typeof f=="function"?f:f.type,h=cl(p);c.push(h)}return bu(0,null,gC(i,s),1,l,c,null,null,null,[o],null)}function gC(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function kp(t){let e=t[cu].kind;return e==="input"||e==="twoWay"}var Fi=class extends Kh{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Or(n[F],pe),this.location=Hi(this._tNode,n),this.instance=He(this._tNode.index,n)[ie],this.hostView=this.changeDetectorRef=new qt(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView,i=Bu(r,o[F],o,e,n);this.previousInputValues.set(e,n);let s=He(r.index,o);Gu(s,1)}get injector(){return new Dn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function mC(t,e,n){let r=t.projection=[];for(let o=0;o<e.length;o++){let i=n[o];r.push(i!=null&&i.length?Array.from(i):null)}}var ns=(()=>{class t{static __NG_ELEMENT_ID__=yC}return t})();function yC(){let t=Ae();return EC(t,$())}var vC=ns,og=class extends vC{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Hi(this._hostTNode,this._hostLView)}get injector(){return new Dn(this._hostTNode,this._hostLView)}get parentInjector(){let e=Du(this._hostTNode,this._hostLView);if(Yp(e)){let n=bi(e,this._hostLView),r=Ai(e),o=n[F].data[r+8];return new Dn(o,n)}else return new Dn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Fp(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-se}createEmbeddedView(e,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=au(this._lContainer,e.ssrId),l=e.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(l,o,qr(this._hostTNode,s)),l}createComponent(e,n,r,o,i,s,l){let c=e&&!Yv(e),d;if(c)d=n;else{let E=n||{};d=E.index,r=E.injector,o=E.projectableNodes,i=E.environmentInjector||E.ngModuleRef,s=E.directives,l=E.bindings}let f=c?e:new jr(cn(e)),p=r||this.parentInjector;if(!i&&f.ngModule==null){let y=(c?p:this.parentInjector).get(_e,null);y&&(i=y)}let h=cn(f.componentType??{}),g=au(this._lContainer,h?.id??null),m=g?.firstChild??null,v=f.create(p,o,m,i,s,l);return this.insertImpl(v.hostView,d,qr(this._hostTNode,g)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let o=e._lView;if(Of(o)){let l=this.indexOf(e);if(l!==-1)this.detach(l);else{let c=o[de],d=new og(c,c[Ue],c[de]);d.detach(d.indexOf(e))}}let i=this._adjustIndex(n),s=this._lContainer;return Zi(s,o,i,r),e.attachToViewContainerRef(),hl(Wl(s),i,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Fp(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Wr(this._lContainer,n);r&&(Ar(Wl(this._lContainer),n),Ji(r[F],r))}detach(e){let n=this._adjustIndex(e,-1),r=Wr(this._lContainer,n);return r&&Ar(Wl(this._lContainer),n)!=null?new qt(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Fp(t){return t[kr]}function Wl(t){return t[kr]||(t[kr]=[])}function EC(t,e){let n,r=e[t.index];return je(r)?n=r:(n=zh(r,e,null,t),e[t.index]=n,xu(e,n)),CC(n,e,t,r),new og(n,t,e)}function _C(t,e){let n=t[X],r=n.createComment(""),o=Je(e,t),i=n.parentNode(o);return Pi(n,i,r,n.nextSibling(o),!1),r}var CC=TC,DC=()=>!1;function IC(t,e,n){return DC(t,e,n)}function TC(t,e,n,r){if(t[Bt])return;let o;n.type&8?o=Be(r):o=_C(e,n),t[Bt]=o}var Jr=class{};var Yr=class extends Jr{injector;componentFactoryResolver=new du(this);instance=null;constructor(e){super();let n=new ln([...e.providers,{provide:Jr,useValue:this},{provide:ts,useValue:this.componentFactoryResolver}],e.parent||Rr(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ig(t,e,n=null){return new Yr({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var SC=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=yl(!1,n.type),o=r.length>0?ig([r],this._injector,""):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=H({token:t,providedIn:"environment",factory:()=>new t(B(_e))})}return t})();function $u(t){return Zr(()=>{let e=sg(t),n=Q(j({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Iu.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?o=>o.get(SC).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Qe.Emulated,styles:t.styles||Ee,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Wt("NgStandalone"),ag(n);let r=t.dependencies;return n.directiveDefs=Lp(r,wC),n.pipeDefs=Lp(r,Tf),n.id=bC(n),n})}function wC(t){return cn(t)||cl(t)}function jt(t){return Zr(()=>({type:t.type,bootstrap:t.bootstrap||Ee,declarations:t.declarations||Ee,imports:t.imports||Ee,exports:t.exports||Ee,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function MC(t,e){if(t==null)return Ut;let n={};for(let r in t)if(t.hasOwnProperty(r)){let o=t[r],i,s,l,c;Array.isArray(o)?(l=o[0],i=o[1],s=o[2]??i,c=o[3]||null):(i=o,s=o,l=Wi.None,c=null),n[i]=[r,l,c],e[i]=s}return n}function AC(t){if(t==null)return Ut;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Le(t){return Zr(()=>{let e=sg(t);return ag(e),e})}function sg(t){let e={};return{type:t.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Ut,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Ee,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:MC(t.inputs,e),outputs:AC(t.outputs),debugInfo:null}}function ag(t){t.features?.forEach(e=>e(t))}function Lp(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let o of n){let i=e(o);i!==null&&r.push(i)}return r}:null}function bC(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let i of r.join("|"))e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function NC(t){return Object.getPrototypeOf(t.prototype).constructor}function xt(t){let e=NC(t.type),n=!0,r=[t];for(;e;){let o;if(pt(t))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new P(903,!1);o=e.\u0275dir}if(o){if(n){r.push(o);let s=t;s.inputs=jl(t.inputs),s.declaredInputs=jl(t.declaredInputs),s.outputs=jl(t.outputs);let l=o.hostBindings;l&&FC(t,l);let c=o.viewQuery,d=o.contentQueries;if(c&&PC(t,c),d&&kC(t,d),xC(t,o),If(t.outputs,o.outputs),pt(o)&&o.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let l=i[s];l&&l.ngInherit&&l(t),l===xt&&(n=!1)}}e=Object.getPrototypeOf(e)}RC(r)}function xC(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function RC(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let o=t[r];o.hostVars=e+=o.hostVars,o.hostAttrs=$r(o.hostAttrs,n=$r(n,o.hostAttrs))}}function jl(t){return t===Ut?{}:t===Ee?[]:t}function PC(t,e){let n=t.viewQuery;n?t.viewQuery=(r,o)=>{e(r,o),n(r,o)}:t.viewQuery=e}function kC(t,e){let n=t.contentQueries;n?t.contentQueries=(r,o,i)=>{e(r,o,i),n(r,o,i)}:t.contentQueries=e}function FC(t,e){let n=t.hostBindings;n?t.hostBindings=(r,o)=>{e(r,o),n(r,o)}:t.hostBindings=e}function lg(t,e,n,r,o,i,s,l){if(n.firstCreatePass){t.mergedAttrs=$r(t.mergedAttrs,t.attrs);let f=t.tView=bu(2,t,o,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),f.queries=n.queries.embeddedTView(t))}l&&(t.flags|=l),Jn(t,!1);let c=OC(n,e,t,r);Ei()&&Lu(n,e,c,t),Zn(c,e);let d=zh(c,e,c,t);e[r+pe]=d,xu(e,d),IC(d,t,e)}function LC(t,e,n,r,o,i,s,l,c,d,f){let p=n+pe,h;return e.firstCreatePass?(h=Xi(e,p,4,s||null,l||null),bl()&&Qh(e,t,h,ht(e.consts,d),Fh),jp(e,h)):h=e.data[p],lg(h,t,e,n,r,o,i,c),Lr(h)&&Vu(e,t,h),d!=null&&Uu(t,h,f),h}function Li(t,e,n,r,o,i,s,l,c,d,f){let p=n+pe,h;if(e.firstCreatePass){if(h=Xi(e,p,4,s||null,l||null),d!=null){let g=ht(e.consts,d);h.localNames=[];for(let m=0;m<g.length;m+=2)h.localNames.push(g[m],-1)}}else h=e.data[p];return lg(h,t,e,n,r,o,i,c),d!=null&&Uu(t,h,f),h}function eo(t,e,n,r,o,i,s,l){let c=$(),d=he(),f=ht(d.consts,i);return LC(c,d,t,e,n,r,o,f,void 0,s,l),eo}var OC=VC;function VC(t,e,n,r){return _i(!0),e[X].createComment("")}function ug(t){return typeof t=="function"&&t[xe]!==void 0}function qu(t){return ug(t)&&typeof t.set=="function"}var zu=new R("");function Xn(t){return!!t&&typeof t.then=="function"}function Wu(t){return!!t&&typeof t.subscribe=="function"}var cg=new R("");var ju=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=M(cg,{optional:!0})??[];injector=M(ut);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let i=$n(this.injector,o);if(Xn(i))n.push(i);else if(Wu(i)){let s=new Promise((l,c)=>{i.subscribe({complete:l,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),dg=new R("");function fg(){Aa(()=>{let t="";throw new P(600,t)})}function pg(t){return t.isBoundToModule}var UC=10;var er=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=M($t);afterRenderManager=M(Pu);zonelessEnabled=M(Br);rootEffectScheduler=M(Di);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new at;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=M(Cn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(we(n=>!n))}constructor(){M(Nt,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=M(_e);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,o=ut.NULL){return this._injector.get(Me).run(()=>{J(z.BootstrapComponentStart);let s=n instanceof es;if(!this._injector.get(ju).done){let m="";throw new P(405,m)}let c;s?c=n:c=this._injector.get(ts).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let d=pg(c)?void 0:this._injector.get(Jr),f=r||c.selector,p=c.create(o,[],f,d),h=p.location.nativeElement,g=p.injector.get(zu,null);return g?.registerApplication(h),p.onDestroy(()=>{this.detachView(p.hostView),Gr(this.components,p),g?.unregisterApplication(h)}),this._loadComponent(p),J(z.BootstrapComponentEnd,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){J(z.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(ji.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw J(z.ChangeDetectionEnd),new P(101,!1);let n=b(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,b(n),this.afterTick.next(),J(z.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Sn,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<UC;){J(z.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{J(z.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!r&&!Vr(o))continue;let i=r&&!this.zonelessEnabled?0:1;Hh(o,i),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Vr(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Gr(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(n),this._injector.get(dg,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Gr(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new P(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Gr(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function to(t,e,n,r){let o=$(),i=_n();if(vt(o,i,e)){let s=he(),l=vi();v_(l,o,t,e,n,r)}return to}var Sk=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var fu=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),o=Math.max(e,n),i=this.detach(o);if(o-r>1){let s=this.detach(r);this.attach(r,i),this.attach(o,s)}else this.attach(r,i)}move(e,n){this.attach(n,this.detach(e))}};function Jl(t,e,n,r,o){return t===n&&Object.is(e,r)?1:Object.is(o(t,e),o(n,r))?-1:0}function BC(t,e,n,r){let o,i,s=0,l=t.length-1,c=void 0;if(Array.isArray(e)){b(r);let d=e.length-1;for(b(null);s<=l&&s<=d;){let f=t.at(s),p=e[s],h=Jl(s,f,s,p,n);if(h!==0){h<0&&t.updateValue(s,p),s++;continue}let g=t.at(l),m=e[d],v=Jl(l,g,d,m,n);if(v!==0){v<0&&t.updateValue(l,m),l--,d--;continue}let E=n(s,f),y=n(l,g),D=n(s,p);if(Object.is(D,y)){let I=n(d,m);Object.is(I,E)?(t.swap(s,l),t.updateValue(l,m),d--,l--):t.move(l,s),t.updateValue(s,p),s++;continue}if(o??=new Oi,i??=Vp(t,s,l,n),pu(t,o,s,D))t.updateValue(s,p),s++,l++;else if(i.has(D))o.set(E,t.detach(s)),l--;else{let I=t.create(s,e[s]);t.attach(s,I),s++,l++}}for(;s<=d;)Op(t,o,n,s,e[s]),s++}else if(e!=null){b(r);let d=e[Symbol.iterator]();b(null);let f=d.next();for(;!f.done&&s<=l;){let p=t.at(s),h=f.value,g=Jl(s,p,s,h,n);if(g!==0)g<0&&t.updateValue(s,h),s++,f=d.next();else{o??=new Oi,i??=Vp(t,s,l,n);let m=n(s,h);if(pu(t,o,s,m))t.updateValue(s,h),s++,l++,f=d.next();else if(!i.has(m))t.attach(s,t.create(s,h)),s++,l++,f=d.next();else{let v=n(s,p);o.set(v,t.detach(s)),l--}}}for(;!f.done;)Op(t,o,n,t.length,f.value),f=d.next()}for(;s<=l;)t.destroy(t.detach(l--));o?.forEach(d=>{t.destroy(d)})}function pu(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function Op(t,e,n,r,o){if(pu(t,e,r,n(r,o)))t.updateValue(r,o);else{let i=t.create(r,o);t.attach(r,i)}}function Vp(t,e,n,r){let o=new Set;for(let i=e;i<=n;i++)o.add(r(i,t.at(i)));return o}var Oi=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let o=this._vMap;for(;o.has(r);)r=o.get(r);o.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let o=this._vMap;for(;o.has(r);)r=o.get(r),e(r,n)}}};function Xe(t,e,n,r,o,i,s,l){Wt("NgControlFlow");let c=$(),d=he(),f=ht(d.consts,i);return Li(c,d,t,e,n,r,o,f,256,s,l),Ju}function Ju(t,e,n,r,o,i,s,l){Wt("NgControlFlow");let c=$(),d=he(),f=ht(d.consts,i);return Li(c,d,t,e,n,r,o,f,512,s,l),Ju}function et(t,e){Wt("NgControlFlow");let n=$(),r=_n(),o=n[r]!==$e?n[r]:-1,i=o!==-1?Vi(n,pe+o):void 0,s=0;if(vt(n,r,t)){let l=b(null);try{if(i!==void 0&&jh(i,s),t!==-1){let c=pe+t,d=Vi(n,c),f=yu(n[F],c),p=Yh(d,f,n),h=Ki(n,f,e,{dehydratedView:p});Zi(d,h,s,qr(f,p))}}finally{b(l)}}else if(i!==void 0){let l=Wh(i,s);l!==void 0&&(l[ie]=e)}}var hu=class{lContainer;$implicit;$index;constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-se}};function Yu(t){return t}function Ku(t,e){return e}var gu=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function tr(t,e,n,r,o,i,s,l,c,d,f,p,h){Wt("NgControlFlow");let g=$(),m=he(),v=c!==void 0,E=$(),y=l?s.bind(E[ke][ie]):s,D=new gu(v,y);E[pe+t]=D,Li(g,m,t+1,e,n,r,o,ht(m.consts,i),256),v&&Li(g,m,t+2,c,d,f,p,ht(m.consts,h),512)}var mu=class extends fu{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-se}at(e){return this.getLView(e)[ie].$implicit}attach(e,n){let r=n[qn];this.needsIndexUpdate||=e!==this.length,Zi(this.lContainer,n,e,qr(this.templateTNode,r)),HC(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,GC(this.lContainer,e),$C(this.lContainer,e)}create(e,n){let r=au(this.lContainer,this.templateTNode.tView.ssrId);return Ki(this.hostLView,this.templateTNode,new hu(this.lContainer,n,e),{dehydratedView:r})}destroy(e){Ji(e[F],e)}updateValue(e,n){this.getLView(e)[ie].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[ie].$index=e}getLView(e){return qC(this.lContainer,e)}};function nr(t){let e=b(null),n=At();try{let r=$(),o=r[F],i=r[n],s=n+1,l=Vi(r,s);if(i.liveCollection===void 0){let d=yu(o,s);i.liveCollection=new mu(l,r,d)}else i.liveCollection.reset();let c=i.liveCollection;if(BC(c,t,i.trackByFn,e),c.updateIndexes(),i.hasEmptyBlock){let d=_n(),f=c.length===0;if(vt(r,d,f)){let p=n+2,h=Vi(r,p);if(f){let g=yu(o,p),m=Yh(h,g,r),v=Ki(r,g,void 0,{dehydratedView:m});Zi(h,v,0,qr(g,m))}else o.firstUpdatePass&&z_(h),jh(h,0)}}}finally{b(e)}}function Vi(t,e){return t[e]}function HC(t,e){if(t.length<=se)return;let n=se+e,r=t[n],o=r?r[yn]:void 0;if(r&&o&&o.detachedLeaveAnimationFns&&o.detachedLeaveAnimationFns.length>0){let i=r[St];jE(i,o),Tn.delete(r),o.detachedLeaveAnimationFns=void 0}}function GC(t,e){if(t.length<=se)return;let n=se+e,r=t[n],o=r?r[yn]:void 0;o&&o.leave&&o.leave.size>0&&(o.detachedLeaveAnimationFns=[])}function $C(t,e){return Wr(t,e)}function qC(t,e){return Wh(t,e)}function yu(t,e){return Or(t,e)}function Et(t,e,n){let r=$(),o=_n();if(vt(r,o,e)){let i=he(),s=vi();kh(s,r,t,e,r[X],n)}return Et}function vu(t,e,n,r,o){Bu(e,t,n,o?"class":"style",r)}function _(t,e,n,r){let o=$(),i=o[F],s=t+pe,l=i.firstCreatePass?eg(s,o,2,e,Fh,bl(),n,r):i.data[s];if(C_(l,o,t,e,zC),Lr(l)){let c=o[F];Vu(c,o,l),gh(c,l,o)}return r!=null&&Uu(o,l),_}function C(){let t=he(),e=Ae(),n=D_(e);return t.firstCreatePass&&tg(t,n),Wf(n)&&jf(),qf(),n.classesWithoutHost!=null&&tE(n)&&vu(t,n,$(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&nE(n)&&vu(t,n,$(),n.stylesWithoutHost,!1),C}function ue(t,e,n,r){return _(t,e,n,r),C(),ue}var zC=(t,e,n,r,o)=>(_i(!0),Eh(e[X],r,sp()));function Jt(){return $()}var no="en-US";var WC=no;function hg(t){typeof t=="string"&&(WC=t.toLowerCase().replace(/_/g,"-"))}function ge(t,e,n){let r=$(),o=he(),i=Ae();return gg(o,r,r[X],i,t,e,n),ge}function gg(t,e,n,r,o,i,s){let l=!0,c=null;if((r.type&3||s)&&(c??=zl(r,e,i),sC(r,t,e,s,n,o,i,c)&&(l=!1)),l){let d=r.outputs?.[o],f=r.hostDirectiveOutputs?.[o];if(f&&f.length)for(let p=0;p<f.length;p+=2){let h=f[p],g=f[p+1];c??=zl(r,e,i),Pp(r,e,h,g,o,c)}if(d&&d.length)for(let p of d)c??=zl(r,e,i),Pp(r,e,p,o,o,c)}}function ae(t=1){return ip(t)}function Ii(t,e){return t<<17|e<<2}function wn(t){return t>>17&32767}function jC(t){return(t&2)==2}function JC(t,e){return t&131071|e<<17}function Eu(t){return t|2}function Qn(t){return(t&131068)>>2}function Yl(t,e){return t&-131069|e<<2}function YC(t){return(t&1)===1}function _u(t){return t|1}function KC(t,e,n,r,o,i){let s=i?e.classBindings:e.styleBindings,l=wn(s),c=Qn(s);t[r]=n;let d=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||Gn(p,f)>0)&&(d=!0)}else f=n;if(o)if(c!==0){let h=wn(t[l+1]);t[r+1]=Ii(h,l),h!==0&&(t[h+1]=Yl(t[h+1],r)),t[l+1]=JC(t[l+1],r)}else t[r+1]=Ii(l,0),l!==0&&(t[l+1]=Yl(t[l+1],r)),l=r;else t[r+1]=Ii(c,0),l===0?l=r:t[c+1]=Yl(t[c+1],r),c=r;d&&(t[r+1]=Eu(t[r+1])),Up(t,f,r,!0),Up(t,f,r,!1),ZC(e,f,t,r,i),s=Ii(l,c),i?e.classBindings=s:e.styleBindings=s}function ZC(t,e,n,r,o){let i=o?t.residualClasses:t.residualStyles;i!=null&&typeof e=="string"&&Gn(i,e)>=0&&(n[r+1]=_u(n[r+1]))}function Up(t,e,n,r){let o=t[n+1],i=e===null,s=r?wn(o):Qn(o),l=!1;for(;s!==0&&(l===!1||i);){let c=t[s],d=t[s+1];QC(c,e)&&(l=!0,t[s+1]=r?_u(d):Eu(d)),s=r?wn(d):Qn(d)}l&&(t[n+1]=r?Eu(o):_u(o))}function QC(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Gn(t,e)>=0:!1}var Ze={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function XC(t){return t.substring(Ze.key,Ze.keyEnd)}function eD(t){return tD(t),mg(t,yg(t,0,Ze.textEnd))}function mg(t,e){let n=Ze.textEnd;return n===e?-1:(e=Ze.keyEnd=nD(t,Ze.key=e,n),yg(t,e,n))}function tD(t){Ze.key=0,Ze.keyEnd=0,Ze.value=0,Ze.valueEnd=0,Ze.textEnd=t.length}function yg(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function nD(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function rs(t,e,n){return vg(t,e,n,!1),rs}function Rt(t,e){return vg(t,e,null,!0),Rt}function rr(t){oD(cD,rD,t,!0)}function rD(t,e){for(let n=eD(e);n>=0;n=mg(e,n))ui(t,XC(e),!0)}function vg(t,e,n,r){let o=$(),i=he(),s=hi(2);if(i.firstUpdatePass&&_g(i,t,s,r),e!==$e&&vt(o,s,e)){let l=i.data[At()];Cg(i,l,o,o[X],t,o[s+1]=fD(e,n),r,s)}}function oD(t,e,n,r){let o=he(),i=hi(2);o.firstUpdatePass&&_g(o,null,i,r);let s=$();if(n!==$e&&vt(s,i,n)){let l=o.data[At()];if(Dg(l,r)&&!Eg(o,i)){let c=r?l.classesWithoutHost:l.stylesWithoutHost;c!==null&&(n=oi(c,n||"")),vu(o,l,s,n,r)}else dD(o,l,s,s[X],s[i+1],s[i+1]=uD(t,e,n),r,i)}}function Eg(t,e){return e>=t.expandoStartIndex}function _g(t,e,n,r){let o=t.data;if(o[n+1]===null){let i=o[At()],s=Eg(t,n);Dg(i,r)&&e===null&&!s&&(e=!1),e=iD(o,i,e,r),KC(o,i,e,n,s,r)}}function iD(t,e,n,r){let o=tp(t),i=r?e.residualClasses:e.residualStyles;if(o===null)(r?e.classBindings:e.styleBindings)===0&&(n=Kl(null,t,e,n,r),n=Kr(n,e.attrs,r),i=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==o)if(n=Kl(o,t,e,n,r),i===null){let c=sD(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Kl(null,t,e,c[1],r),c=Kr(c,e.attrs,r),aD(t,e,r,c))}else i=lD(t,e,r)}return i!==void 0&&(r?e.residualClasses=i:e.residualStyles=i),n}function sD(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Qn(r)!==0)return t[wn(r)]}function aD(t,e,n,r){let o=n?e.classBindings:e.styleBindings;t[wn(o)]=r}function lD(t,e,n){let r,o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++){let s=t[i].hostAttrs;r=Kr(r,s,n)}return Kr(r,e.attrs,n)}function Kl(t,e,n,r,o){let i=null,s=n.directiveEnd,l=n.directiveStylingLast;for(l===-1?l=n.directiveStart:l++;l<s&&(i=e[l],r=Kr(r,i.hostAttrs,o),i!==t);)l++;return t!==null&&(n.directiveStylingLast=l),r}function Kr(t,e,n){let r=n?1:2,o=-1;if(e!==null)for(let i=0;i<e.length;i++){let s=e[i];typeof s=="number"?o=s:o===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),ui(t,s,n?!0:e[++i]))}return t===void 0?null:t}function uD(t,e,n){if(n==null||n==="")return Ee;let r=[],o=zi(n);if(Array.isArray(o))for(let i=0;i<o.length;i++)t(r,o[i],!0);else if(typeof o=="object")for(let i in o)o.hasOwnProperty(i)&&t(r,i,o[i]);else typeof o=="string"&&e(r,o);return r}function cD(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&ui(t,r,n)}function dD(t,e,n,r,o,i,s,l){o===$e&&(o=Ee);let c=0,d=0,f=0<o.length?o[0]:null,p=0<i.length?i[0]:null;for(;f!==null||p!==null;){let h=c<o.length?o[c+1]:void 0,g=d<i.length?i[d+1]:void 0,m=null,v;f===p?(c+=2,d+=2,h!==g&&(m=p,v=g)):p===null||f!==null&&f<p?(c+=2,m=f):(d+=2,m=p,v=g),m!==null&&Cg(t,e,n,r,m,v,s,l),f=c<o.length?o[c]:null,p=d<i.length?i[d]:null}}function Cg(t,e,n,r,o,i,s,l){if(!(e.type&3))return;let c=t.data,d=c[l+1],f=YC(d)?Bp(c,e,n,o,Qn(d),s):void 0;if(!Ui(f)){Ui(i)||jC(d)&&(i=Bp(c,null,n,o,l,s));let p=Sl(At(),n);l_(r,s,p,o,i)}}function Bp(t,e,n,r,o,i){let s=e===null,l;for(;o>0;){let c=t[o],d=Array.isArray(c),f=d?c[1]:c,p=f===null,h=n[o+1];h===$e&&(h=p?Ee:void 0);let g=p?ci(h,r):f===r?h:void 0;if(d&&!Ui(g)&&(g=ci(c,r)),Ui(g)&&(l=g,s))return l;let m=t[o+1];o=s?wn(m):Qn(m)}if(e!==null){let c=i?e.residualClasses:e.residualStyles;c!=null&&(l=ci(c,r))}return l}function Ui(t){return t!==void 0}function fD(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Lt(zi(t)))),t}function Dg(t,e){return(t.flags&(e?8:16))!==0}function w(t,e=""){let n=$(),r=he(),o=t+pe,i=r.firstCreatePass?Xi(r,o,1,e,null):r.data[o],s=pD(r,n,i,e,t);n[o]=s,Ei()&&Lu(r,n,s,i),Jn(i,!1)}var pD=(t,e,n,r,o)=>(_i(!0),SE(e[X],r));function hD(t,e,n,r=""){return vt(t,_n(),n)?e+dn(n)+r:$e}function gD(t,e,n,r,o,i=""){let s=Kf(),l=iC(t,s,n,o);return hi(2),l?e+dn(n)+r+dn(o)+i:$e}function ee(t){return Yt("",t),ee}function Yt(t,e,n){let r=$(),o=hD(r,t,e,n);return o!==$e&&mD(r,At(),o),Yt}function mD(t,e,n){let r=Sl(e,t);wE(t[X],r,n)}function os(t,e,n){qu(e)&&(e=e());let r=$(),o=_n();if(vt(r,o,e)){let i=he(),s=vi();kh(s,r,t,e,r[X],n)}return os}function Zu(t,e){let n=qu(t);return n&&t.set(e),n}function is(t,e){let n=$(),r=he(),o=Ae();return gg(r,n,n[X],o,t,e),is}function Qu(t,e,n,r,o=""){return gD($(),t,e,n,r,o)}function Hp(t,e,n){let r=he();r.firstCreatePass&&Ig(e,r.data,r.blueprint,pt(t),n)}function Ig(t,e,n,r,o){if(t=fe(t),Array.isArray(t))for(let i=0;i<t.length;i++)Ig(t[i],e,n,r,o);else{let i=he(),s=$(),l=Ae(),c=an(t)?t:fe(t.provide),d=El(t),f=l.providerIndexes&1048575,p=l.directiveStart,h=l.providerIndexes>>20;if(an(t)||!t.multi){let g=new In(d,o,K,null),m=Ql(c,e,o?f:f+h,p);m===-1?(eu(Ni(l,s),i,c),Zl(i,t,e.length),e.push(c),l.directiveStart++,l.directiveEnd++,o&&(l.providerIndexes+=1048576),n.push(g),s.push(g)):(n[m]=g,s[m]=g)}else{let g=Ql(c,e,f+h,p),m=Ql(c,e,f,f+h),v=g>=0&&n[g],E=m>=0&&n[m];if(o&&!E||!o&&!v){eu(Ni(l,s),i,c);let y=ED(o?vD:yD,n.length,o,r,d,t);!o&&E&&(n[m].providerFactory=y),Zl(i,t,e.length,0),e.push(c),l.directiveStart++,l.directiveEnd++,o&&(l.providerIndexes+=1048576),n.push(y),s.push(y)}else{let y=Tg(n[o?m:g],d,!o&&r);Zl(i,t,g>-1?g:m,y)}!o&&r&&E&&n[m].componentProviders++}}}function Zl(t,e,n,r){let o=an(e),i=Pf(e);if(o||i){let c=(i?fe(e.useClass):e).prototype.ngOnDestroy;if(c){let d=t.destroyHooks||(t.destroyHooks=[]);if(!o&&e.multi){let f=d.indexOf(n);f===-1?d.push(n,[r,c]):d[f+1].push(r,c)}else d.push(n,c)}}}function Tg(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ql(t,e,n,r){for(let o=n;o<r;o++)if(e[o]===t)return o;return-1}function yD(t,e,n,r,o){return Cu(this.multi,[])}function vD(t,e,n,r,o){let i=this.multi,s;if(this.providerFactory){let l=this.providerFactory.componentProviders,c=xi(r,r[F],this.providerFactory.index,o);s=c.slice(0,l),Cu(i,s);for(let d=l;d<c.length;d++)s.push(c[d])}else s=[],Cu(i,s);return s}function Cu(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function ED(t,e,n,r,o,i){let s=new In(t,n,K,null);return s.multi=[],s.index=e,s.componentProviders=0,Tg(s,o,r&&!n),s}function or(t,e){return n=>{n.providersResolver=(r,o)=>Hp(r,o?o(t):t,!1),e&&(n.viewProvidersResolver=(r,o)=>Hp(r,o?o(e):e,!0))}}var Sg=(()=>{class t{applicationErrorHandler=M($t);appRef=M(er);taskService=M(Cn);ngZone=M(Me);zonelessEnabled=M(Br);tracing=M(Nt,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ve;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Sr):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(M(Bl,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Ol:Ll;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Sr+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Ol(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Xu(){return Wt("NgZoneless"),Nr([...ec(),[]])}function ec(){return[{provide:Dt,useExisting:Sg},{provide:Me,useClass:wr},{provide:Br,useValue:!0}]}function _D(){return typeof $localize<"u"&&$localize.locale||no}var ss=new R("",{factory:()=>M(ss,{optional:!0,skipSelf:!0})||_D()});function ro(t,e){return bo(t,e?.equal)}var tc=new R(""),FD=new R("");function oo(t){return!t.moduleRef}function LD(t){let e=oo(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Me);return n.run(()=>{oo(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get($t),o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:r})}),oo(t)){let i=()=>e.destroy(),s=t.platformInjector.get(tc);s.add(i),e.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>t.moduleRef.destroy(),s=t.platformInjector.get(tc);s.add(i),t.moduleRef.onDestroy(()=>{Gr(t.allPlatformModules,t.moduleRef),o.unsubscribe(),s.delete(i)})}return VD(r,n,()=>{let i=e.get(Cn),s=i.add(),l=e.get(ju);return l.runInitializers(),l.donePromise.then(()=>{let c=e.get(ss,no);if(hg(c||no),!e.get(FD,!0))return oo(t)?e.get(er):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(oo(t)){let f=e.get(er);return t.rootComponent!==void 0&&f.bootstrap(t.rootComponent),f}else return OD?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void i.remove(s))})})}var OD;function VD(t,e,n){try{let r=n();return Xn(r)?r.catch(o=>{throw e.runOutsideAngular(()=>t(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var as=null;function UD(t=[],e){return ut.create({name:e,providers:[{provide:xr,useValue:"platform"},{provide:tc,useValue:new Set([()=>as=null])},...t]})}function BD(t=[]){if(as)return as;let e=UD(t);return as=e,fg(),HD(e),e}function HD(t){let e=t.get($i,null);$n(t,()=>{e?.forEach(n=>n())})}var ls=(()=>{class t{static __NG_ELEMENT_ID__=GD}return t})();function GD(t){return $D(Ae(),$(),(t&16)===16)}function $D(t,e,n){if(Ht(t)&&!n){let r=He(t.index,e);return new qt(r,r)}else if(t.type&175){let r=e[ke];return new qt(r,e)}return null}function wg(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:o}=t;J(z.BootstrapApplicationStart);try{let i=o?.injector??BD(r),s=[ec(),dp,...n||[]],l=new Yr({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return LD({r3Injector:l.injector,platformInjector:i,rootComponent:e})}catch(i){return Promise.reject(i)}finally{J(z.BootstrapApplicationEnd)}}function Mg(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var Ag=null;function tt(){return Ag}function nc(t){Ag??=t}var io=class{},us=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>M(bg),providedIn:"platform"})}return t})();var bg=(()=>{class t extends us{_location;_history;_doc=M(Ce);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return tt().getBaseHref(this._doc)}onPopState(n){let r=tt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=tt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:()=>new t,providedIn:"platform"})}return t})();var rc=(()=>{class t{_viewContainer;_context=new cs;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Ng(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Ng(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(K(ns),K(Qi))};static \u0275dir=Le({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),cs=class{$implicit=null;ngIf=null};function Ng(t,e){if(t&&!t.createEmbeddedView)throw new P(2020,!1)}var ds=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Tt({})}return t})();function so(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[o,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}var An=class{};var xg="browser";var ao=class{_doc;constructor(e){this._doc=e}manager},fs=(()=>{class t extends ao{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o,i){return n.addEventListener(r,o,i),()=>this.removeEventListener(n,r,o,i)}removeEventListener(n,r,o,i){return n.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||t)(B(Ce))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),gs=new R(""),ac=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let o=n.filter(s=>!(s instanceof fs));this._plugins=o.slice().reverse();let i=n.find(s=>s instanceof fs);i&&this._plugins.push(i)}addEventListener(n,r,o,i){return this._findPluginFor(r).addEventListener(n,r,o,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new P(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(B(gs),B(Me))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),oc="ng-app-id";function Rg(t){for(let e of t)e.remove()}function Pg(t,e){let n=e.createElement("style");return n.textContent=t,n}function WD(t,e,n,r){let o=t.head?.querySelectorAll(`style[${oc}="${e}"],link[${oc}="${e}"]`);if(o)for(let i of o)i.removeAttribute(oc),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}function sc(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var lc=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,o,i={}){this.doc=n,this.appId=r,this.nonce=o,WD(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let o of n)this.addUsage(o,this.inline,Pg);r?.forEach(o=>this.addUsage(o,this.external,sc))}removeStyles(n,r){for(let o of n)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(n,r,o){let i=r.get(n);i?i.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(n,this.doc)))})}removeUsage(n,r){let o=r.get(n);o&&(o.usage--,o.usage<=0&&(Rg(o.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Rg(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(n,Pg(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(n,sc(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(B(Ce),B(Gi),B(qi,8),B(Xr))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),ic={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},uc=/%COMP%/g;var Fg="%COMP%",jD=`_nghost-${Fg}`,JD=`_ngcontent-${Fg}`,YD=!0,KD=new R("",{factory:()=>YD});function ZD(t){return JD.replace(uc,t)}function QD(t){return jD.replace(uc,t)}function Lg(t,e){return e.map(n=>n.replace(uc,t))}var cc=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,r,o,i,s,l,c=null,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.ngZone=l,this.nonce=c,this.tracingService=d,this.defaultRenderer=new lo(n,s,l,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let o=this.getOrCreateRenderer(n,r);return o instanceof hs?o.applyToHost(n):o instanceof uo&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,l=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.tracingService;switch(r.encapsulation){case Qe.Emulated:i=new hs(c,d,r,this.appId,f,s,l,p);break;case Qe.ShadowDom:return new ps(c,n,r,s,l,this.nonce,p,d);case Qe.ExperimentalIsolatedShadowDom:return new ps(c,n,r,s,l,this.nonce,p);default:i=new uo(c,d,r,f,s,l,p);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(B(ac),B(lc),B(Gi),B(KD),B(Ce),B(Me),B(qi),B(Nt,8))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),lo=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(ic[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(kg(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(kg(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new P(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,o){if(o){n=o+":"+n;let i=ic[o];i?e.setAttributeNS(i,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let o=ic[r];o?e.removeAttributeNS(o,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,o){o&(yt.DashCase|yt.Important)?e.style.setProperty(n,r,o&yt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&yt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,o){if(typeof e=="string"&&(e=tt().getGlobalEventTarget(this.doc,e),!e))throw new P(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(e,n,i)),this.eventManager.addEventListener(e,n,i,o)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function kg(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var ps=class extends lo{hostEl;sharedStylesHost;shadowRoot;constructor(e,n,r,o,i,s,l,c){super(e,o,i,l),this.hostEl=n,this.sharedStylesHost=c,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let d=r.styles;d=Lg(r.id,d);for(let p of d){let h=document.createElement("style");s&&h.setAttribute("nonce",s),h.textContent=p,this.shadowRoot.appendChild(h)}let f=r.getExternalStyles?.();if(f)for(let p of f){let h=sc(p,o);s&&h.setAttribute("nonce",s),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},uo=class extends lo{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,o,i,s,l,c){super(e,i,s,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o;let d=r.styles;this.styles=c?Lg(c,d):d,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Tn.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},hs=class extends uo{contentAttr;hostAttr;constructor(e,n,r,o,i,s,l,c){let d=o+"-"+r.id;super(e,n,r,i,s,l,c,d),this.contentAttr=ZD(d),this.hostAttr=QD(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var ms=class t extends io{supportsDOMEvents=!0;static makeCurrent(){nc(new t)}onAndCancel(e,n,r,o){return e.addEventListener(n,r,o),()=>{e.removeEventListener(n,r,o)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=XD();return n==null?null:eI(n)}resetBaseElement(){co=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return so(document.cookie,e)}},co=null;function XD(){return co=co||document.head.querySelector("base"),co?co.getAttribute("href"):null}function eI(t){return new URL(t,document.baseURI).pathname}var tI=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})(),Og=["alt","control","meta","shift"],nI={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rI={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Vg=(()=>{class t extends ao{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,o,i){let s=t.parseEventName(r),l=t.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>tt().onAndCancel(n,s.domEventName,l,i))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=t._normalizeKey(r.pop()),s="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),s="code."),Og.forEach(d=>{let f=r.indexOf(d);f>-1&&(r.splice(f,1),s+=d+".")}),s+=i,r.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let o=nI[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Og.forEach(s=>{if(s!==o){let l=rI[s];l(n)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{t.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(B(Ce))};static \u0275prov=H({token:t,factory:t.\u0275fac})}return t})();function dc(t,e,n){let r=j({rootComponent:t,platformRef:n?.platformRef},oI(e));return wg(r)}function oI(t){return{appProviders:[...uI,...t?.providers??[]],platformProviders:lI}}function iI(){ms.makeCurrent()}function sI(){return new ct}function aI(){return Tu(document),document}var lI=[{provide:Xr,useValue:xg},{provide:$i,useValue:iI,multi:!0},{provide:Ce,useFactory:aI}];var uI=[{provide:xr,useValue:"root"},{provide:ct,useFactory:sI},{provide:gs,useClass:fs,multi:!0},{provide:gs,useClass:Vg,multi:!0},cc,lc,ac,{provide:Sn,useExisting:cc},{provide:An,useClass:tI},[]];var bn=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let o=n.slice(0,r),i=n.slice(r+1).trim();this.addHeaderEntry(o,i)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let o=(e.op==="a"?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":let i=e.value;if(!i)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(l=>i.indexOf(l)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(i=>i.toString()),o=e.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(e,o)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var vs=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}},Es=class{encodeKey(e){return Ug(e)}encodeValue(e){return Ug(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function cI(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(o=>{let i=o.indexOf("="),[s,l]=i==-1?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,i)),e.decodeValue(o.slice(i+1))],c=n.get(s)||[];c.push(l),n.set(s,c)}),n}var dI=/%(\d[a-f0-9])/gi,fI={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ug(t){return encodeURIComponent(t).replace(dI,(e,n)=>fI[n]??e)}function ys(t){return`${t}`}var Zt=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Es,e.fromString){if(e.fromObject)throw new P(2805,!1);this.map=cI(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],o=Array.isArray(r)?r.map(ys):[ys(r)];this.map.set(n,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let o=e[r];Array.isArray(o)?o.forEach(i=>{n.push({param:r,value:i,op:"a"})}):n.push({param:r,value:o,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(ys(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],o=r.indexOf(ys(e.value));o!==-1&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};function pI(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Bg(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Hg(t){return typeof Blob<"u"&&t instanceof Blob}function Gg(t){return typeof FormData<"u"&&t instanceof FormData}function hI(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var $g="Content-Type",qg="Accept",zg="text/plain",Wg="application/json",gI=`${Wg}, ${zg}, */*`,fo=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,n,r,o){this.url=n,this.method=e.toUpperCase();let i;if(pI(this.method)||o?(this.body=r!==void 0?r:null,i=o):i=r,i){if(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,this.keepalive=!!i.keepalive,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),i.priority&&(this.priority=i.priority),i.cache&&(this.cache=i.cache),i.credentials&&(this.credentials=i.credentials),typeof i.timeout=="number"){if(i.timeout<1||!Number.isInteger(i.timeout))throw new P(2822,"");this.timeout=i.timeout}i.mode&&(this.mode=i.mode),i.redirect&&(this.redirect=i.redirect),i.integrity&&(this.integrity=i.integrity),i.referrer&&(this.referrer=i.referrer),i.referrerPolicy&&(this.referrerPolicy=i.referrerPolicy),this.transferCache=i.transferCache}if(this.headers??=new bn,this.context??=new vs,!this.params)this.params=new Zt,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let l=n.indexOf("?"),c=l===-1?"?":l<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Bg(this.body)||Hg(this.body)||Gg(this.body)||hI(this.body)?this.body:this.body instanceof Zt?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Gg(this.body)?null:Hg(this.body)?this.body.type||null:Bg(this.body)?null:typeof this.body=="string"?zg:this.body instanceof Zt?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Wg:null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,o=e.responseType||this.responseType,i=e.keepalive??this.keepalive,s=e.priority||this.priority,l=e.cache||this.cache,c=e.mode||this.mode,d=e.redirect||this.redirect,f=e.credentials||this.credentials,p=e.referrer||this.referrer,h=e.integrity||this.integrity,g=e.referrerPolicy||this.referrerPolicy,m=e.transferCache??this.transferCache,v=e.timeout??this.timeout,E=e.body!==void 0?e.body:this.body,y=e.withCredentials??this.withCredentials,D=e.reportProgress??this.reportProgress,I=e.headers||this.headers,S=e.params||this.params,A=e.context??this.context;return e.setHeaders!==void 0&&(I=Object.keys(e.setHeaders).reduce((V,x)=>V.set(x,e.setHeaders[x]),I)),e.setParams&&(S=Object.keys(e.setParams).reduce((V,x)=>V.set(x,e.setParams[x]),S)),new t(n,r,E,{params:S,headers:I,context:A,reportProgress:D,responseType:o,withCredentials:y,transferCache:m,keepalive:i,cache:l,priority:s,timeout:v,mode:c,redirect:d,credentials:f,referrer:p,integrity:h,referrerPolicy:g})}},ir=(function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t})(ir||{}),sr=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(e,n=200,r="OK"){this.headers=e.headers||new bn,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.responseType=e.responseType,this.ok=this.status>=200&&this.status<300}},_s=class t extends sr{constructor(e={}){super(e)}type=ir.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Cs=class t extends sr{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=ir.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected,responseType:e.responseType??this.responseType})}},po=class extends sr{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},mI=200,yI=204;var vI=new R("");var EI=/^\)\]\}',?\n/;var pc=(()=>{class t{xhrFactory;tracingService=M(Nt,{optional:!0});constructor(n){this.xhrFactory=n}maybePropagateTrace(n){return this.tracingService?.propagate?this.tracingService.propagate(n):n}handle(n){if(n.method==="JSONP")throw new P(-2800,!1);let r=this.xhrFactory;return Jo(null).pipe(za(()=>new te(i=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((E,y)=>s.setRequestHeader(E,y.join(","))),n.headers.has(qg)||s.setRequestHeader(qg,gI),!n.headers.has($g)){let E=n.detectContentTypeHeader();E!==null&&s.setRequestHeader($g,E)}if(n.timeout&&(s.timeout=n.timeout),n.responseType){let E=n.responseType.toLowerCase();s.responseType=E!=="json"?E:"text"}let l=n.serializeBody(),c=null,d=()=>{if(c!==null)return c;let E=s.statusText||"OK",y=new bn(s.getAllResponseHeaders()),D=s.responseURL||n.url;return c=new _s({headers:y,status:s.status,statusText:E,url:D}),c},f=this.maybePropagateTrace(()=>{let{headers:E,status:y,statusText:D,url:I}=d(),S=null;y!==yI&&(S=typeof s.response>"u"?s.responseText:s.response),y===0&&(y=S?mI:0);let A=y>=200&&y<300;if(n.responseType==="json"&&typeof S=="string"){let V=S;S=S.replace(EI,"");try{S=S!==""?JSON.parse(S):null}catch(x){S=V,A&&(A=!1,S={error:x,text:S})}}A?(i.next(new Cs({body:S,headers:E,status:y,statusText:D,url:I||void 0})),i.complete()):i.error(new po({error:S,headers:E,status:y,statusText:D,url:I||void 0}))}),p=this.maybePropagateTrace(E=>{let{url:y}=d(),D=new po({error:E,status:s.status||0,statusText:s.statusText||"Unknown Error",url:y||void 0});i.error(D)}),h=p;n.timeout&&(h=this.maybePropagateTrace(E=>{let{url:y}=d(),D=new po({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:y||void 0});i.error(D)}));let g=!1,m=this.maybePropagateTrace(E=>{g||(i.next(d()),g=!0);let y={type:ir.DownloadProgress,loaded:E.loaded};E.lengthComputable&&(y.total=E.total),n.responseType==="text"&&s.responseText&&(y.partialText=s.responseText),i.next(y)}),v=this.maybePropagateTrace(E=>{let y={type:ir.UploadProgress,loaded:E.loaded};E.lengthComputable&&(y.total=E.total),i.next(y)});return s.addEventListener("load",f),s.addEventListener("error",p),s.addEventListener("timeout",h),s.addEventListener("abort",p),n.reportProgress&&(s.addEventListener("progress",m),l!==null&&s.upload&&s.upload.addEventListener("progress",v)),s.send(l),i.next({type:ir.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",f),s.removeEventListener("timeout",h),n.reportProgress&&(s.removeEventListener("progress",m),l!==null&&s.upload&&s.upload.removeEventListener("progress",v)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||t)(B(An))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _I(t,e){return e(t)}function CI(t,e,n){return(r,o)=>$n(n,()=>e(r,i=>t(i,o)))}var jg=new R("",{factory:()=>[]}),DI=new R(""),Jg=new R("",{factory:()=>!0});var hc=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:function(r){let o=null;return r?o=new(r||t):o=B(pc),o},providedIn:"root"})}return t})();var Ds=(()=>{class t{backend;injector;chain=null;pendingTasks=M(Ci);contributeToStability=M(Jg);constructor(n,r){this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(jg),...this.injector.get(DI,[])]));this.chain=r.reduceRight((o,i)=>CI(o,i,this.injector),_I)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(qa(r))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(B(hc),B(_e))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),gc=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:function(r){let o=null;return r?o=new(r||t):o=B(Ds),o},providedIn:"root"})}return t})();function fc(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,credentials:t.credentials,transferCache:t.transferCache,timeout:t.timeout,keepalive:t.keepalive,priority:t.priority,cache:t.cache,mode:t.mode,redirect:t.redirect,integrity:t.integrity,referrer:t.referrer,referrerPolicy:t.referrerPolicy}}var II=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,o={}){let i;if(n instanceof fo)i=n;else{let c;o.headers instanceof bn?c=o.headers:c=new bn(o.headers);let d;o.params&&(o.params instanceof Zt?d=o.params:d=new Zt({fromObject:o.params})),i=new fo(n,r,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:d,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache,keepalive:o.keepalive,priority:o.priority,cache:o.cache,mode:o.mode,redirect:o.redirect,credentials:o.credentials,referrer:o.referrer,referrerPolicy:o.referrerPolicy,integrity:o.integrity,timeout:o.timeout})}let s=Jo(i).pipe($a(c=>this.handler.handle(c)));if(n instanceof fo||o.observe==="events")return s;let l=s.pipe(Ga(c=>c instanceof Cs));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return l.pipe(we(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new P(2806,!1);return c.body}));case"blob":return l.pipe(we(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new P(2807,!1);return c.body}));case"text":return l.pipe(we(c=>{if(c.body!==null&&typeof c.body!="string")throw new P(2808,!1);return c.body}));case"json":default:return l.pipe(we(c=>c.body))}case"response":return l;default:throw new P(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Zt().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,fc(o,r))}post(n,r,o={}){return this.request("POST",n,fc(o,r))}put(n,r,o={}){return this.request("PUT",n,fc(o,r))}static \u0275fac=function(r){return new(r||t)(B(gc))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var TI=new R("",{factory:()=>!0}),SI="XSRF-TOKEN",wI=new R("",{factory:()=>SI}),MI="X-XSRF-TOKEN",AI=new R("",{providedIn:"root",factory:()=>MI}),bI=(()=>{class t{cookieName=M(wI);doc=M(Ce);lastCookieString="";lastToken=null;parseCount=0;getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=so(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Yg=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=H({token:t,factory:function(r){let o=null;return r?o=new(r||t):o=B(bI),o},providedIn:"root"})}return t})();function NI(t,e){if(!M(TI)||t.method==="GET"||t.method==="HEAD")return e(t);try{let o=M(us).href,{origin:i}=new URL(o),{origin:s}=new URL(t.url,i);if(i!==s)return e(t)}catch{return e(t)}let n=M(Yg).getToken(),r=M(AI);return n!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,n)})),e(t)}function mc(...t){let e=[II,Ds,{provide:gc,useExisting:Ds},{provide:hc,useFactory:()=>M(vI,{optional:!0})??M(pc)},{provide:jg,useValue:NI,multi:!0}];for(let n of t)e.push(...n.\u0275providers);return Nr(e)}var om=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(K(Mn),K(zt))};static \u0275dir=Le({type:t})}return t})(),Dc=(()=>{class t extends om{static \u0275fac=(()=>{let n;return function(o){return(n||(n=Qr(t)))(o||t)}})();static \u0275dir=Le({type:t,features:[xt]})}return t})(),Ms=new R("");var xI={provide:Ms,useExisting:It(()=>im),multi:!0};function RI(){let t=tt()?tt().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var PI=new R(""),im=(()=>{class t extends om{_compositionMode;_composing=!1;constructor(n,r,o){super(n,r),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!RI())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(K(Mn),K(zt),K(PI,8))};static \u0275dir=Le({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&ge("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},standalone:!1,features:[or([xI]),xt]})}return t})();var kI=new R(""),FI=new R("");function sm(t){return t!=null}function am(t){return Xn(t)?_r(t):t}function lm(t){let e={};return t.forEach(n=>{e=n!=null?j(j({},e),n):e}),Object.keys(e).length===0?null:e}function um(t,e){return e.map(n=>n(t))}function LI(t){return!t.validate}function cm(t){return t.map(e=>LI(e)?e:n=>e.validate(n))}function OI(t){if(!t)return null;let e=t.filter(sm);return e.length==0?null:function(n){return lm(um(n,e))}}function dm(t){return t!=null?OI(cm(t)):null}function VI(t){if(!t)return null;let e=t.filter(sm);return e.length==0?null:function(n){let r=um(n,e).map(am);return Ha(r).pipe(we(lm))}}function fm(t){return t!=null?VI(cm(t)):null}function Kg(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function UI(t){return t._rawValidators}function BI(t){return t._rawAsyncValidators}function yc(t){return t?Array.isArray(t)?t:[t]:[]}function Ts(t,e){return Array.isArray(t)?t.includes(e):t===e}function Zg(t,e){let n=yc(e);return yc(t).forEach(o=>{Ts(n,o)||n.push(o)}),n}function Qg(t,e){return yc(e).filter(n=>!Ts(t,n))}var Ss=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=dm(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=fm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},vc=class extends Ss{name;get formDirective(){return null}get path(){return null}},vo=class extends Ss{_parent=null;name=null;valueAccessor=null},Ec=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var pm=(()=>{class t extends Ec{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(K(vo,2))};static \u0275dir=Le({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Rt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[xt]})}return t})();var ho="VALID",Is="INVALID",ar="PENDING",go="DISABLED",Nn=class{},ws=class extends Nn{value;source;constructor(e,n){super(),this.value=e,this.source=n}},mo=class extends Nn{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},yo=class extends Nn{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},lr=class extends Nn{status;source;constructor(e,n){super(),this.status=e,this.source=n}};var _c=class extends Nn{source;constructor(e){super(),this.source=e}};function HI(t){return(As(t)?t.validators:t)||null}function GI(t){return Array.isArray(t)?dm(t):t||null}function $I(t,e){return(As(e)?e.asyncValidators:t)||null}function qI(t){return Array.isArray(t)?fm(t):t||null}function As(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var Cc=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return gt(this.statusReactive)}set status(e){gt(()=>this.statusReactive.set(e))}_status=ro(()=>this.statusReactive());statusReactive=oe(void 0);get valid(){return this.status===ho}get invalid(){return this.status===Is}get pending(){return this.status==ar}get disabled(){return this.status===go}get enabled(){return this.status!==go}errors;get pristine(){return gt(this.pristineReactive)}set pristine(e){gt(()=>this.pristineReactive.set(e))}_pristine=ro(()=>this.pristineReactive());pristineReactive=oe(!0);get dirty(){return!this.pristine}get touched(){return gt(this.touchedReactive)}set touched(e){gt(()=>this.touchedReactive.set(e))}_touched=ro(()=>this.touchedReactive());touchedReactive=oe(!1);get untouched(){return!this.touched}_events=new at;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Zg(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Zg(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Qg(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Qg(e,this._rawAsyncValidators))}hasValidator(e){return Ts(this._rawValidators,e)}hasAsyncValidator(e){return Ts(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Q(j({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new yo(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new yo(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Q(j({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new mo(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new mo(!0,r))}markAsPending(e={}){this.status=ar;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new lr(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Q(j({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=go,this.errors=null,this._forEachChild(o=>{o.disable(Q(j({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ws(this.value,r)),this._events.next(new lr(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Q(j({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ho,this._forEachChild(r=>{r.enable(Q(j({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Q(j({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ho||this.status===ar)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ws(this.value,n)),this._events.next(new lr(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Q(j({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?go:ho}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=ar,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=am(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new lr(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Pe,this.statusChanges=new Pe}_calculateStatus(){return this._allControlsDisabled()?go:this.errors?Is:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ar)?ar:this._anyControlsHaveStatus(Is)?Is:ho}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),o&&this._events.next(new mo(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new yo(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){As(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=GI(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=qI(this._rawAsyncValidators)}};var hm=new R("",{factory:()=>Ic}),Ic="always";function zI(t,e){return[...e.path,t]}function WI(t,e,n=Ic){JI(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),YI(t,e),ZI(t,e),KI(t,e),jI(t,e)}function Xg(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function jI(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function JI(t,e){let n=UI(t);e.validator!==null?t.setValidators(Kg(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=BI(t);e.asyncValidator!==null?t.setAsyncValidators(Kg(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let o=()=>t.updateValueAndValidity();Xg(e._rawValidators,o),Xg(e._rawAsyncValidators,o)}function YI(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&gm(t,e)})}function KI(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&gm(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function gm(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ZI(t,e){let n=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function QI(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function XI(t){return Object.getPrototypeOf(t.constructor)===Dc}function eT(t,e){if(!e)return null;Array.isArray(e);let n,r,o;return e.forEach(i=>{i.constructor===im?n=i:XI(i)?r=i:o=i}),o||r||n||null}function em(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function tm(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var tT=class extends Cc{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(HI(n),$I(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),As(n)&&(n.nonNullable||n.initialValueIsDefault)&&(tm(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),n.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new _c(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){em(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){em(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){tm(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var nT={provide:vo,useExisting:It(()=>Tc)},nm=Promise.resolve(),Tc=(()=>{class t extends vo{_changeDetectorRef;callSetDisabledState;control=new tT;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Pe;constructor(n,r,o,i,s,l){super(),this._changeDetectorRef=s,this.callSetDisabledState=l,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=eT(this,i)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),QI(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){WI(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){nm.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,o=r!==0&&Mg(r);nm.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?zI(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(K(vc,9),K(kI,10),K(FI,10),K(Ms,10),K(ls,8),K(hm,8))};static \u0275dir=Le({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[or([nT]),xt,Bi]})}return t})();var rT={provide:Ms,useExisting:It(()=>bs),multi:!0};function mm(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function oT(t){return t.split(":")[0]}var bs=(()=>{class t extends Dc{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=M(er).injector;destroyRef=M(bt);cdr=M(ls);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,ku({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let r=this._getOptionId(n),o=mm(r,n);this.setProperty("value",o)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=oT(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(o){return(n||(n=Qr(t)))(o||t)}})();static \u0275dir=Le({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&ge("change",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[or([rT]),xt]})}return t})(),ym=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(mm(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||t)(K(zt),K(Mn),K(bs,9))};static \u0275dir=Le({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),iT={provide:Ms,useExisting:It(()=>vm),multi:!0};function rm(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function sT(t){return t.split(":")[0]}var vm=(()=>{class t extends Dc{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let o=n.map(i=>this._getOptionId(i));r=(i,s)=>{i._setSelected(o.indexOf(s.toString())>-1)}}else r=(o,i)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let o=[],i=r.selectedOptions;if(i!==void 0){let s=i;for(let l=0;l<s.length;l++){let c=s[l],d=this._getOptionValue(c.value);o.push(d)}}else{let s=r.options;for(let l=0;l<s.length;l++){let c=s[l];if(c.selected){let d=this._getOptionValue(c.value);o.push(d)}}}this.value=o,n(o)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=sT(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(o){return(n||(n=Qr(t)))(o||t)}})();static \u0275dir=Le({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&ge("change",function(s){return o.onChange(s.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[or([iT]),xt]})}return t})(),Em=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(rm(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(rm(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(K(zt),K(Mn),K(vm,9))};static \u0275dir=Le({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();var aT=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Tt({})}return t})();var _m=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:hm,useValue:n.callSetDisabledState??Ic}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=jt({type:t});static \u0275inj=Tt({imports:[aT]})}return t})();var uT,cT;function dT(){return{geminiUrl:uT,vertexUrl:cT}}function fT(t,e,n,r){var o,i;if(!t?.baseUrl){let s=dT();return e?(o=s.vertexUrl)!==null&&o!==void 0?o:n:(i=s.geminiUrl)!==null&&i!==void 0?i:r}return t.baseUrl}var ot=class{};function T(t,e){let n=/\{([^}]+)\}/g;return t.replace(n,(r,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){let i=e[o];return i!=null?String(i):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function u(t,e,n){for(let i=0;i<e.length-1;i++){let s=e[i];if(s.endsWith("[]")){let l=s.slice(0,-2);if(!(l in t))if(Array.isArray(n))t[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[l])){let c=t[l];if(Array.isArray(n))for(let d=0;d<c.length;d++){let f=c[d];u(f,e.slice(i+1),n[d])}else for(let d of c)u(d,e.slice(i+1),n)}return}else if(s.endsWith("[0]")){let l=s.slice(0,-3);l in t||(t[l]=[{}]);let c=t[l];u(c[0],e.slice(i+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}let r=e[e.length-1],o=t[r];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function a(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;let o=e[r];if(o.endsWith("[]")){let i=o.slice(0,-2);if(i in t){let s=t[i];return Array.isArray(s)?s.map(l=>a(l,e.slice(r+1),n)):n}else return n}else t=t[o]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function pT(t,e){for(let[n,r]of Object.entries(e)){let o=n.split("."),i=r.split("."),s=new Set,l=-1;for(let c=0;c<o.length;c++)if(o[c]==="*"){l=c;break}if(l!==-1&&i.length>l)for(let c=l;c<i.length;c++){let d=i[c];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&s.add(d)}Mc(t,o,i,0,s)}}function Mc(t,e,n,r,o){if(r>=e.length||typeof t!="object"||t===null)return;let i=e[r];if(i.endsWith("[]")){let s=i.slice(0,-2),l=t;if(s in l&&Array.isArray(l[s]))for(let c of l[s])Mc(c,e,n,r+1,o)}else if(i==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){let s=t,l=Object.keys(s).filter(d=>!d.startsWith("_")&&!o.has(d)),c={};for(let d of l)c[d]=s[d];for(let[d,f]of Object.entries(c)){let p=[];for(let h of n.slice(r))h==="*"?p.push(d):p.push(h);u(s,p,f)}for(let d of l)delete s[d]}}else{let s=t;i in s&&Mc(s[i],e,n,r+1,o)}}function Sd(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function hT(t){let e={},n=a(t,["operationName"]);n!=null&&u(e,["operationName"],n);let r=a(t,["resourceName"]);return r!=null&&u(e,["_url","resourceName"],r),e}function gT(t){let e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);let r=a(t,["metadata"]);r!=null&&u(e,["metadata"],r);let o=a(t,["done"]);o!=null&&u(e,["done"],o);let i=a(t,["error"]);i!=null&&u(e,["error"],i);let s=a(t,["response","generateVideoResponse"]);return s!=null&&u(e,["response"],yT(s)),e}function mT(t){let e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);let r=a(t,["metadata"]);r!=null&&u(e,["metadata"],r);let o=a(t,["done"]);o!=null&&u(e,["done"],o);let i=a(t,["error"]);i!=null&&u(e,["error"],i);let s=a(t,["response"]);return s!=null&&u(e,["response"],vT(s)),e}function yT(t){let e={},n=a(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>ET(s))),u(e,["generatedVideos"],i)}let r=a(t,["raiMediaFilteredCount"]);r!=null&&u(e,["raiMediaFilteredCount"],r);let o=a(t,["raiMediaFilteredReasons"]);return o!=null&&u(e,["raiMediaFilteredReasons"],o),e}function vT(t){let e={},n=a(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>_T(s))),u(e,["generatedVideos"],i)}let r=a(t,["raiMediaFilteredCount"]);r!=null&&u(e,["raiMediaFilteredCount"],r);let o=a(t,["raiMediaFilteredReasons"]);return o!=null&&u(e,["raiMediaFilteredReasons"],o),e}function ET(t){let e={},n=a(t,["video"]);return n!=null&&u(e,["video"],wT(n)),e}function _T(t){let e={},n=a(t,["_self"]);return n!=null&&u(e,["video"],MT(n)),e}function CT(t){let e={},n=a(t,["operationName"]);return n!=null&&u(e,["_url","operationName"],n),e}function DT(t){let e={},n=a(t,["operationName"]);return n!=null&&u(e,["_url","operationName"],n),e}function IT(t){let e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);let r=a(t,["metadata"]);r!=null&&u(e,["metadata"],r);let o=a(t,["done"]);o!=null&&u(e,["done"],o);let i=a(t,["error"]);i!=null&&u(e,["error"],i);let s=a(t,["response"]);return s!=null&&u(e,["response"],TT(s)),e}function TT(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let r=a(t,["parent"]);r!=null&&u(e,["parent"],r);let o=a(t,["documentName"]);return o!=null&&u(e,["documentName"],o),e}function Wm(t){let e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);let r=a(t,["metadata"]);r!=null&&u(e,["metadata"],r);let o=a(t,["done"]);o!=null&&u(e,["done"],o);let i=a(t,["error"]);i!=null&&u(e,["error"],i);let s=a(t,["response"]);return s!=null&&u(e,["response"],ST(s)),e}function ST(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let r=a(t,["parent"]);r!=null&&u(e,["parent"],r);let o=a(t,["documentName"]);return o!=null&&u(e,["documentName"],o),e}function wT(t){let e={},n=a(t,["uri"]);n!=null&&u(e,["uri"],n);let r=a(t,["encodedVideo"]);r!=null&&u(e,["videoBytes"],Sd(r));let o=a(t,["encoding"]);return o!=null&&u(e,["mimeType"],o),e}function MT(t){let e={},n=a(t,["gcsUri"]);n!=null&&u(e,["uri"],n);let r=a(t,["bytesBase64Encoded"]);r!=null&&u(e,["videoBytes"],Sd(r));let o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}var Z=(function(t){return t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL",t})(Z||{});var Ac=(function(t){return t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO",t})(Ac||{});var jm=(function(t){return t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED",t})(jm||{});var _o=(function(t){return t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT",t})(_o||{});var Do=class{constructor(e){let n={};for(let r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}};var Rn=class{get text(){var e,n,r,o,i,s,l,c;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1,p=[];for(let h of(c=(l=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(let[g,m]of Object.entries(h))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(m!==null||m!==void 0)&&p.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;f=!0,d+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var e,n,r,o,i,s,l,c;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="",f=[];for(let p of(c=(l=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(let[h,g]of Object.entries(p))h!=="inlineData"&&(g!==null||g!==void 0)&&f.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(d+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,o,i,s,l,c;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");let d=(c=(l=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if(d?.length!==0)return d}get executableCode(){var e,n,r,o,i,s,l,c,d;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");let f=(c=(l=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if(f?.length!==0)return(d=f?.[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,o,i,s,l,c,d;if(((o=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");let f=(c=(l=(s=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if(f?.length!==0)return(d=f?.[0])===null||d===void 0?void 0:d.output}},Os=class{},Vs=class{},bc=class{},Nc=class{},xc=class{},Rc=class{},Us=class{},Bs=class{},Hs=class{},Pc=class{};var Gs=class t{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){let r=new t,o,i=e;return n?o=mT(i):o=gT(i),Object.assign(r,o),r}},$s=class{},qs=class{},zs=class{},Ws=class{},kc=class{},Fc=class{},Lc=class{};var Oc=class t{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){let r=new t,i=IT(e);return Object.assign(r,i),r}},Vc=class{},Uc=class{},Bc=class{};var js=class{};var Hc=class{get text(){var e,n,r;let o="",i=!1,s=[];for(let l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(let[c,d]of Object.entries(l))c!=="text"&&c!=="thought"&&d!==null&&s.push(c);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;i=!0,o+=l.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?o:void 0}get data(){var e,n,r;let o="",i=[];for(let s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(let[l,c]of Object.entries(s))l!=="inlineData"&&c!==null&&i.push(l);s.inlineData&&typeof s.inlineData.data=="string"&&(o+=atob(s.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}};var Gc=class{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}};var $c=class t{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){let r=new t,i=Wm(e);return Object.assign(r,i),r}};function W(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){let n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Jm(t,e){let n=W(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Ym(t){return Array.isArray(t)?t.map(e=>Js(e)):[Js(t)]}function Js(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Km(t){let e=Js(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Zm(t){let e=Js(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Cm(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Qm(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Cm(e)):[Cm(t)]}function qc(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Dm(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Im(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function ye(t){if(t==null)throw new Error("ContentUnion is required");return qc(t)?t:{role:"user",parts:Qm(t)}}function wd(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{let r=ye(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){let n=ye(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>ye(n)):[ye(e)]}function qe(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Dm(t)||Im(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ye(t)]}let e=[],n=[],r=qc(t[0]);for(let o of t){let i=qc(o);if(i!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)e.push(o);else{if(Dm(o)||Im(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return r||e.push({role:"user",parts:Qm(n)}),e}function AT(t,e){t.includes("null")&&(e.nullable=!0);let n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Z).includes(n[0].toUpperCase())?n[0].toUpperCase():Z.TYPE_UNSPECIFIED;else{e.anyOf=[];for(let r of n)e.anyOf.push({type:Object.values(Z).includes(r.toUpperCase())?r.toUpperCase():Z.TYPE_UNSPECIFIED})}}function cr(t){let e={},n=["items"],r=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");let i=t.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,t=i[1]):i[1].type==="null"&&(e.nullable=!0,t=i[0])),t.type instanceof Array&&AT(t.type,e);for(let[s,l]of Object.entries(t))if(l!=null)if(s=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.values(Z).includes(l.toUpperCase())?l.toUpperCase():Z.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=cr(l);else if(r.includes(s)){let c=[];for(let d of l){if(d.type=="null"){e.nullable=!0;continue}c.push(cr(d))}e[s]=c}else if(o.includes(s)){let c={};for(let[d,f]of Object.entries(l))c[d]=cr(f);e[s]=c}else{if(s==="additionalProperties")continue;e[s]=l}return e}function Md(t){return cr(t)}function Ad(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function bd(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function hr(t){if(t.functionDeclarations)for(let e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=cr(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=cr(e.response));return t}function gr(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");let e=[];for(let n of t)e.push(n);return e}function bT(t,e,n,r=1){let o=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function kt(t,e){if(typeof e!="string")throw new Error("name must be a string");return bT(t,e,"cachedContents")}function Xm(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Qt(t){return Sd(t)}function NT(t){return t!=null&&typeof t=="object"&&"name"in t}function xT(t){return t!=null&&typeof t=="object"&&"video"in t}function RT(t){return t!=null&&typeof t=="object"&&"uri"in t}function ey(t){var e;let n;if(NT(t)&&(n=t.name),!(RT(t)&&(n=t.uri,n===void 0))&&!(xT(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){let o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function ty(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function ny(t){for(let e of["models","tunedModels","publisherModels"])if(PT(t,e))return t[e];return[]}function PT(t,e){return t!==null&&typeof t=="object"&&e in t}function kT(t,e={}){let n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function FT(t,e={}){let n=[],r=new Set;for(let o of t){let i=o.name;if(r.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);r.add(i);let s=kT(o,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function ry(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;let r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(o>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function LT(t){if(typeof t!="string")return t;let e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function oy(t){if(typeof t!="object"||t===null)return{};let e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;let o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return t;let i=!1;for(let s of o){if(typeof s!="object"||s===null)continue;let c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){i=!0;break}}return i&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function mr(t,e){let n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function iy(t){let e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function OT(t){let e={},n=a(t,["responsesFile"]);n!=null&&u(e,["fileName"],n);let r=a(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>y0(s))),u(e,["inlinedResponses"],i)}let o=a(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["inlinedEmbedContentResponses"],i)}return e}function VT(t){let e={},n=a(t,["predictionsFormat"]);n!=null&&u(e,["format"],n);let r=a(t,["gcsDestination","outputUriPrefix"]);r!=null&&u(e,["gcsUri"],r);let o=a(t,["bigqueryDestination","outputUri"]);return o!=null&&u(e,["bigqueryUri"],o),e}function UT(t){let e={},n=a(t,["format"]);n!=null&&u(e,["predictionsFormat"],n);let r=a(t,["gcsUri"]);r!=null&&u(e,["gcsDestination","outputUriPrefix"],r);let o=a(t,["bigqueryUri"]);if(o!=null&&u(e,["bigqueryDestination","outputUri"],o),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(a(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Fs(t){let e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);let r=a(t,["metadata","displayName"]);r!=null&&u(e,["displayName"],r);let o=a(t,["metadata","state"]);o!=null&&u(e,["state"],iy(o));let i=a(t,["metadata","createTime"]);i!=null&&u(e,["createTime"],i);let s=a(t,["metadata","endTime"]);s!=null&&u(e,["endTime"],s);let l=a(t,["metadata","updateTime"]);l!=null&&u(e,["updateTime"],l);let c=a(t,["metadata","model"]);c!=null&&u(e,["model"],c);let d=a(t,["metadata","output"]);return d!=null&&u(e,["dest"],OT(oy(d))),e}function zc(t){let e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);let r=a(t,["displayName"]);r!=null&&u(e,["displayName"],r);let o=a(t,["state"]);o!=null&&u(e,["state"],iy(o));let i=a(t,["error"]);i!=null&&u(e,["error"],i);let s=a(t,["createTime"]);s!=null&&u(e,["createTime"],s);let l=a(t,["startTime"]);l!=null&&u(e,["startTime"],l);let c=a(t,["endTime"]);c!=null&&u(e,["endTime"],c);let d=a(t,["updateTime"]);d!=null&&u(e,["updateTime"],d);let f=a(t,["model"]);f!=null&&u(e,["model"],f);let p=a(t,["inputConfig"]);p!=null&&u(e,["src"],BT(p));let h=a(t,["outputConfig"]);h!=null&&u(e,["dest"],VT(oy(h)));let g=a(t,["completionStats"]);return g!=null&&u(e,["completionStats"],g),e}function BT(t){let e={},n=a(t,["instancesFormat"]);n!=null&&u(e,["format"],n);let r=a(t,["gcsSource","uris"]);r!=null&&u(e,["gcsUri"],r);let o=a(t,["bigquerySource","inputUri"]);return o!=null&&u(e,["bigqueryUri"],o),e}function HT(t,e){let n={};if(a(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");let r=a(e,["fileName"]);r!=null&&u(n,["fileName"],r);let o=a(e,["inlinedRequests"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>m0(t,s))),u(n,["requests","requests"],i)}return n}function GT(t){let e={},n=a(t,["format"]);n!=null&&u(e,["instancesFormat"],n);let r=a(t,["gcsUri"]);r!=null&&u(e,["gcsSource","uris"],r);let o=a(t,["bigqueryUri"]);if(o!=null&&u(e,["bigquerySource","inputUri"],o),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function $T(t){let e={},n=a(t,["data"]);if(n!=null&&u(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let r=a(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function qT(t,e){let n={},r=a(e,["name"]);return r!=null&&u(n,["_url","name"],mr(t,r)),n}function zT(t,e){let n={},r=a(e,["name"]);return r!=null&&u(n,["_url","name"],mr(t,r)),n}function WT(t){let e={},n=a(t,["content"]);n!=null&&u(e,["content"],n);let r=a(t,["citationMetadata"]);r!=null&&u(e,["citationMetadata"],jT(r));let o=a(t,["tokenCount"]);o!=null&&u(e,["tokenCount"],o);let i=a(t,["finishReason"]);i!=null&&u(e,["finishReason"],i);let s=a(t,["avgLogprobs"]);s!=null&&u(e,["avgLogprobs"],s);let l=a(t,["groundingMetadata"]);l!=null&&u(e,["groundingMetadata"],l);let c=a(t,["index"]);c!=null&&u(e,["index"],c);let d=a(t,["logprobsResult"]);d!=null&&u(e,["logprobsResult"],d);let f=a(t,["safetyRatings"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>g)),u(e,["safetyRatings"],h)}let p=a(t,["urlContextMetadata"]);return p!=null&&u(e,["urlContextMetadata"],p),e}function jT(t){let e={},n=a(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),u(e,["citations"],r)}return e}function sy(t){let e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>T0(i))),u(e,["parts"],o)}let r=a(t,["role"]);return r!=null&&u(e,["role"],r),e}function JT(t,e){let n={},r=a(t,["displayName"]);if(e!==void 0&&r!=null&&u(e,["batch","displayName"],r),a(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function YT(t,e){let n={},r=a(t,["displayName"]);e!==void 0&&r!=null&&u(e,["displayName"],r);let o=a(t,["dest"]);return e!==void 0&&o!=null&&u(e,["outputConfig"],UT(LT(o))),n}function Tm(t,e){let n={},r=a(e,["model"]);r!=null&&u(n,["_url","model"],W(t,r));let o=a(e,["src"]);o!=null&&u(n,["batch","inputConfig"],HT(t,ry(t,o)));let i=a(e,["config"]);return i!=null&&JT(i,n),n}function KT(t,e){let n={},r=a(e,["model"]);r!=null&&u(n,["model"],W(t,r));let o=a(e,["src"]);o!=null&&u(n,["inputConfig"],GT(ry(t,o)));let i=a(e,["config"]);return i!=null&&YT(i,n),n}function ZT(t,e){let n={},r=a(t,["displayName"]);return e!==void 0&&r!=null&&u(e,["batch","displayName"],r),n}function QT(t,e){let n={},r=a(e,["model"]);r!=null&&u(n,["_url","model"],W(t,r));let o=a(e,["src"]);o!=null&&u(n,["batch","inputConfig"],i0(t,o));let i=a(e,["config"]);return i!=null&&ZT(i,n),n}function XT(t,e){let n={},r=a(e,["name"]);return r!=null&&u(n,["_url","name"],mr(t,r)),n}function e0(t,e){let n={},r=a(e,["name"]);return r!=null&&u(n,["_url","name"],mr(t,r)),n}function t0(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let r=a(t,["name"]);r!=null&&u(e,["name"],r);let o=a(t,["done"]);o!=null&&u(e,["done"],o);let i=a(t,["error"]);return i!=null&&u(e,["error"],i),e}function n0(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let r=a(t,["name"]);r!=null&&u(e,["name"],r);let o=a(t,["done"]);o!=null&&u(e,["done"],o);let i=a(t,["error"]);return i!=null&&u(e,["error"],i),e}function r0(t,e){let n={},r=a(e,["contents"]);if(r!=null){let i=wd(t,r);Array.isArray(i)&&(i=i.map(s=>s)),u(n,["requests[]","request","content"],i)}let o=a(e,["config"]);return o!=null&&(u(n,["_self"],o0(o,n)),pT(n,{"requests[].*":"requests[].request.*"})),n}function o0(t,e){let n={},r=a(t,["taskType"]);e!==void 0&&r!=null&&u(e,["requests[]","taskType"],r);let o=a(t,["title"]);e!==void 0&&o!=null&&u(e,["requests[]","title"],o);let i=a(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&u(e,["requests[]","outputDimensionality"],i),a(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function i0(t,e){let n={},r=a(e,["fileName"]);r!=null&&u(n,["file_name"],r);let o=a(e,["inlinedRequests"]);return o!=null&&u(n,["requests"],r0(t,o)),n}function s0(t){let e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=a(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);let r=a(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function a0(t){let e={},n=a(t,["id"]);n!=null&&u(e,["id"],n);let r=a(t,["args"]);r!=null&&u(e,["args"],r);let o=a(t,["name"]);if(o!=null&&u(e,["name"],o),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function l0(t){let e={},n=a(t,["mode"]);n!=null&&u(e,["mode"],n);let r=a(t,["allowedFunctionNames"]);if(r!=null&&u(e,["allowedFunctionNames"],r),a(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function u0(t,e,n){let r={},o=a(e,["systemInstruction"]);n!==void 0&&o!=null&&u(n,["systemInstruction"],sy(ye(o)));let i=a(e,["temperature"]);i!=null&&u(r,["temperature"],i);let s=a(e,["topP"]);s!=null&&u(r,["topP"],s);let l=a(e,["topK"]);l!=null&&u(r,["topK"],l);let c=a(e,["candidateCount"]);c!=null&&u(r,["candidateCount"],c);let d=a(e,["maxOutputTokens"]);d!=null&&u(r,["maxOutputTokens"],d);let f=a(e,["stopSequences"]);f!=null&&u(r,["stopSequences"],f);let p=a(e,["responseLogprobs"]);p!=null&&u(r,["responseLogprobs"],p);let h=a(e,["logprobs"]);h!=null&&u(r,["logprobs"],h);let g=a(e,["presencePenalty"]);g!=null&&u(r,["presencePenalty"],g);let m=a(e,["frequencyPenalty"]);m!=null&&u(r,["frequencyPenalty"],m);let v=a(e,["seed"]);v!=null&&u(r,["seed"],v);let E=a(e,["responseMimeType"]);E!=null&&u(r,["responseMimeType"],E);let y=a(e,["responseSchema"]);y!=null&&u(r,["responseSchema"],Md(y));let D=a(e,["responseJsonSchema"]);if(D!=null&&u(r,["responseJsonSchema"],D),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let I=a(e,["safetySettings"]);if(n!==void 0&&I!=null){let re=I;Array.isArray(re)&&(re=re.map(st=>S0(st))),u(n,["safetySettings"],re)}let S=a(e,["tools"]);if(n!==void 0&&S!=null){let re=gr(S);Array.isArray(re)&&(re=re.map(st=>M0(hr(st)))),u(n,["tools"],re)}let A=a(e,["toolConfig"]);if(n!==void 0&&A!=null&&u(n,["toolConfig"],w0(A)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let V=a(e,["cachedContent"]);n!==void 0&&V!=null&&u(n,["cachedContent"],kt(t,V));let x=a(e,["responseModalities"]);x!=null&&u(r,["responseModalities"],x);let ne=a(e,["mediaResolution"]);ne!=null&&u(r,["mediaResolution"],ne);let O=a(e,["speechConfig"]);if(O!=null&&u(r,["speechConfig"],Ad(O)),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let q=a(e,["thinkingConfig"]);q!=null&&u(r,["thinkingConfig"],q);let ce=a(e,["imageConfig"]);ce!=null&&u(r,["imageConfig"],g0(ce));let Ft=a(e,["enableEnhancedCivicAnswers"]);return Ft!=null&&u(r,["enableEnhancedCivicAnswers"],Ft),r}function c0(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let r=a(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>WT(d))),u(e,["candidates"],c)}let o=a(t,["modelVersion"]);o!=null&&u(e,["modelVersion"],o);let i=a(t,["promptFeedback"]);i!=null&&u(e,["promptFeedback"],i);let s=a(t,["responseId"]);s!=null&&u(e,["responseId"],s);let l=a(t,["usageMetadata"]);return l!=null&&u(e,["usageMetadata"],l),e}function d0(t,e){let n={},r=a(e,["name"]);return r!=null&&u(n,["_url","name"],mr(t,r)),n}function f0(t,e){let n={},r=a(e,["name"]);return r!=null&&u(n,["_url","name"],mr(t,r)),n}function p0(t){let e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=a(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function h0(t){let e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=a(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function g0(t){let e={},n=a(t,["aspectRatio"]);n!=null&&u(e,["aspectRatio"],n);let r=a(t,["imageSize"]);if(r!=null&&u(e,["imageSize"],r),a(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(a(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function m0(t,e){let n={},r=a(e,["model"]);r!=null&&u(n,["request","model"],W(t,r));let o=a(e,["contents"]);if(o!=null){let l=qe(o);Array.isArray(l)&&(l=l.map(c=>sy(c))),u(n,["request","contents"],l)}let i=a(e,["metadata"]);i!=null&&u(n,["metadata"],i);let s=a(e,["config"]);return s!=null&&u(n,["request","generationConfig"],u0(t,s,a(n,["request"],{}))),n}function y0(t){let e={},n=a(t,["response"]);n!=null&&u(e,["response"],c0(n));let r=a(t,["error"]);return r!=null&&u(e,["error"],r),e}function v0(t,e){let n={},r=a(t,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);let o=a(t,["pageToken"]);if(e!==void 0&&o!=null&&u(e,["_query","pageToken"],o),a(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function E0(t,e){let n={},r=a(t,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);let o=a(t,["pageToken"]);e!==void 0&&o!=null&&u(e,["_query","pageToken"],o);let i=a(t,["filter"]);return e!==void 0&&i!=null&&u(e,["_query","filter"],i),n}function _0(t){let e={},n=a(t,["config"]);return n!=null&&v0(n,e),e}function C0(t){let e={},n=a(t,["config"]);return n!=null&&E0(n,e),e}function D0(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let r=a(t,["nextPageToken"]);r!=null&&u(e,["nextPageToken"],r);let o=a(t,["operations"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>Fs(s))),u(e,["batchJobs"],i)}return e}function I0(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let r=a(t,["nextPageToken"]);r!=null&&u(e,["nextPageToken"],r);let o=a(t,["batchPredictionJobs"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>zc(s))),u(e,["batchJobs"],i)}return e}function T0(t){let e={},n=a(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);let r=a(t,["codeExecutionResult"]);r!=null&&u(e,["codeExecutionResult"],r);let o=a(t,["executableCode"]);o!=null&&u(e,["executableCode"],o);let i=a(t,["fileData"]);i!=null&&u(e,["fileData"],s0(i));let s=a(t,["functionCall"]);s!=null&&u(e,["functionCall"],a0(s));let l=a(t,["functionResponse"]);l!=null&&u(e,["functionResponse"],l);let c=a(t,["inlineData"]);c!=null&&u(e,["inlineData"],$T(c));let d=a(t,["text"]);d!=null&&u(e,["text"],d);let f=a(t,["thought"]);f!=null&&u(e,["thought"],f);let p=a(t,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);let h=a(t,["videoMetadata"]);return h!=null&&u(e,["videoMetadata"],h),e}function S0(t){let e={},n=a(t,["category"]);if(n!=null&&u(e,["category"],n),a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let r=a(t,["threshold"]);return r!=null&&u(e,["threshold"],r),e}function w0(t){let e={},n=a(t,["functionCallingConfig"]);n!=null&&u(e,["functionCallingConfig"],l0(n));let r=a(t,["retrievalConfig"]);return r!=null&&u(e,["retrievalConfig"],r),e}function M0(t){let e={},n=a(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),u(e,["functionDeclarations"],f)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let r=a(t,["googleSearchRetrieval"]);r!=null&&u(e,["googleSearchRetrieval"],r);let o=a(t,["computerUse"]);o!=null&&u(e,["computerUse"],o);let i=a(t,["fileSearch"]);i!=null&&u(e,["fileSearch"],i);let s=a(t,["codeExecution"]);if(s!=null&&u(e,["codeExecution"],s),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let l=a(t,["googleMaps"]);l!=null&&u(e,["googleMaps"],p0(l));let c=a(t,["googleSearch"]);c!=null&&u(e,["googleSearch"],h0(c));let d=a(t,["urlContext"]);return d!=null&&u(e,["urlContext"],d),e}var Xt=(function(t){return t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents",t})(Xt||{}),Pt=class{constructor(e,n,r,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,o)}init(e,n,r){var o,i;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(i=(o=s.config)===null||o===void 0?void 0:o.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};let e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");let e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}};var Wc=class extends ot{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Pt(Xt.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){let n=Tm(this.apiClient,e),r=n._url,o=T("{model}:batchGenerateContent",r),l=n.batch.inputConfig.requests,c=l.requests,d=[];for(let f of c){let p=Object.assign({},f);if(p.systemInstruction){let h=p.systemInstruction;delete p.systemInstruction;let g=p.request;g.systemInstruction=h,p.request=g}d.push(p)}return l.requests=d,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){let r=n?Object.assign({},n):{},o=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${o}`),r.dest===void 0){let i=this.getGcsUri(e),s=this.getBigqueryUri(e);if(i)i.endsWith(".jsonl")?r.dest=`${i.slice(0,-6)}/dest`:r.dest=`${i}_dest_${o}`;else if(s)r.dest=`${s}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,o,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=KT(this.apiClient,e);return l=T("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>zc(f))}else{let d=Tm(this.apiClient,e);return l=T("{model}:batchGenerateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Fs(f))}}async createEmbeddingsInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=QT(this.apiClient,e);return i=T("{model}:asyncBatchEmbedContent",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>Fs(c))}}async get(e){var n,r,o,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=f0(this.apiClient,e);return l=T("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>zc(f))}else{let d=d0(this.apiClient,e);return l=T("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Fs(f))}}async cancel(e){var n,r,o,i;let s="",l={};if(this.apiClient.isVertexAI()){let c=zT(this.apiClient,e);s=T("batchPredictionJobs/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{let c=qT(this.apiClient,e);s=T("batches/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,r,o,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=C0(e);return l=T("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=I0(f),h=new js;return Object.assign(h,p),h})}else{let d=_0(e);return l=T("batches",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=D0(f),h=new js;return Object.assign(h,p),h})}}async delete(e){var n,r,o,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=e0(this.apiClient,e);return l=T("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>n0(f))}else{let d=XT(this.apiClient,e);return l=T("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>t0(f))}}};function A0(t){let e={},n=a(t,["data"]);if(n!=null&&u(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let r=a(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function Sm(t){let e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>Z0(i))),u(e,["parts"],o)}let r=a(t,["role"]);return r!=null&&u(e,["role"],r),e}function b0(t,e){let n={},r=a(t,["ttl"]);e!==void 0&&r!=null&&u(e,["ttl"],r);let o=a(t,["expireTime"]);e!==void 0&&o!=null&&u(e,["expireTime"],o);let i=a(t,["displayName"]);e!==void 0&&i!=null&&u(e,["displayName"],i);let s=a(t,["contents"]);if(e!==void 0&&s!=null){let f=qe(s);Array.isArray(f)&&(f=f.map(p=>Sm(p))),u(e,["contents"],f)}let l=a(t,["systemInstruction"]);e!==void 0&&l!=null&&u(e,["systemInstruction"],Sm(ye(l)));let c=a(t,["tools"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(p=>X0(p))),u(e,["tools"],f)}let d=a(t,["toolConfig"]);if(e!==void 0&&d!=null&&u(e,["toolConfig"],Q0(d)),a(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function N0(t,e){let n={},r=a(t,["ttl"]);e!==void 0&&r!=null&&u(e,["ttl"],r);let o=a(t,["expireTime"]);e!==void 0&&o!=null&&u(e,["expireTime"],o);let i=a(t,["displayName"]);e!==void 0&&i!=null&&u(e,["displayName"],i);let s=a(t,["contents"]);if(e!==void 0&&s!=null){let p=qe(s);Array.isArray(p)&&(p=p.map(h=>h)),u(e,["contents"],p)}let l=a(t,["systemInstruction"]);e!==void 0&&l!=null&&u(e,["systemInstruction"],ye(l));let c=a(t,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(h=>eS(h))),u(e,["tools"],p)}let d=a(t,["toolConfig"]);e!==void 0&&d!=null&&u(e,["toolConfig"],d);let f=a(t,["kmsKeyName"]);return e!==void 0&&f!=null&&u(e,["encryption_spec","kmsKeyName"],f),n}function x0(t,e){let n={},r=a(e,["model"]);r!=null&&u(n,["model"],Jm(t,r));let o=a(e,["config"]);return o!=null&&b0(o,n),n}function R0(t,e){let n={},r=a(e,["model"]);r!=null&&u(n,["model"],Jm(t,r));let o=a(e,["config"]);return o!=null&&N0(o,n),n}function P0(t,e){let n={},r=a(e,["name"]);return r!=null&&u(n,["_url","name"],kt(t,r)),n}function k0(t,e){let n={},r=a(e,["name"]);return r!=null&&u(n,["_url","name"],kt(t,r)),n}function F0(t){let e={},n=a(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function L0(t){let e={},n=a(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function O0(t){let e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=a(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);let r=a(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function V0(t){let e={},n=a(t,["id"]);n!=null&&u(e,["id"],n);let r=a(t,["args"]);r!=null&&u(e,["args"],r);let o=a(t,["name"]);if(o!=null&&u(e,["name"],o),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function U0(t){let e={},n=a(t,["mode"]);n!=null&&u(e,["mode"],n);let r=a(t,["allowedFunctionNames"]);if(r!=null&&u(e,["allowedFunctionNames"],r),a(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function B0(t){let e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");let n=a(t,["description"]);n!=null&&u(e,["description"],n);let r=a(t,["name"]);r!=null&&u(e,["name"],r);let o=a(t,["parameters"]);o!=null&&u(e,["parameters"],o);let i=a(t,["parametersJsonSchema"]);i!=null&&u(e,["parametersJsonSchema"],i);let s=a(t,["response"]);s!=null&&u(e,["response"],s);let l=a(t,["responseJsonSchema"]);return l!=null&&u(e,["responseJsonSchema"],l),e}function H0(t,e){let n={},r=a(e,["name"]);return r!=null&&u(n,["_url","name"],kt(t,r)),n}function G0(t,e){let n={},r=a(e,["name"]);return r!=null&&u(n,["_url","name"],kt(t,r)),n}function $0(t){let e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=a(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function q0(t){let e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=a(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function z0(t,e){let n={},r=a(t,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);let o=a(t,["pageToken"]);return e!==void 0&&o!=null&&u(e,["_query","pageToken"],o),n}function W0(t,e){let n={},r=a(t,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);let o=a(t,["pageToken"]);return e!==void 0&&o!=null&&u(e,["_query","pageToken"],o),n}function j0(t){let e={},n=a(t,["config"]);return n!=null&&z0(n,e),e}function J0(t){let e={},n=a(t,["config"]);return n!=null&&W0(n,e),e}function Y0(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let r=a(t,["nextPageToken"]);r!=null&&u(e,["nextPageToken"],r);let o=a(t,["cachedContents"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["cachedContents"],i)}return e}function K0(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let r=a(t,["nextPageToken"]);r!=null&&u(e,["nextPageToken"],r);let o=a(t,["cachedContents"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["cachedContents"],i)}return e}function Z0(t){let e={},n=a(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);let r=a(t,["codeExecutionResult"]);r!=null&&u(e,["codeExecutionResult"],r);let o=a(t,["executableCode"]);o!=null&&u(e,["executableCode"],o);let i=a(t,["fileData"]);i!=null&&u(e,["fileData"],O0(i));let s=a(t,["functionCall"]);s!=null&&u(e,["functionCall"],V0(s));let l=a(t,["functionResponse"]);l!=null&&u(e,["functionResponse"],l);let c=a(t,["inlineData"]);c!=null&&u(e,["inlineData"],A0(c));let d=a(t,["text"]);d!=null&&u(e,["text"],d);let f=a(t,["thought"]);f!=null&&u(e,["thought"],f);let p=a(t,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);let h=a(t,["videoMetadata"]);return h!=null&&u(e,["videoMetadata"],h),e}function Q0(t){let e={},n=a(t,["functionCallingConfig"]);n!=null&&u(e,["functionCallingConfig"],U0(n));let r=a(t,["retrievalConfig"]);return r!=null&&u(e,["retrievalConfig"],r),e}function X0(t){let e={},n=a(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),u(e,["functionDeclarations"],f)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let r=a(t,["googleSearchRetrieval"]);r!=null&&u(e,["googleSearchRetrieval"],r);let o=a(t,["computerUse"]);o!=null&&u(e,["computerUse"],o);let i=a(t,["fileSearch"]);i!=null&&u(e,["fileSearch"],i);let s=a(t,["codeExecution"]);if(s!=null&&u(e,["codeExecution"],s),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let l=a(t,["googleMaps"]);l!=null&&u(e,["googleMaps"],$0(l));let c=a(t,["googleSearch"]);c!=null&&u(e,["googleSearch"],q0(c));let d=a(t,["urlContext"]);return d!=null&&u(e,["urlContext"],d),e}function eS(t){let e={},n=a(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>B0(h))),u(e,["functionDeclarations"],p)}let r=a(t,["retrieval"]);r!=null&&u(e,["retrieval"],r);let o=a(t,["googleSearchRetrieval"]);o!=null&&u(e,["googleSearchRetrieval"],o);let i=a(t,["computerUse"]);if(i!=null&&u(e,["computerUse"],i),a(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let s=a(t,["codeExecution"]);s!=null&&u(e,["codeExecution"],s);let l=a(t,["enterpriseWebSearch"]);l!=null&&u(e,["enterpriseWebSearch"],l);let c=a(t,["googleMaps"]);c!=null&&u(e,["googleMaps"],c);let d=a(t,["googleSearch"]);d!=null&&u(e,["googleSearch"],d);let f=a(t,["urlContext"]);return f!=null&&u(e,["urlContext"],f),e}function tS(t,e){let n={},r=a(t,["ttl"]);e!==void 0&&r!=null&&u(e,["ttl"],r);let o=a(t,["expireTime"]);return e!==void 0&&o!=null&&u(e,["expireTime"],o),n}function nS(t,e){let n={},r=a(t,["ttl"]);e!==void 0&&r!=null&&u(e,["ttl"],r);let o=a(t,["expireTime"]);return e!==void 0&&o!=null&&u(e,["expireTime"],o),n}function rS(t,e){let n={},r=a(e,["name"]);r!=null&&u(n,["_url","name"],kt(t,r));let o=a(e,["config"]);return o!=null&&tS(o,n),n}function oS(t,e){let n={},r=a(e,["name"]);r!=null&&u(n,["_url","name"],kt(t,r));let o=a(e,["config"]);return o!=null&&nS(o,n),n}var jc=class extends ot{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Pt(Xt.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,o,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=R0(this.apiClient,e);return l=T("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{let d=x0(this.apiClient,e);return l=T("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async get(e){var n,r,o,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=G0(this.apiClient,e);return l=T("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{let d=H0(this.apiClient,e);return l=T("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async delete(e){var n,r,o,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=k0(this.apiClient,e);return l=T("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=L0(f),h=new zs;return Object.assign(h,p),h})}else{let d=P0(this.apiClient,e);return l=T("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=F0(f),h=new zs;return Object.assign(h,p),h})}}async update(e){var n,r,o,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=oS(this.apiClient,e);return l=T("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{let d=rS(this.apiClient,e);return l=T("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async listInternal(e){var n,r,o,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=J0(e);return l=T("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=K0(f),h=new Ws;return Object.assign(h,p),h})}else{let d=j0(e);return l=T("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=Y0(f),h=new Ws;return Object.assign(h,p),h})}}};function Ys(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function wm(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function L(t){return this instanceof L?(this.v=t,this):new L(t)}function nt(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(g){return function(m){return Promise.resolve(m).then(g,p)}}function l(g,m){r[g]&&(o[g]=function(v){return new Promise(function(E,y){i.push([g,v,E,y])>1||c(g,v)})},m&&(o[g]=m(o[g])))}function c(g,m){try{d(r[g](m))}catch(v){h(i[0][3],v)}}function d(g){g.value instanceof L?Promise.resolve(g.value.v).then(f,p):h(i[0][2],g)}function f(g){c("next",g)}function p(g){c("throw",g)}function h(g,m){g(m),i.shift(),i.length&&c(i[0][0],i[0][1])}}function rt(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof wm=="function"?wm(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(s){return new Promise(function(l,c){s=t[i](s),o(l,c,s.done,s.value)})}}function o(i,s,l,c){Promise.resolve(c).then(function(d){i({value:d,done:l})},s)}}function iS(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;let n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:ay(n)}function ay(t){if(t.parts===void 0||t.parts.length===0)return!1;for(let e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function sS(t){if(t.length!==0){for(let e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Mm(t){if(t===void 0||t.length===0)return[];let e=[],n=t.length,r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{let o=[],i=!0;for(;r<n&&t[r].role==="model";)o.push(t[r]),i&&!ay(t[r])&&(i=!1),r++;i?e.push(...o):e.pop()}return e}var Jc=class{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Yc(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}},Yc=class{constructor(e,n,r,o={},i=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=o,this.history=i,this.sendPromise=Promise.resolve(),sS(i)}async sendMessage(e){var n;await this.sendPromise;let r=ye(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,s,l;let c=await o,d=(s=(i=c.candidates)===null||i===void 0?void 0:i[0])===null||s===void 0?void 0:s.content,f=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length,h=[];f!=null&&(h=(l=f.slice(p))!==null&&l!==void 0?l:[]);let g=d?[d]:[];this.recordHistory(r,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;let r=ye(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});let i=await o;return this.processStreamResponse(i,r)}getHistory(e=!1){let n=e?Mm(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return nt(this,arguments,function*(){var o,i,s,l,c,d;let f=[];try{for(var p=!0,h=rt(e),g;g=yield L(h.next()),o=g.done,!o;p=!0){l=g.value,p=!1;let m=l;if(iS(m)){let v=(d=(c=m.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content;v!==void 0&&f.push(v)}yield yield L(m)}}catch(m){i={error:m}}finally{try{!p&&!o&&(s=h.return)&&(yield L(s.call(h)))}finally{if(i)throw i.error}}this.recordHistory(n,f)})}recordHistory(e,n,r){let o=[];n.length>0&&n.every(i=>i.role!==void 0)?o=n:o.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...Mm(r)):this.history.push(e),this.history.push(...o)}};var Ks=class t extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,t.prototype)}};function aS(t){let e={},n=a(t,["file"]);return n!=null&&u(e,["file"],n),e}function lS(t){let e={},n=a(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function uS(t){let e={},n=a(t,["name"]);return n!=null&&u(e,["_url","file"],ey(n)),e}function cS(t){let e={},n=a(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function dS(t){let e={},n=a(t,["name"]);return n!=null&&u(e,["_url","file"],ey(n)),e}function fS(t,e){let n={},r=a(t,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);let o=a(t,["pageToken"]);return e!==void 0&&o!=null&&u(e,["_query","pageToken"],o),n}function pS(t){let e={},n=a(t,["config"]);return n!=null&&fS(n,e),e}function hS(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let r=a(t,["nextPageToken"]);r!=null&&u(e,["nextPageToken"],r);let o=a(t,["files"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["files"],i)}return e}var Kc=class extends ot{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Pt(Xt.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=pS(e);return i=T("files",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{let d=hS(c),f=new Vc;return Object.assign(f,d),f})}}async createInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=aS(e);return i=T("upload/v1beta/files",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>{let d=lS(c),f=new Uc;return Object.assign(f,d),f})}}async get(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=dS(e);return i=T("files/{file}",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async delete(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=uS(e);return i=T("files/{file}",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{let d=cS(c),f=new Bc;return Object.assign(f,d),f})}}};function Ls(t){let e={},n=a(t,["data"]);if(n!=null&&u(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let r=a(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function gS(t){let e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>xS(i))),u(e,["parts"],o)}let r=a(t,["role"]);return r!=null&&u(e,["role"],r),e}function mS(t){let e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=a(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);let r=a(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function yS(t){let e={},n=a(t,["id"]);n!=null&&u(e,["id"],n);let r=a(t,["args"]);r!=null&&u(e,["args"],r);let o=a(t,["name"]);if(o!=null&&u(e,["name"],o),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function vS(t){let e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");let n=a(t,["description"]);n!=null&&u(e,["description"],n);let r=a(t,["name"]);r!=null&&u(e,["name"],r);let o=a(t,["parameters"]);o!=null&&u(e,["parameters"],o);let i=a(t,["parametersJsonSchema"]);i!=null&&u(e,["parametersJsonSchema"],i);let s=a(t,["response"]);s!=null&&u(e,["response"],s);let l=a(t,["responseJsonSchema"]);return l!=null&&u(e,["responseJsonSchema"],l),e}function ES(t){let e={},n=a(t,["modelSelectionConfig"]);n!=null&&u(e,["modelConfig"],n);let r=a(t,["responseJsonSchema"]);r!=null&&u(e,["responseJsonSchema"],r);let o=a(t,["audioTimestamp"]);o!=null&&u(e,["audioTimestamp"],o);let i=a(t,["candidateCount"]);i!=null&&u(e,["candidateCount"],i);let s=a(t,["enableAffectiveDialog"]);s!=null&&u(e,["enableAffectiveDialog"],s);let l=a(t,["frequencyPenalty"]);l!=null&&u(e,["frequencyPenalty"],l);let c=a(t,["logprobs"]);c!=null&&u(e,["logprobs"],c);let d=a(t,["maxOutputTokens"]);d!=null&&u(e,["maxOutputTokens"],d);let f=a(t,["mediaResolution"]);f!=null&&u(e,["mediaResolution"],f);let p=a(t,["presencePenalty"]);p!=null&&u(e,["presencePenalty"],p);let h=a(t,["responseLogprobs"]);h!=null&&u(e,["responseLogprobs"],h);let g=a(t,["responseMimeType"]);g!=null&&u(e,["responseMimeType"],g);let m=a(t,["responseModalities"]);m!=null&&u(e,["responseModalities"],m);let v=a(t,["responseSchema"]);v!=null&&u(e,["responseSchema"],v);let E=a(t,["routingConfig"]);E!=null&&u(e,["routingConfig"],E);let y=a(t,["seed"]);y!=null&&u(e,["seed"],y);let D=a(t,["speechConfig"]);D!=null&&u(e,["speechConfig"],D);let I=a(t,["stopSequences"]);I!=null&&u(e,["stopSequences"],I);let S=a(t,["temperature"]);S!=null&&u(e,["temperature"],S);let A=a(t,["thinkingConfig"]);A!=null&&u(e,["thinkingConfig"],A);let V=a(t,["topK"]);V!=null&&u(e,["topK"],V);let x=a(t,["topP"]);if(x!=null&&u(e,["topP"],x),a(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function _S(t){let e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=a(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function CS(t){let e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=a(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function DS(t,e){let n={},r=a(t,["generationConfig"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig"],r);let o=a(t,["responseModalities"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig","responseModalities"],o);let i=a(t,["temperature"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig","temperature"],i);let s=a(t,["topP"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","topP"],s);let l=a(t,["topK"]);e!==void 0&&l!=null&&u(e,["setup","generationConfig","topK"],l);let c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","maxOutputTokens"],c);let d=a(t,["mediaResolution"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","mediaResolution"],d);let f=a(t,["seed"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","seed"],f);let p=a(t,["speechConfig"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","speechConfig"],bd(p));let h=a(t,["thinkingConfig"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","thinkingConfig"],h);let g=a(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],g);let m=a(t,["systemInstruction"]);e!==void 0&&m!=null&&u(e,["setup","systemInstruction"],gS(ye(m)));let v=a(t,["tools"]);if(e!==void 0&&v!=null){let V=gr(v);Array.isArray(V)&&(V=V.map(x=>PS(hr(x)))),u(e,["setup","tools"],V)}let E=a(t,["sessionResumption"]);e!==void 0&&E!=null&&u(e,["setup","sessionResumption"],RS(E));let y=a(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&u(e,["setup","inputAudioTranscription"],y);let D=a(t,["outputAudioTranscription"]);e!==void 0&&D!=null&&u(e,["setup","outputAudioTranscription"],D);let I=a(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&u(e,["setup","realtimeInputConfig"],I);let S=a(t,["contextWindowCompression"]);e!==void 0&&S!=null&&u(e,["setup","contextWindowCompression"],S);let A=a(t,["proactivity"]);if(e!==void 0&&A!=null&&u(e,["setup","proactivity"],A),a(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function IS(t,e){let n={},r=a(t,["generationConfig"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig"],ES(r));let o=a(t,["responseModalities"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig","responseModalities"],o);let i=a(t,["temperature"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig","temperature"],i);let s=a(t,["topP"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","topP"],s);let l=a(t,["topK"]);e!==void 0&&l!=null&&u(e,["setup","generationConfig","topK"],l);let c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","maxOutputTokens"],c);let d=a(t,["mediaResolution"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","mediaResolution"],d);let f=a(t,["seed"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","seed"],f);let p=a(t,["speechConfig"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","speechConfig"],bd(p));let h=a(t,["thinkingConfig"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","thinkingConfig"],h);let g=a(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],g);let m=a(t,["systemInstruction"]);e!==void 0&&m!=null&&u(e,["setup","systemInstruction"],ye(m));let v=a(t,["tools"]);if(e!==void 0&&v!=null){let x=gr(v);Array.isArray(x)&&(x=x.map(ne=>kS(hr(ne)))),u(e,["setup","tools"],x)}let E=a(t,["sessionResumption"]);e!==void 0&&E!=null&&u(e,["setup","sessionResumption"],E);let y=a(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&u(e,["setup","inputAudioTranscription"],y);let D=a(t,["outputAudioTranscription"]);e!==void 0&&D!=null&&u(e,["setup","outputAudioTranscription"],D);let I=a(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&u(e,["setup","realtimeInputConfig"],I);let S=a(t,["contextWindowCompression"]);e!==void 0&&S!=null&&u(e,["setup","contextWindowCompression"],S);let A=a(t,["proactivity"]);e!==void 0&&A!=null&&u(e,["setup","proactivity"],A);let V=a(t,["explicitVadSignal"]);return e!==void 0&&V!=null&&u(e,["setup","explicitVadSignal"],V),n}function TS(t,e){let n={},r=a(e,["model"]);r!=null&&u(n,["setup","model"],W(t,r));let o=a(e,["config"]);return o!=null&&u(n,["config"],DS(o,n)),n}function SS(t,e){let n={},r=a(e,["model"]);r!=null&&u(n,["setup","model"],W(t,r));let o=a(e,["config"]);return o!=null&&u(n,["config"],IS(o,n)),n}function wS(t){let e={},n=a(t,["musicGenerationConfig"]);return n!=null&&u(e,["musicGenerationConfig"],n),e}function MS(t){let e={},n=a(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),u(e,["weightedPrompts"],r)}return e}function AS(t){let e={},n=a(t,["media"]);if(n!=null){let d=Ym(n);Array.isArray(d)&&(d=d.map(f=>Ls(f))),u(e,["mediaChunks"],d)}let r=a(t,["audio"]);r!=null&&u(e,["audio"],Ls(Zm(r)));let o=a(t,["audioStreamEnd"]);o!=null&&u(e,["audioStreamEnd"],o);let i=a(t,["video"]);i!=null&&u(e,["video"],Ls(Km(i)));let s=a(t,["text"]);s!=null&&u(e,["text"],s);let l=a(t,["activityStart"]);l!=null&&u(e,["activityStart"],l);let c=a(t,["activityEnd"]);return c!=null&&u(e,["activityEnd"],c),e}function bS(t){let e={},n=a(t,["media"]);if(n!=null){let d=Ym(n);Array.isArray(d)&&(d=d.map(f=>f)),u(e,["mediaChunks"],d)}let r=a(t,["audio"]);r!=null&&u(e,["audio"],Zm(r));let o=a(t,["audioStreamEnd"]);o!=null&&u(e,["audioStreamEnd"],o);let i=a(t,["video"]);i!=null&&u(e,["video"],Km(i));let s=a(t,["text"]);s!=null&&u(e,["text"],s);let l=a(t,["activityStart"]);l!=null&&u(e,["activityStart"],l);let c=a(t,["activityEnd"]);return c!=null&&u(e,["activityEnd"],c),e}function NS(t){let e={},n=a(t,["setupComplete"]);n!=null&&u(e,["setupComplete"],n);let r=a(t,["serverContent"]);r!=null&&u(e,["serverContent"],r);let o=a(t,["toolCall"]);o!=null&&u(e,["toolCall"],o);let i=a(t,["toolCallCancellation"]);i!=null&&u(e,["toolCallCancellation"],i);let s=a(t,["usageMetadata"]);s!=null&&u(e,["usageMetadata"],FS(s));let l=a(t,["goAway"]);l!=null&&u(e,["goAway"],l);let c=a(t,["sessionResumptionUpdate"]);c!=null&&u(e,["sessionResumptionUpdate"],c);let d=a(t,["voiceActivityDetectionSignal"]);return d!=null&&u(e,["voiceActivityDetectionSignal"],d),e}function xS(t){let e={},n=a(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);let r=a(t,["codeExecutionResult"]);r!=null&&u(e,["codeExecutionResult"],r);let o=a(t,["executableCode"]);o!=null&&u(e,["executableCode"],o);let i=a(t,["fileData"]);i!=null&&u(e,["fileData"],mS(i));let s=a(t,["functionCall"]);s!=null&&u(e,["functionCall"],yS(s));let l=a(t,["functionResponse"]);l!=null&&u(e,["functionResponse"],l);let c=a(t,["inlineData"]);c!=null&&u(e,["inlineData"],Ls(c));let d=a(t,["text"]);d!=null&&u(e,["text"],d);let f=a(t,["thought"]);f!=null&&u(e,["thought"],f);let p=a(t,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);let h=a(t,["videoMetadata"]);return h!=null&&u(e,["videoMetadata"],h),e}function RS(t){let e={},n=a(t,["handle"]);if(n!=null&&u(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function PS(t){let e={},n=a(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),u(e,["functionDeclarations"],f)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let r=a(t,["googleSearchRetrieval"]);r!=null&&u(e,["googleSearchRetrieval"],r);let o=a(t,["computerUse"]);o!=null&&u(e,["computerUse"],o);let i=a(t,["fileSearch"]);i!=null&&u(e,["fileSearch"],i);let s=a(t,["codeExecution"]);if(s!=null&&u(e,["codeExecution"],s),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let l=a(t,["googleMaps"]);l!=null&&u(e,["googleMaps"],_S(l));let c=a(t,["googleSearch"]);c!=null&&u(e,["googleSearch"],CS(c));let d=a(t,["urlContext"]);return d!=null&&u(e,["urlContext"],d),e}function kS(t){let e={},n=a(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>vS(h))),u(e,["functionDeclarations"],p)}let r=a(t,["retrieval"]);r!=null&&u(e,["retrieval"],r);let o=a(t,["googleSearchRetrieval"]);o!=null&&u(e,["googleSearchRetrieval"],o);let i=a(t,["computerUse"]);if(i!=null&&u(e,["computerUse"],i),a(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let s=a(t,["codeExecution"]);s!=null&&u(e,["codeExecution"],s);let l=a(t,["enterpriseWebSearch"]);l!=null&&u(e,["enterpriseWebSearch"],l);let c=a(t,["googleMaps"]);c!=null&&u(e,["googleMaps"],c);let d=a(t,["googleSearch"]);d!=null&&u(e,["googleSearch"],d);let f=a(t,["urlContext"]);return f!=null&&u(e,["urlContext"],f),e}function FS(t){let e={},n=a(t,["promptTokenCount"]);n!=null&&u(e,["promptTokenCount"],n);let r=a(t,["cachedContentTokenCount"]);r!=null&&u(e,["cachedContentTokenCount"],r);let o=a(t,["candidatesTokenCount"]);o!=null&&u(e,["responseTokenCount"],o);let i=a(t,["toolUsePromptTokenCount"]);i!=null&&u(e,["toolUsePromptTokenCount"],i);let s=a(t,["thoughtsTokenCount"]);s!=null&&u(e,["thoughtsTokenCount"],s);let l=a(t,["totalTokenCount"]);l!=null&&u(e,["totalTokenCount"],l);let c=a(t,["promptTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(m=>m)),u(e,["promptTokensDetails"],g)}let d=a(t,["cacheTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(m=>m)),u(e,["cacheTokensDetails"],g)}let f=a(t,["candidatesTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(m=>m)),u(e,["responseTokensDetails"],g)}let p=a(t,["toolUsePromptTokensDetails"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(m=>m)),u(e,["toolUsePromptTokensDetails"],g)}let h=a(t,["trafficType"]);return h!=null&&u(e,["trafficType"],h),e}function LS(t){let e={},n=a(t,["data"]);if(n!=null&&u(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let r=a(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function OS(t){let e={},n=a(t,["content"]);n!=null&&u(e,["content"],n);let r=a(t,["citationMetadata"]);r!=null&&u(e,["citationMetadata"],VS(r));let o=a(t,["tokenCount"]);o!=null&&u(e,["tokenCount"],o);let i=a(t,["finishReason"]);i!=null&&u(e,["finishReason"],i);let s=a(t,["avgLogprobs"]);s!=null&&u(e,["avgLogprobs"],s);let l=a(t,["groundingMetadata"]);l!=null&&u(e,["groundingMetadata"],l);let c=a(t,["index"]);c!=null&&u(e,["index"],c);let d=a(t,["logprobsResult"]);d!=null&&u(e,["logprobsResult"],d);let f=a(t,["safetyRatings"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>g)),u(e,["safetyRatings"],h)}let p=a(t,["urlContextMetadata"]);return p!=null&&u(e,["urlContextMetadata"],p),e}function VS(t){let e={},n=a(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>o)),u(e,["citations"],r)}return e}function US(t,e){let n={},r=a(e,["model"]);r!=null&&u(n,["_url","model"],W(t,r));let o=a(e,["contents"]);if(o!=null){let i=qe(o);Array.isArray(i)&&(i=i.map(s=>s)),u(n,["contents"],i)}return n}function BS(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let r=a(t,["tokensInfo"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>i)),u(e,["tokensInfo"],o)}return e}function HS(t){let e={},n=a(t,["values"]);n!=null&&u(e,["values"],n);let r=a(t,["statistics"]);return r!=null&&u(e,["statistics"],GS(r)),e}function GS(t){let e={},n=a(t,["truncated"]);n!=null&&u(e,["truncated"],n);let r=a(t,["token_count"]);return r!=null&&u(e,["tokenCount"],r),e}function da(t){let e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>Zw(i))),u(e,["parts"],o)}let r=a(t,["role"]);return r!=null&&u(e,["role"],r),e}function $S(t){let e={},n=a(t,["controlType"]);n!=null&&u(e,["controlType"],n);let r=a(t,["enableControlImageComputation"]);return r!=null&&u(e,["computeControl"],r),e}function qS(t){let e={};if(a(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function zS(t,e){let n={},r=a(t,["systemInstruction"]);e!==void 0&&r!=null&&u(e,["systemInstruction"],ye(r));let o=a(t,["tools"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>dy(l))),u(e,["tools"],s)}let i=a(t,["generationConfig"]);return e!==void 0&&i!=null&&u(e,["generationConfig"],Lw(i)),n}function WS(t,e){let n={},r=a(e,["model"]);r!=null&&u(n,["_url","model"],W(t,r));let o=a(e,["contents"]);if(o!=null){let s=qe(o);Array.isArray(s)&&(s=s.map(l=>da(l))),u(n,["contents"],s)}let i=a(e,["config"]);return i!=null&&qS(i),n}function jS(t,e){let n={},r=a(e,["model"]);r!=null&&u(n,["_url","model"],W(t,r));let o=a(e,["contents"]);if(o!=null){let s=qe(o);Array.isArray(s)&&(s=s.map(l=>l)),u(n,["contents"],s)}let i=a(e,["config"]);return i!=null&&zS(i,n),n}function JS(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let r=a(t,["totalTokens"]);r!=null&&u(e,["totalTokens"],r);let o=a(t,["cachedContentTokenCount"]);return o!=null&&u(e,["cachedContentTokenCount"],o),e}function YS(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let r=a(t,["totalTokens"]);return r!=null&&u(e,["totalTokens"],r),e}function KS(t,e){let n={},r=a(e,["model"]);return r!=null&&u(n,["_url","name"],W(t,r)),n}function ZS(t,e){let n={},r=a(e,["model"]);return r!=null&&u(n,["_url","name"],W(t,r)),n}function QS(t){let e={},n=a(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function XS(t){let e={},n=a(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}function ew(t,e){let n={},r=a(t,["outputGcsUri"]);e!==void 0&&r!=null&&u(e,["parameters","storageUri"],r);let o=a(t,["negativePrompt"]);e!==void 0&&o!=null&&u(e,["parameters","negativePrompt"],o);let i=a(t,["numberOfImages"]);e!==void 0&&i!=null&&u(e,["parameters","sampleCount"],i);let s=a(t,["aspectRatio"]);e!==void 0&&s!=null&&u(e,["parameters","aspectRatio"],s);let l=a(t,["guidanceScale"]);e!==void 0&&l!=null&&u(e,["parameters","guidanceScale"],l);let c=a(t,["seed"]);e!==void 0&&c!=null&&u(e,["parameters","seed"],c);let d=a(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&u(e,["parameters","safetySetting"],d);let f=a(t,["personGeneration"]);e!==void 0&&f!=null&&u(e,["parameters","personGeneration"],f);let p=a(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&u(e,["parameters","includeSafetyAttributes"],p);let h=a(t,["includeRaiReason"]);e!==void 0&&h!=null&&u(e,["parameters","includeRaiReason"],h);let g=a(t,["language"]);e!==void 0&&g!=null&&u(e,["parameters","language"],g);let m=a(t,["outputMimeType"]);e!==void 0&&m!=null&&u(e,["parameters","outputOptions","mimeType"],m);let v=a(t,["outputCompressionQuality"]);e!==void 0&&v!=null&&u(e,["parameters","outputOptions","compressionQuality"],v);let E=a(t,["addWatermark"]);e!==void 0&&E!=null&&u(e,["parameters","addWatermark"],E);let y=a(t,["labels"]);e!==void 0&&y!=null&&u(e,["labels"],y);let D=a(t,["editMode"]);e!==void 0&&D!=null&&u(e,["parameters","editMode"],D);let I=a(t,["baseSteps"]);return e!==void 0&&I!=null&&u(e,["parameters","editConfig","baseSteps"],I),n}function tw(t,e){let n={},r=a(e,["model"]);r!=null&&u(n,["_url","model"],W(t,r));let o=a(e,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);let i=a(e,["referenceImages"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>rM(c))),u(n,["instances[0]","referenceImages"],l)}let s=a(e,["config"]);return s!=null&&ew(s,n),n}function nw(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let r=a(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>fa(i))),u(e,["generatedImages"],o)}return e}function rw(t,e){let n={},r=a(t,["taskType"]);e!==void 0&&r!=null&&u(e,["requests[]","taskType"],r);let o=a(t,["title"]);e!==void 0&&o!=null&&u(e,["requests[]","title"],o);let i=a(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&u(e,["requests[]","outputDimensionality"],i),a(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function ow(t,e){let n={},r=a(t,["taskType"]);e!==void 0&&r!=null&&u(e,["instances[]","task_type"],r);let o=a(t,["title"]);e!==void 0&&o!=null&&u(e,["instances[]","title"],o);let i=a(t,["outputDimensionality"]);e!==void 0&&i!=null&&u(e,["parameters","outputDimensionality"],i);let s=a(t,["mimeType"]);e!==void 0&&s!=null&&u(e,["instances[]","mimeType"],s);let l=a(t,["autoTruncate"]);return e!==void 0&&l!=null&&u(e,["parameters","autoTruncate"],l),n}function iw(t,e){let n={},r=a(e,["model"]);r!=null&&u(n,["_url","model"],W(t,r));let o=a(e,["contents"]);if(o!=null){let l=wd(t,o);Array.isArray(l)&&(l=l.map(c=>c)),u(n,["requests[]","content"],l)}let i=a(e,["config"]);i!=null&&rw(i,n);let s=a(e,["model"]);return s!==void 0&&u(n,["requests[]","model"],W(t,s)),n}function sw(t,e){let n={},r=a(e,["model"]);r!=null&&u(n,["_url","model"],W(t,r));let o=a(e,["contents"]);if(o!=null){let s=wd(t,o);Array.isArray(s)&&(s=s.map(l=>l)),u(n,["instances[]","content"],s)}let i=a(e,["config"]);return i!=null&&ow(i,n),n}function aw(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let r=a(t,["embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["embeddings"],i)}let o=a(t,["metadata"]);return o!=null&&u(e,["metadata"],o),e}function lw(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let r=a(t,["predictions[]","embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>HS(s))),u(e,["embeddings"],i)}let o=a(t,["metadata"]);return o!=null&&u(e,["metadata"],o),e}function uw(t){let e={},n=a(t,["endpoint"]);n!=null&&u(e,["name"],n);let r=a(t,["deployedModelId"]);return r!=null&&u(e,["deployedModelId"],r),e}function cw(t){let e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=a(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);let r=a(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function dw(t){let e={},n=a(t,["id"]);n!=null&&u(e,["id"],n);let r=a(t,["args"]);r!=null&&u(e,["args"],r);let o=a(t,["name"]);if(o!=null&&u(e,["name"],o),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function fw(t){let e={},n=a(t,["mode"]);n!=null&&u(e,["mode"],n);let r=a(t,["allowedFunctionNames"]);if(r!=null&&u(e,["allowedFunctionNames"],r),a(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function pw(t){let e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");let n=a(t,["description"]);n!=null&&u(e,["description"],n);let r=a(t,["name"]);r!=null&&u(e,["name"],r);let o=a(t,["parameters"]);o!=null&&u(e,["parameters"],o);let i=a(t,["parametersJsonSchema"]);i!=null&&u(e,["parametersJsonSchema"],i);let s=a(t,["response"]);s!=null&&u(e,["response"],s);let l=a(t,["responseJsonSchema"]);return l!=null&&u(e,["responseJsonSchema"],l),e}function hw(t,e,n){let r={},o=a(e,["systemInstruction"]);n!==void 0&&o!=null&&u(n,["systemInstruction"],da(ye(o)));let i=a(e,["temperature"]);i!=null&&u(r,["temperature"],i);let s=a(e,["topP"]);s!=null&&u(r,["topP"],s);let l=a(e,["topK"]);l!=null&&u(r,["topK"],l);let c=a(e,["candidateCount"]);c!=null&&u(r,["candidateCount"],c);let d=a(e,["maxOutputTokens"]);d!=null&&u(r,["maxOutputTokens"],d);let f=a(e,["stopSequences"]);f!=null&&u(r,["stopSequences"],f);let p=a(e,["responseLogprobs"]);p!=null&&u(r,["responseLogprobs"],p);let h=a(e,["logprobs"]);h!=null&&u(r,["logprobs"],h);let g=a(e,["presencePenalty"]);g!=null&&u(r,["presencePenalty"],g);let m=a(e,["frequencyPenalty"]);m!=null&&u(r,["frequencyPenalty"],m);let v=a(e,["seed"]);v!=null&&u(r,["seed"],v);let E=a(e,["responseMimeType"]);E!=null&&u(r,["responseMimeType"],E);let y=a(e,["responseSchema"]);y!=null&&u(r,["responseSchema"],Md(y));let D=a(e,["responseJsonSchema"]);if(D!=null&&u(r,["responseJsonSchema"],D),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");let I=a(e,["safetySettings"]);if(n!==void 0&&I!=null){let re=I;Array.isArray(re)&&(re=re.map(st=>oM(st))),u(n,["safetySettings"],re)}let S=a(e,["tools"]);if(n!==void 0&&S!=null){let re=gr(S);Array.isArray(re)&&(re=re.map(st=>dM(hr(st)))),u(n,["tools"],re)}let A=a(e,["toolConfig"]);if(n!==void 0&&A!=null&&u(n,["toolConfig"],cM(A)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let V=a(e,["cachedContent"]);n!==void 0&&V!=null&&u(n,["cachedContent"],kt(t,V));let x=a(e,["responseModalities"]);x!=null&&u(r,["responseModalities"],x);let ne=a(e,["mediaResolution"]);ne!=null&&u(r,["mediaResolution"],ne);let O=a(e,["speechConfig"]);if(O!=null&&u(r,["speechConfig"],Ad(O)),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");let q=a(e,["thinkingConfig"]);q!=null&&u(r,["thinkingConfig"],q);let ce=a(e,["imageConfig"]);ce!=null&&u(r,["imageConfig"],Hw(ce));let Ft=a(e,["enableEnhancedCivicAnswers"]);return Ft!=null&&u(r,["enableEnhancedCivicAnswers"],Ft),r}function gw(t,e,n){let r={},o=a(e,["systemInstruction"]);n!==void 0&&o!=null&&u(n,["systemInstruction"],ye(o));let i=a(e,["temperature"]);i!=null&&u(r,["temperature"],i);let s=a(e,["topP"]);s!=null&&u(r,["topP"],s);let l=a(e,["topK"]);l!=null&&u(r,["topK"],l);let c=a(e,["candidateCount"]);c!=null&&u(r,["candidateCount"],c);let d=a(e,["maxOutputTokens"]);d!=null&&u(r,["maxOutputTokens"],d);let f=a(e,["stopSequences"]);f!=null&&u(r,["stopSequences"],f);let p=a(e,["responseLogprobs"]);p!=null&&u(r,["responseLogprobs"],p);let h=a(e,["logprobs"]);h!=null&&u(r,["logprobs"],h);let g=a(e,["presencePenalty"]);g!=null&&u(r,["presencePenalty"],g);let m=a(e,["frequencyPenalty"]);m!=null&&u(r,["frequencyPenalty"],m);let v=a(e,["seed"]);v!=null&&u(r,["seed"],v);let E=a(e,["responseMimeType"]);E!=null&&u(r,["responseMimeType"],E);let y=a(e,["responseSchema"]);y!=null&&u(r,["responseSchema"],Md(y));let D=a(e,["responseJsonSchema"]);D!=null&&u(r,["responseJsonSchema"],D);let I=a(e,["routingConfig"]);I!=null&&u(r,["routingConfig"],I);let S=a(e,["modelSelectionConfig"]);S!=null&&u(r,["modelConfig"],S);let A=a(e,["safetySettings"]);if(n!==void 0&&A!=null){let _t=A;Array.isArray(_t)&&(_t=_t.map(ma=>ma)),u(n,["safetySettings"],_t)}let V=a(e,["tools"]);if(n!==void 0&&V!=null){let _t=gr(V);Array.isArray(_t)&&(_t=_t.map(ma=>dy(hr(ma)))),u(n,["tools"],_t)}let x=a(e,["toolConfig"]);n!==void 0&&x!=null&&u(n,["toolConfig"],x);let ne=a(e,["labels"]);n!==void 0&&ne!=null&&u(n,["labels"],ne);let O=a(e,["cachedContent"]);n!==void 0&&O!=null&&u(n,["cachedContent"],kt(t,O));let q=a(e,["responseModalities"]);q!=null&&u(r,["responseModalities"],q);let ce=a(e,["mediaResolution"]);ce!=null&&u(r,["mediaResolution"],ce);let Ft=a(e,["speechConfig"]);Ft!=null&&u(r,["speechConfig"],Ad(Ft));let re=a(e,["audioTimestamp"]);re!=null&&u(r,["audioTimestamp"],re);let st=a(e,["thinkingConfig"]);st!=null&&u(r,["thinkingConfig"],st);let xd=a(e,["imageConfig"]);if(xd!=null&&u(r,["imageConfig"],Gw(xd)),a(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function Am(t,e){let n={},r=a(e,["model"]);r!=null&&u(n,["_url","model"],W(t,r));let o=a(e,["contents"]);if(o!=null){let s=qe(o);Array.isArray(s)&&(s=s.map(l=>da(l))),u(n,["contents"],s)}let i=a(e,["config"]);return i!=null&&u(n,["generationConfig"],hw(t,i,n)),n}function bm(t,e){let n={},r=a(e,["model"]);r!=null&&u(n,["_url","model"],W(t,r));let o=a(e,["contents"]);if(o!=null){let s=qe(o);Array.isArray(s)&&(s=s.map(l=>l)),u(n,["contents"],s)}let i=a(e,["config"]);return i!=null&&u(n,["generationConfig"],gw(t,i,n)),n}function Nm(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let r=a(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>OS(d))),u(e,["candidates"],c)}let o=a(t,["modelVersion"]);o!=null&&u(e,["modelVersion"],o);let i=a(t,["promptFeedback"]);i!=null&&u(e,["promptFeedback"],i);let s=a(t,["responseId"]);s!=null&&u(e,["responseId"],s);let l=a(t,["usageMetadata"]);return l!=null&&u(e,["usageMetadata"],l),e}function xm(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let r=a(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>f)),u(e,["candidates"],d)}let o=a(t,["createTime"]);o!=null&&u(e,["createTime"],o);let i=a(t,["modelVersion"]);i!=null&&u(e,["modelVersion"],i);let s=a(t,["promptFeedback"]);s!=null&&u(e,["promptFeedback"],s);let l=a(t,["responseId"]);l!=null&&u(e,["responseId"],l);let c=a(t,["usageMetadata"]);return c!=null&&u(e,["usageMetadata"],c),e}function mw(t,e){let n={};if(a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");let r=a(t,["numberOfImages"]);e!==void 0&&r!=null&&u(e,["parameters","sampleCount"],r);let o=a(t,["aspectRatio"]);e!==void 0&&o!=null&&u(e,["parameters","aspectRatio"],o);let i=a(t,["guidanceScale"]);if(e!==void 0&&i!=null&&u(e,["parameters","guidanceScale"],i),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let s=a(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&u(e,["parameters","safetySetting"],s);let l=a(t,["personGeneration"]);e!==void 0&&l!=null&&u(e,["parameters","personGeneration"],l);let c=a(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&u(e,["parameters","includeSafetyAttributes"],c);let d=a(t,["includeRaiReason"]);e!==void 0&&d!=null&&u(e,["parameters","includeRaiReason"],d);let f=a(t,["language"]);e!==void 0&&f!=null&&u(e,["parameters","language"],f);let p=a(t,["outputMimeType"]);e!==void 0&&p!=null&&u(e,["parameters","outputOptions","mimeType"],p);let h=a(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&u(e,["parameters","outputOptions","compressionQuality"],h),a(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(a(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");let g=a(t,["imageSize"]);if(e!==void 0&&g!=null&&u(e,["parameters","sampleImageSize"],g),a(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function yw(t,e){let n={},r=a(t,["outputGcsUri"]);e!==void 0&&r!=null&&u(e,["parameters","storageUri"],r);let o=a(t,["negativePrompt"]);e!==void 0&&o!=null&&u(e,["parameters","negativePrompt"],o);let i=a(t,["numberOfImages"]);e!==void 0&&i!=null&&u(e,["parameters","sampleCount"],i);let s=a(t,["aspectRatio"]);e!==void 0&&s!=null&&u(e,["parameters","aspectRatio"],s);let l=a(t,["guidanceScale"]);e!==void 0&&l!=null&&u(e,["parameters","guidanceScale"],l);let c=a(t,["seed"]);e!==void 0&&c!=null&&u(e,["parameters","seed"],c);let d=a(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&u(e,["parameters","safetySetting"],d);let f=a(t,["personGeneration"]);e!==void 0&&f!=null&&u(e,["parameters","personGeneration"],f);let p=a(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&u(e,["parameters","includeSafetyAttributes"],p);let h=a(t,["includeRaiReason"]);e!==void 0&&h!=null&&u(e,["parameters","includeRaiReason"],h);let g=a(t,["language"]);e!==void 0&&g!=null&&u(e,["parameters","language"],g);let m=a(t,["outputMimeType"]);e!==void 0&&m!=null&&u(e,["parameters","outputOptions","mimeType"],m);let v=a(t,["outputCompressionQuality"]);e!==void 0&&v!=null&&u(e,["parameters","outputOptions","compressionQuality"],v);let E=a(t,["addWatermark"]);e!==void 0&&E!=null&&u(e,["parameters","addWatermark"],E);let y=a(t,["labels"]);e!==void 0&&y!=null&&u(e,["labels"],y);let D=a(t,["imageSize"]);e!==void 0&&D!=null&&u(e,["parameters","sampleImageSize"],D);let I=a(t,["enhancePrompt"]);return e!==void 0&&I!=null&&u(e,["parameters","enhancePrompt"],I),n}function vw(t,e){let n={},r=a(e,["model"]);r!=null&&u(n,["_url","model"],W(t,r));let o=a(e,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);let i=a(e,["config"]);return i!=null&&mw(i,n),n}function Ew(t,e){let n={},r=a(e,["model"]);r!=null&&u(n,["_url","model"],W(t,r));let o=a(e,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);let i=a(e,["config"]);return i!=null&&yw(i,n),n}function _w(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let r=a(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Rw(s))),u(e,["generatedImages"],i)}let o=a(t,["positivePromptSafetyAttributes"]);return o!=null&&u(e,["positivePromptSafetyAttributes"],uy(o)),e}function Cw(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let r=a(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>fa(s))),u(e,["generatedImages"],i)}let o=a(t,["positivePromptSafetyAttributes"]);return o!=null&&u(e,["positivePromptSafetyAttributes"],cy(o)),e}function Dw(t,e){let n={},r=a(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&u(e,["parameters","sampleCount"],r),a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");let o=a(t,["durationSeconds"]);if(e!==void 0&&o!=null&&u(e,["parameters","durationSeconds"],o),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");let i=a(t,["aspectRatio"]);e!==void 0&&i!=null&&u(e,["parameters","aspectRatio"],i);let s=a(t,["resolution"]);e!==void 0&&s!=null&&u(e,["parameters","resolution"],s);let l=a(t,["personGeneration"]);if(e!==void 0&&l!=null&&u(e,["parameters","personGeneration"],l),a(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");let c=a(t,["negativePrompt"]);e!==void 0&&c!=null&&u(e,["parameters","negativePrompt"],c);let d=a(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&u(e,["parameters","enhancePrompt"],d),a(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");let f=a(t,["lastFrame"]);e!==void 0&&f!=null&&u(e,["instances[0]","lastFrame"],pa(f));let p=a(t,["referenceImages"]);if(e!==void 0&&p!=null){let h=p;Array.isArray(h)&&(h=h.map(g=>TM(g))),u(e,["instances[0]","referenceImages"],h)}if(a(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(a(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Iw(t,e){let n={},r=a(t,["numberOfVideos"]);e!==void 0&&r!=null&&u(e,["parameters","sampleCount"],r);let o=a(t,["outputGcsUri"]);e!==void 0&&o!=null&&u(e,["parameters","storageUri"],o);let i=a(t,["fps"]);e!==void 0&&i!=null&&u(e,["parameters","fps"],i);let s=a(t,["durationSeconds"]);e!==void 0&&s!=null&&u(e,["parameters","durationSeconds"],s);let l=a(t,["seed"]);e!==void 0&&l!=null&&u(e,["parameters","seed"],l);let c=a(t,["aspectRatio"]);e!==void 0&&c!=null&&u(e,["parameters","aspectRatio"],c);let d=a(t,["resolution"]);e!==void 0&&d!=null&&u(e,["parameters","resolution"],d);let f=a(t,["personGeneration"]);e!==void 0&&f!=null&&u(e,["parameters","personGeneration"],f);let p=a(t,["pubsubTopic"]);e!==void 0&&p!=null&&u(e,["parameters","pubsubTopic"],p);let h=a(t,["negativePrompt"]);e!==void 0&&h!=null&&u(e,["parameters","negativePrompt"],h);let g=a(t,["enhancePrompt"]);e!==void 0&&g!=null&&u(e,["parameters","enhancePrompt"],g);let m=a(t,["generateAudio"]);e!==void 0&&m!=null&&u(e,["parameters","generateAudio"],m);let v=a(t,["lastFrame"]);e!==void 0&&v!=null&&u(e,["instances[0]","lastFrame"],it(v));let E=a(t,["referenceImages"]);if(e!==void 0&&E!=null){let I=E;Array.isArray(I)&&(I=I.map(S=>SM(S))),u(e,["instances[0]","referenceImages"],I)}let y=a(t,["mask"]);e!==void 0&&y!=null&&u(e,["instances[0]","mask"],IM(y));let D=a(t,["compressionQuality"]);return e!==void 0&&D!=null&&u(e,["parameters","compressionQuality"],D),n}function Tw(t){let e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);let r=a(t,["metadata"]);r!=null&&u(e,["metadata"],r);let o=a(t,["done"]);o!=null&&u(e,["done"],o);let i=a(t,["error"]);i!=null&&u(e,["error"],i);let s=a(t,["response","generateVideoResponse"]);return s!=null&&u(e,["response"],Aw(s)),e}function Sw(t){let e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);let r=a(t,["metadata"]);r!=null&&u(e,["metadata"],r);let o=a(t,["done"]);o!=null&&u(e,["done"],o);let i=a(t,["error"]);i!=null&&u(e,["error"],i);let s=a(t,["response"]);return s!=null&&u(e,["response"],bw(s)),e}function ww(t,e){let n={},r=a(e,["model"]);r!=null&&u(n,["_url","model"],W(t,r));let o=a(e,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);let i=a(e,["image"]);i!=null&&u(n,["instances[0]","image"],pa(i));let s=a(e,["video"]);s!=null&&u(n,["instances[0]","video"],fy(s));let l=a(e,["source"]);l!=null&&Nw(l,n);let c=a(e,["config"]);return c!=null&&Dw(c,n),n}function Mw(t,e){let n={},r=a(e,["model"]);r!=null&&u(n,["_url","model"],W(t,r));let o=a(e,["prompt"]);o!=null&&u(n,["instances[0]","prompt"],o);let i=a(e,["image"]);i!=null&&u(n,["instances[0]","image"],it(i));let s=a(e,["video"]);s!=null&&u(n,["instances[0]","video"],py(s));let l=a(e,["source"]);l!=null&&xw(l,n);let c=a(e,["config"]);return c!=null&&Iw(c,n),n}function Aw(t){let e={},n=a(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>kw(s))),u(e,["generatedVideos"],i)}let r=a(t,["raiMediaFilteredCount"]);r!=null&&u(e,["raiMediaFilteredCount"],r);let o=a(t,["raiMediaFilteredReasons"]);return o!=null&&u(e,["raiMediaFilteredReasons"],o),e}function bw(t){let e={},n=a(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Fw(s))),u(e,["generatedVideos"],i)}let r=a(t,["raiMediaFilteredCount"]);r!=null&&u(e,["raiMediaFilteredCount"],r);let o=a(t,["raiMediaFilteredReasons"]);return o!=null&&u(e,["raiMediaFilteredReasons"],o),e}function Nw(t,e){let n={},r=a(t,["prompt"]);e!==void 0&&r!=null&&u(e,["instances[0]","prompt"],r);let o=a(t,["image"]);e!==void 0&&o!=null&&u(e,["instances[0]","image"],pa(o));let i=a(t,["video"]);return e!==void 0&&i!=null&&u(e,["instances[0]","video"],fy(i)),n}function xw(t,e){let n={},r=a(t,["prompt"]);e!==void 0&&r!=null&&u(e,["instances[0]","prompt"],r);let o=a(t,["image"]);e!==void 0&&o!=null&&u(e,["instances[0]","image"],it(o));let i=a(t,["video"]);return e!==void 0&&i!=null&&u(e,["instances[0]","video"],py(i)),n}function Rw(t){let e={},n=a(t,["_self"]);n!=null&&u(e,["image"],$w(n));let r=a(t,["raiFilteredReason"]);r!=null&&u(e,["raiFilteredReason"],r);let o=a(t,["_self"]);return o!=null&&u(e,["safetyAttributes"],uy(o)),e}function fa(t){let e={},n=a(t,["_self"]);n!=null&&u(e,["image"],ly(n));let r=a(t,["raiFilteredReason"]);r!=null&&u(e,["raiFilteredReason"],r);let o=a(t,["_self"]);o!=null&&u(e,["safetyAttributes"],cy(o));let i=a(t,["prompt"]);return i!=null&&u(e,["enhancedPrompt"],i),e}function Pw(t){let e={},n=a(t,["_self"]);n!=null&&u(e,["mask"],ly(n));let r=a(t,["labels"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>i)),u(e,["labels"],o)}return e}function kw(t){let e={},n=a(t,["video"]);return n!=null&&u(e,["video"],CM(n)),e}function Fw(t){let e={},n=a(t,["_self"]);return n!=null&&u(e,["video"],DM(n)),e}function Lw(t){let e={},n=a(t,["modelSelectionConfig"]);n!=null&&u(e,["modelConfig"],n);let r=a(t,["responseJsonSchema"]);r!=null&&u(e,["responseJsonSchema"],r);let o=a(t,["audioTimestamp"]);o!=null&&u(e,["audioTimestamp"],o);let i=a(t,["candidateCount"]);i!=null&&u(e,["candidateCount"],i);let s=a(t,["enableAffectiveDialog"]);s!=null&&u(e,["enableAffectiveDialog"],s);let l=a(t,["frequencyPenalty"]);l!=null&&u(e,["frequencyPenalty"],l);let c=a(t,["logprobs"]);c!=null&&u(e,["logprobs"],c);let d=a(t,["maxOutputTokens"]);d!=null&&u(e,["maxOutputTokens"],d);let f=a(t,["mediaResolution"]);f!=null&&u(e,["mediaResolution"],f);let p=a(t,["presencePenalty"]);p!=null&&u(e,["presencePenalty"],p);let h=a(t,["responseLogprobs"]);h!=null&&u(e,["responseLogprobs"],h);let g=a(t,["responseMimeType"]);g!=null&&u(e,["responseMimeType"],g);let m=a(t,["responseModalities"]);m!=null&&u(e,["responseModalities"],m);let v=a(t,["responseSchema"]);v!=null&&u(e,["responseSchema"],v);let E=a(t,["routingConfig"]);E!=null&&u(e,["routingConfig"],E);let y=a(t,["seed"]);y!=null&&u(e,["seed"],y);let D=a(t,["speechConfig"]);D!=null&&u(e,["speechConfig"],D);let I=a(t,["stopSequences"]);I!=null&&u(e,["stopSequences"],I);let S=a(t,["temperature"]);S!=null&&u(e,["temperature"],S);let A=a(t,["thinkingConfig"]);A!=null&&u(e,["thinkingConfig"],A);let V=a(t,["topK"]);V!=null&&u(e,["topK"],V);let x=a(t,["topP"]);if(x!=null&&u(e,["topP"],x),a(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Ow(t,e){let n={},r=a(e,["model"]);return r!=null&&u(n,["_url","name"],W(t,r)),n}function Vw(t,e){let n={},r=a(e,["model"]);return r!=null&&u(n,["_url","name"],W(t,r)),n}function Uw(t){let e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=a(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function Bw(t){let e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=a(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function Hw(t){let e={},n=a(t,["aspectRatio"]);n!=null&&u(e,["aspectRatio"],n);let r=a(t,["imageSize"]);if(r!=null&&u(e,["imageSize"],r),a(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(a(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Gw(t){let e={},n=a(t,["aspectRatio"]);n!=null&&u(e,["aspectRatio"],n);let r=a(t,["imageSize"]);r!=null&&u(e,["imageSize"],r);let o=a(t,["outputMimeType"]);o!=null&&u(e,["imageOutputOptions","mimeType"],o);let i=a(t,["outputCompressionQuality"]);return i!=null&&u(e,["imageOutputOptions","compressionQuality"],i),e}function $w(t){let e={},n=a(t,["bytesBase64Encoded"]);n!=null&&u(e,["imageBytes"],Qt(n));let r=a(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function ly(t){let e={},n=a(t,["gcsUri"]);n!=null&&u(e,["gcsUri"],n);let r=a(t,["bytesBase64Encoded"]);r!=null&&u(e,["imageBytes"],Qt(r));let o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function pa(t){let e={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");let n=a(t,["imageBytes"]);n!=null&&u(e,["bytesBase64Encoded"],Qt(n));let r=a(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function it(t){let e={},n=a(t,["gcsUri"]);n!=null&&u(e,["gcsUri"],n);let r=a(t,["imageBytes"]);r!=null&&u(e,["bytesBase64Encoded"],Qt(r));let o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function qw(t,e,n){let r={},o=a(e,["pageSize"]);n!==void 0&&o!=null&&u(n,["_query","pageSize"],o);let i=a(e,["pageToken"]);n!==void 0&&i!=null&&u(n,["_query","pageToken"],i);let s=a(e,["filter"]);n!==void 0&&s!=null&&u(n,["_query","filter"],s);let l=a(e,["queryBase"]);return n!==void 0&&l!=null&&u(n,["_url","models_url"],ty(t,l)),r}function zw(t,e,n){let r={},o=a(e,["pageSize"]);n!==void 0&&o!=null&&u(n,["_query","pageSize"],o);let i=a(e,["pageToken"]);n!==void 0&&i!=null&&u(n,["_query","pageToken"],i);let s=a(e,["filter"]);n!==void 0&&s!=null&&u(n,["_query","filter"],s);let l=a(e,["queryBase"]);return n!==void 0&&l!=null&&u(n,["_url","models_url"],ty(t,l)),r}function Ww(t,e){let n={},r=a(e,["config"]);return r!=null&&qw(t,r,n),n}function jw(t,e){let n={},r=a(e,["config"]);return r!=null&&zw(t,r,n),n}function Jw(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let r=a(t,["nextPageToken"]);r!=null&&u(e,["nextPageToken"],r);let o=a(t,["_self"]);if(o!=null){let i=ny(o);Array.isArray(i)&&(i=i.map(s=>Zc(s))),u(e,["models"],i)}return e}function Yw(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let r=a(t,["nextPageToken"]);r!=null&&u(e,["nextPageToken"],r);let o=a(t,["_self"]);if(o!=null){let i=ny(o);Array.isArray(i)&&(i=i.map(s=>Qc(s))),u(e,["models"],i)}return e}function Kw(t){let e={},n=a(t,["maskMode"]);n!=null&&u(e,["maskMode"],n);let r=a(t,["segmentationClasses"]);r!=null&&u(e,["maskClasses"],r);let o=a(t,["maskDilation"]);return o!=null&&u(e,["dilation"],o),e}function Zc(t){let e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);let r=a(t,["displayName"]);r!=null&&u(e,["displayName"],r);let o=a(t,["description"]);o!=null&&u(e,["description"],o);let i=a(t,["version"]);i!=null&&u(e,["version"],i);let s=a(t,["_self"]);s!=null&&u(e,["tunedModelInfo"],fM(s));let l=a(t,["inputTokenLimit"]);l!=null&&u(e,["inputTokenLimit"],l);let c=a(t,["outputTokenLimit"]);c!=null&&u(e,["outputTokenLimit"],c);let d=a(t,["supportedGenerationMethods"]);d!=null&&u(e,["supportedActions"],d);let f=a(t,["temperature"]);f!=null&&u(e,["temperature"],f);let p=a(t,["maxTemperature"]);p!=null&&u(e,["maxTemperature"],p);let h=a(t,["topP"]);h!=null&&u(e,["topP"],h);let g=a(t,["topK"]);g!=null&&u(e,["topK"],g);let m=a(t,["thinking"]);return m!=null&&u(e,["thinking"],m),e}function Qc(t){let e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);let r=a(t,["displayName"]);r!=null&&u(e,["displayName"],r);let o=a(t,["description"]);o!=null&&u(e,["description"],o);let i=a(t,["versionId"]);i!=null&&u(e,["version"],i);let s=a(t,["deployedModels"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(h=>uw(h))),u(e,["endpoints"],p)}let l=a(t,["labels"]);l!=null&&u(e,["labels"],l);let c=a(t,["_self"]);c!=null&&u(e,["tunedModelInfo"],pM(c));let d=a(t,["defaultCheckpointId"]);d!=null&&u(e,["defaultCheckpointId"],d);let f=a(t,["checkpoints"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>h)),u(e,["checkpoints"],p)}return e}function Zw(t){let e={},n=a(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);let r=a(t,["codeExecutionResult"]);r!=null&&u(e,["codeExecutionResult"],r);let o=a(t,["executableCode"]);o!=null&&u(e,["executableCode"],o);let i=a(t,["fileData"]);i!=null&&u(e,["fileData"],cw(i));let s=a(t,["functionCall"]);s!=null&&u(e,["functionCall"],dw(s));let l=a(t,["functionResponse"]);l!=null&&u(e,["functionResponse"],l);let c=a(t,["inlineData"]);c!=null&&u(e,["inlineData"],LS(c));let d=a(t,["text"]);d!=null&&u(e,["text"],d);let f=a(t,["thought"]);f!=null&&u(e,["thought"],f);let p=a(t,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);let h=a(t,["videoMetadata"]);return h!=null&&u(e,["videoMetadata"],h),e}function Qw(t){let e={},n=a(t,["productImage"]);return n!=null&&u(e,["image"],it(n)),e}function Xw(t,e){let n={},r=a(t,["numberOfImages"]);e!==void 0&&r!=null&&u(e,["parameters","sampleCount"],r);let o=a(t,["baseSteps"]);e!==void 0&&o!=null&&u(e,["parameters","baseSteps"],o);let i=a(t,["outputGcsUri"]);e!==void 0&&i!=null&&u(e,["parameters","storageUri"],i);let s=a(t,["seed"]);e!==void 0&&s!=null&&u(e,["parameters","seed"],s);let l=a(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&u(e,["parameters","safetySetting"],l);let c=a(t,["personGeneration"]);e!==void 0&&c!=null&&u(e,["parameters","personGeneration"],c);let d=a(t,["addWatermark"]);e!==void 0&&d!=null&&u(e,["parameters","addWatermark"],d);let f=a(t,["outputMimeType"]);e!==void 0&&f!=null&&u(e,["parameters","outputOptions","mimeType"],f);let p=a(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&u(e,["parameters","outputOptions","compressionQuality"],p);let h=a(t,["enhancePrompt"]);e!==void 0&&h!=null&&u(e,["parameters","enhancePrompt"],h);let g=a(t,["labels"]);return e!==void 0&&g!=null&&u(e,["labels"],g),n}function eM(t,e){let n={},r=a(e,["model"]);r!=null&&u(n,["_url","model"],W(t,r));let o=a(e,["source"]);o!=null&&nM(o,n);let i=a(e,["config"]);return i!=null&&Xw(i,n),n}function tM(t){let e={},n=a(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>fa(o))),u(e,["generatedImages"],r)}return e}function nM(t,e){let n={},r=a(t,["prompt"]);e!==void 0&&r!=null&&u(e,["instances[0]","prompt"],r);let o=a(t,["personImage"]);e!==void 0&&o!=null&&u(e,["instances[0]","personImage","image"],it(o));let i=a(t,["productImages"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>Qw(l))),u(e,["instances[0]","productImages"],s)}return n}function rM(t){let e={},n=a(t,["referenceImage"]);n!=null&&u(e,["referenceImage"],it(n));let r=a(t,["referenceId"]);r!=null&&u(e,["referenceId"],r);let o=a(t,["referenceType"]);o!=null&&u(e,["referenceType"],o);let i=a(t,["maskImageConfig"]);i!=null&&u(e,["maskImageConfig"],Kw(i));let s=a(t,["controlImageConfig"]);s!=null&&u(e,["controlImageConfig"],$S(s));let l=a(t,["styleImageConfig"]);l!=null&&u(e,["styleImageConfig"],l);let c=a(t,["subjectImageConfig"]);return c!=null&&u(e,["subjectImageConfig"],c),e}function uy(t){let e={},n=a(t,["safetyAttributes","categories"]);n!=null&&u(e,["categories"],n);let r=a(t,["safetyAttributes","scores"]);r!=null&&u(e,["scores"],r);let o=a(t,["contentType"]);return o!=null&&u(e,["contentType"],o),e}function cy(t){let e={},n=a(t,["safetyAttributes","categories"]);n!=null&&u(e,["categories"],n);let r=a(t,["safetyAttributes","scores"]);r!=null&&u(e,["scores"],r);let o=a(t,["contentType"]);return o!=null&&u(e,["contentType"],o),e}function oM(t){let e={},n=a(t,["category"]);if(n!=null&&u(e,["category"],n),a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");let r=a(t,["threshold"]);return r!=null&&u(e,["threshold"],r),e}function iM(t){let e={},n=a(t,["image"]);return n!=null&&u(e,["image"],it(n)),e}function sM(t,e){let n={},r=a(t,["mode"]);e!==void 0&&r!=null&&u(e,["parameters","mode"],r);let o=a(t,["maxPredictions"]);e!==void 0&&o!=null&&u(e,["parameters","maxPredictions"],o);let i=a(t,["confidenceThreshold"]);e!==void 0&&i!=null&&u(e,["parameters","confidenceThreshold"],i);let s=a(t,["maskDilation"]);e!==void 0&&s!=null&&u(e,["parameters","maskDilation"],s);let l=a(t,["binaryColorThreshold"]);e!==void 0&&l!=null&&u(e,["parameters","binaryColorThreshold"],l);let c=a(t,["labels"]);return e!==void 0&&c!=null&&u(e,["labels"],c),n}function aM(t,e){let n={},r=a(e,["model"]);r!=null&&u(n,["_url","model"],W(t,r));let o=a(e,["source"]);o!=null&&uM(o,n);let i=a(e,["config"]);return i!=null&&sM(i,n),n}function lM(t){let e={},n=a(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>Pw(o))),u(e,["generatedMasks"],r)}return e}function uM(t,e){let n={},r=a(t,["prompt"]);e!==void 0&&r!=null&&u(e,["instances[0]","prompt"],r);let o=a(t,["image"]);e!==void 0&&o!=null&&u(e,["instances[0]","image"],it(o));let i=a(t,["scribbleImage"]);return e!==void 0&&i!=null&&u(e,["instances[0]","scribble"],iM(i)),n}function cM(t){let e={},n=a(t,["functionCallingConfig"]);n!=null&&u(e,["functionCallingConfig"],fw(n));let r=a(t,["retrievalConfig"]);return r!=null&&u(e,["retrievalConfig"],r),e}function dM(t){let e={},n=a(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),u(e,["functionDeclarations"],f)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let r=a(t,["googleSearchRetrieval"]);r!=null&&u(e,["googleSearchRetrieval"],r);let o=a(t,["computerUse"]);o!=null&&u(e,["computerUse"],o);let i=a(t,["fileSearch"]);i!=null&&u(e,["fileSearch"],i);let s=a(t,["codeExecution"]);if(s!=null&&u(e,["codeExecution"],s),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let l=a(t,["googleMaps"]);l!=null&&u(e,["googleMaps"],Uw(l));let c=a(t,["googleSearch"]);c!=null&&u(e,["googleSearch"],Bw(c));let d=a(t,["urlContext"]);return d!=null&&u(e,["urlContext"],d),e}function dy(t){let e={},n=a(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>pw(h))),u(e,["functionDeclarations"],p)}let r=a(t,["retrieval"]);r!=null&&u(e,["retrieval"],r);let o=a(t,["googleSearchRetrieval"]);o!=null&&u(e,["googleSearchRetrieval"],o);let i=a(t,["computerUse"]);if(i!=null&&u(e,["computerUse"],i),a(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");let s=a(t,["codeExecution"]);s!=null&&u(e,["codeExecution"],s);let l=a(t,["enterpriseWebSearch"]);l!=null&&u(e,["enterpriseWebSearch"],l);let c=a(t,["googleMaps"]);c!=null&&u(e,["googleMaps"],c);let d=a(t,["googleSearch"]);d!=null&&u(e,["googleSearch"],d);let f=a(t,["urlContext"]);return f!=null&&u(e,["urlContext"],f),e}function fM(t){let e={},n=a(t,["baseModel"]);n!=null&&u(e,["baseModel"],n);let r=a(t,["createTime"]);r!=null&&u(e,["createTime"],r);let o=a(t,["updateTime"]);return o!=null&&u(e,["updateTime"],o),e}function pM(t){let e={},n=a(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&u(e,["baseModel"],n);let r=a(t,["createTime"]);r!=null&&u(e,["createTime"],r);let o=a(t,["updateTime"]);return o!=null&&u(e,["updateTime"],o),e}function hM(t,e){let n={},r=a(t,["displayName"]);e!==void 0&&r!=null&&u(e,["displayName"],r);let o=a(t,["description"]);e!==void 0&&o!=null&&u(e,["description"],o);let i=a(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&u(e,["defaultCheckpointId"],i),n}function gM(t,e){let n={},r=a(t,["displayName"]);e!==void 0&&r!=null&&u(e,["displayName"],r);let o=a(t,["description"]);e!==void 0&&o!=null&&u(e,["description"],o);let i=a(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&u(e,["defaultCheckpointId"],i),n}function mM(t,e){let n={},r=a(e,["model"]);r!=null&&u(n,["_url","name"],W(t,r));let o=a(e,["config"]);return o!=null&&hM(o,n),n}function yM(t,e){let n={},r=a(e,["model"]);r!=null&&u(n,["_url","model"],W(t,r));let o=a(e,["config"]);return o!=null&&gM(o,n),n}function vM(t,e){let n={},r=a(t,["outputGcsUri"]);e!==void 0&&r!=null&&u(e,["parameters","storageUri"],r);let o=a(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&u(e,["parameters","safetySetting"],o);let i=a(t,["personGeneration"]);e!==void 0&&i!=null&&u(e,["parameters","personGeneration"],i);let s=a(t,["includeRaiReason"]);e!==void 0&&s!=null&&u(e,["parameters","includeRaiReason"],s);let l=a(t,["outputMimeType"]);e!==void 0&&l!=null&&u(e,["parameters","outputOptions","mimeType"],l);let c=a(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&u(e,["parameters","outputOptions","compressionQuality"],c);let d=a(t,["enhanceInputImage"]);e!==void 0&&d!=null&&u(e,["parameters","upscaleConfig","enhanceInputImage"],d);let f=a(t,["imagePreservationFactor"]);e!==void 0&&f!=null&&u(e,["parameters","upscaleConfig","imagePreservationFactor"],f);let p=a(t,["labels"]);e!==void 0&&p!=null&&u(e,["labels"],p);let h=a(t,["numberOfImages"]);e!==void 0&&h!=null&&u(e,["parameters","sampleCount"],h);let g=a(t,["mode"]);return e!==void 0&&g!=null&&u(e,["parameters","mode"],g),n}function EM(t,e){let n={},r=a(e,["model"]);r!=null&&u(n,["_url","model"],W(t,r));let o=a(e,["image"]);o!=null&&u(n,["instances[0]","image"],it(o));let i=a(e,["upscaleFactor"]);i!=null&&u(n,["parameters","upscaleConfig","upscaleFactor"],i);let s=a(e,["config"]);return s!=null&&vM(s,n),n}function _M(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let r=a(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>fa(i))),u(e,["generatedImages"],o)}return e}function CM(t){let e={},n=a(t,["uri"]);n!=null&&u(e,["uri"],n);let r=a(t,["encodedVideo"]);r!=null&&u(e,["videoBytes"],Qt(r));let o=a(t,["encoding"]);return o!=null&&u(e,["mimeType"],o),e}function DM(t){let e={},n=a(t,["gcsUri"]);n!=null&&u(e,["uri"],n);let r=a(t,["bytesBase64Encoded"]);r!=null&&u(e,["videoBytes"],Qt(r));let o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function IM(t){let e={},n=a(t,["image"]);n!=null&&u(e,["_self"],it(n));let r=a(t,["maskMode"]);return r!=null&&u(e,["maskMode"],r),e}function TM(t){let e={},n=a(t,["image"]);n!=null&&u(e,["image"],pa(n));let r=a(t,["referenceType"]);return r!=null&&u(e,["referenceType"],r),e}function SM(t){let e={},n=a(t,["image"]);n!=null&&u(e,["image"],it(n));let r=a(t,["referenceType"]);return r!=null&&u(e,["referenceType"],r),e}function fy(t){let e={},n=a(t,["uri"]);n!=null&&u(e,["uri"],n);let r=a(t,["videoBytes"]);r!=null&&u(e,["encodedVideo"],Qt(r));let o=a(t,["mimeType"]);return o!=null&&u(e,["encoding"],o),e}function py(t){let e={},n=a(t,["uri"]);n!=null&&u(e,["gcsUri"],n);let r=a(t,["videoBytes"]);r!=null&&u(e,["bytesBase64Encoded"],Qt(r));let o=a(t,["mimeType"]);return o!=null&&u(e,["mimeType"],o),e}function wM(t,e){let n={},r=a(t,["displayName"]);return e!==void 0&&r!=null&&u(e,["displayName"],r),n}function MM(t){let e={},n=a(t,["config"]);return n!=null&&wM(n,e),e}function AM(t,e){let n={},r=a(t,["force"]);return e!==void 0&&r!=null&&u(e,["_query","force"],r),n}function bM(t){let e={},n=a(t,["name"]);n!=null&&u(e,["_url","name"],n);let r=a(t,["config"]);return r!=null&&AM(r,e),e}function NM(t){let e={},n=a(t,["name"]);return n!=null&&u(e,["_url","name"],n),e}function xM(t,e){let n={},r=a(t,["customMetadata"]);if(e!==void 0&&r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["customMetadata"],i)}let o=a(t,["chunkingConfig"]);return e!==void 0&&o!=null&&u(e,["chunkingConfig"],o),n}function RM(t){let e={},n=a(t,["name"]);n!=null&&u(e,["name"],n);let r=a(t,["metadata"]);r!=null&&u(e,["metadata"],r);let o=a(t,["done"]);o!=null&&u(e,["done"],o);let i=a(t,["error"]);i!=null&&u(e,["error"],i);let s=a(t,["response"]);return s!=null&&u(e,["response"],kM(s)),e}function PM(t){let e={},n=a(t,["fileSearchStoreName"]);n!=null&&u(e,["_url","file_search_store_name"],n);let r=a(t,["fileName"]);r!=null&&u(e,["fileName"],r);let o=a(t,["config"]);return o!=null&&xM(o,e),e}function kM(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let r=a(t,["parent"]);r!=null&&u(e,["parent"],r);let o=a(t,["documentName"]);return o!=null&&u(e,["documentName"],o),e}function FM(t,e){let n={},r=a(t,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);let o=a(t,["pageToken"]);return e!==void 0&&o!=null&&u(e,["_query","pageToken"],o),n}function LM(t){let e={},n=a(t,["config"]);return n!=null&&FM(n,e),e}function OM(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let r=a(t,["nextPageToken"]);r!=null&&u(e,["nextPageToken"],r);let o=a(t,["fileSearchStores"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["fileSearchStores"],i)}return e}function hy(t,e){let n={},r=a(t,["mimeType"]);e!==void 0&&r!=null&&u(e,["mimeType"],r);let o=a(t,["displayName"]);e!==void 0&&o!=null&&u(e,["displayName"],o);let i=a(t,["customMetadata"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>c)),u(e,["customMetadata"],l)}let s=a(t,["chunkingConfig"]);return e!==void 0&&s!=null&&u(e,["chunkingConfig"],s),n}function VM(t){let e={},n=a(t,["fileSearchStoreName"]);n!=null&&u(e,["_url","file_search_store_name"],n);let r=a(t,["config"]);return r!=null&&hy(r,e),e}function UM(t){let e={},n=a(t,["sdkHttpResponse"]);return n!=null&&u(e,["sdkHttpResponse"],n),e}var BM="Content-Type",HM="X-Server-Timeout",GM="User-Agent",Xc="x-goog-api-client",$M="1.34.0",qM=`google-genai-sdk/${$M}`,zM="v1beta1",WM="v1beta",ed=class{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});let o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:zM,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:WM,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){let e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");let r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){let e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){let o=[this.getRequestUrlInternal(n)];return r&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let r=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,r);if(e.queryParams)for(let[s,l]of Object.entries(e.queryParams))o.searchParams.append(s,String(l));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,o.toString(),e.abortSignal),this.unaryApiCall(o,i,e.httpMethod)}patchHttpOptions(e,n){let r=JSON.parse(JSON.stringify(e));for(let[o,i]of Object.entries(n))typeof i=="object"?r[o]=Object.assign(Object.assign({},r[o]),i):i!==void 0&&(r[o]=i);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));let r=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,r);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,o.toString(),e.abortSignal),this.streamApiCall(o,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,o){if(n&&n.timeout||o){let i=new AbortController,s=i.signal;if(n.timeout&&n?.timeout>0){let l=setTimeout(()=>i.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}o&&o.addEventListener("abort",()=>{i.abort()}),e.signal=s}return n&&n.extraBody!==null&&jM(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await Rm(o),new Do(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async o=>(await Rm(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){return nt(this,arguments,function*(){var r;let o=(r=e?.body)===null||r===void 0?void 0:r.getReader(),i=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let s="",l="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){let{done:d,value:f}=yield L(o.read());if(d){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}let p=i.decode(f,{stream:!0});try{let m=JSON.parse(p);if("error"in m){let v=JSON.parse(JSON.stringify(m.error)),E=v.status,y=v.code,D=`got status: ${E}. ${JSON.stringify(m)}`;if(y>=400&&y<600)throw new Ks({message:D,status:y})}}catch(m){if(m.name==="ApiError")throw m}s+=p;let h=-1,g=0;for(;;){h=-1,g=0;for(let E of c){let y=s.indexOf(E);y!==-1&&(h===-1||y<h)&&(h=y,g=E.length)}if(h===-1)break;let m=s.substring(0,h);s=s.substring(h+g);let v=m.trim();if(v.startsWith(l)){let E=v.substring(l.length).trim();try{let y=new Response(E,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield L(new Do(y))}catch(y){throw new Error(`exception parsing stream chunk ${E}. ${y}`)}}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){let e={},n=qM+" "+this.clientOptions.userAgentExtra;return e[GM]=n,e[Xc]=n,e[BM]="application/json",e}async getHeadersInternal(e,n){let r=new Headers;if(e&&e.headers){for(let[o,i]of Object.entries(e.headers))r.append(o,i);e.timeout&&e.timeout>0&&r.append(HM,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;let o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);let i=this.clientOptions.uploader,s=await i.stat(e);o.sizeBytes=String(s.size);let l=(r=n?.mimeType)!==null&&r!==void 0?r:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=l;let c={file:o},d=this.getFileName(e),f=T("upload/v1beta/files",c._url),p=await this.fetchUploadUrl(f,o.sizeBytes,o.mimeType,d,c,n?.httpOptions);return i.upload(e,p,this)}async uploadFileToFileSearchStore(e,n,r){var o;let i=this.clientOptions.uploader,s=await i.stat(n),l=String(s.size),c=(o=r?.mimeType)!==null&&o!==void 0?o:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");let d=`upload/v1beta/${e}:uploadToFileSearchStore`,f=this.getFileName(n),p={};r!=null&&hy(r,p);let h=await this.fetchUploadUrl(d,l,c,f,p,r?.httpOptions);return i.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,o,i,s){var l;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},o?{"X-Goog-Upload-File-Name":o}:{})};let d=await this.request({path:e,body:JSON.stringify(i),httpMethod:"POST",httpOptions:c});if(!d||!d?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");let f=(l=d?.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}};async function Rm(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){let n=t.status,r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};let o=JSON.stringify(r);throw n>=400&&n<600?new Ks({message:o,status:n}):new Error(o)}}function jM(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{let i=JSON.parse(t.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(i,s){let l=Object.assign({},i);for(let c in s)if(Object.prototype.hasOwnProperty.call(s,c)){let d=s[c],f=l[c];d&&typeof d=="object"&&!Array.isArray(d)&&f&&typeof f=="object"&&!Array.isArray(f)?l[c]=r(f,d):(f&&d&&typeof f!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof f}, New type: ${typeof d}. Overwriting.`),l[c]=d)}return l}let o=r(n,e);t.body=JSON.stringify(o)}var JM="mcp_used/unknown",YM=!1;function gy(t){for(let e of t)if(KM(e)||typeof e=="object"&&"inputSchema"in e)return!0;return YM}function my(t){var e;let n=(e=t[Xc])!==null&&e!==void 0?e:"";t[Xc]=(n+` ${JM}`).trimStart()}function KM(t){return t!==null&&typeof t=="object"&&t instanceof td}function ZM(t){return nt(this,arguments,function*(n,r=100){let o,i=0;for(;i<r;){let s=yield L(n.listTools({cursor:o}));for(let l of s.tools)yield yield L(l),i++;if(!s.nextCursor)break;o=s.nextCursor}})}var td=class t{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new t(e,n)}async initialize(){var e,n,r,o;if(this.mcpTools.length>0)return;let i={},s=[];for(let f of this.mcpClients)try{for(var l=!0,c=(n=void 0,rt(ZM(f))),d;d=await c.next(),e=d.done,!e;l=!0){o=d.value,l=!1;let p=o;s.push(p);let h=p.name;if(i[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);i[h]=f}}catch(p){n={error:p}}finally{try{!l&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),FT(this.mcpTools,this.config)}async callTool(e){await this.initialize();let n=[];for(let r of e)if(r.name in this.functionNameToMcpClient){let o=this.functionNameToMcpClient[r.name],i;this.config.timeout&&(i={timeout:this.config.timeout});let s=await o.callTool({name:r.name,arguments:r.args},void 0,i);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}};async function QM(t,e,n){let r=new Gc,o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),Object.assign(r,o),e(r)}var nd=class{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");let o=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),s=eA(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),c=`${o}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${l}`,d=()=>{},f=new Promise(I=>{d=I}),p=e.callbacks,h=function(){d({})},g=this.apiClient,m={onopen:h,onmessage:I=>{QM(g,p.onmessage,I)},onerror:(n=p?.onerror)!==null&&n!==void 0?n:function(I){},onclose:(r=p?.onclose)!==null&&r!==void 0?r:function(I){}},v=this.webSocketFactory.create(c,XM(s),m);v.connect(),await f;let D={setup:{model:W(this.apiClient,e.model)}};return v.send(JSON.stringify(D)),new rd(v,this.apiClient)}},rd=class{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");let n=MS(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});let n=wS(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){let n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(_o.PLAY)}pause(){this.sendPlaybackControl(_o.PAUSE)}stop(){this.sendPlaybackControl(_o.STOP)}resetContext(){this.sendPlaybackControl(_o.RESET_CONTEXT)}close(){this.conn.close()}};function XM(t){let e={};return t.forEach((n,r)=>{e[r]=n}),e}function eA(t){let e=new Headers;for(let[n,r]of Object.entries(t))e.append(n,r);return e}var tA="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function nA(t,e,n){let r=new Hc,o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;let i=JSON.parse(o);if(t.isVertexAI()){let s=NS(i);Object.assign(r,s)}else Object.assign(r,i);e(r)}var od=class{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new nd(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,o,i,s,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");let c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),f,p=this.apiClient.getHeaders();e.config&&e.config.tools&&gy(e.config.tools)&&my(p);let h=iA(p);if(this.apiClient.isVertexAI())f=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,f);else{let O=this.apiClient.getApiKey(),q="BidiGenerateContent",ce="key";O?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),q="BidiGenerateContentConstrained",ce="access_token"),f=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${q}?${ce}=${O}`}let g=()=>{},m=new Promise(O=>{g=O}),v=e.callbacks,E=function(){var O;(O=v?.onopen)===null||O===void 0||O.call(v),g({})},y=this.apiClient,D={onopen:E,onmessage:O=>{nA(y,v.onmessage,O)},onerror:(n=v?.onerror)!==null&&n!==void 0?n:function(O){},onclose:(r=v?.onclose)!==null&&r!==void 0?r:function(O){}},I=this.webSocketFactory.create(f,oA(h),D);I.connect(),await m;let S=W(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&S.startsWith("publishers/")){let O=this.apiClient.getProject(),q=this.apiClient.getLocation();S=`projects/${O}/locations/${q}/`+S}let A={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Ac.AUDIO]}:e.config.responseModalities=[Ac.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");let V=(l=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&l!==void 0?l:[],x=[];for(let O of V)if(this.isCallableTool(O)){let q=O;x.push(await q.tool())}else x.push(O);x.length>0&&(e.config.tools=x);let ne={model:S,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?A=SS(this.apiClient,ne):A=TS(this.apiClient,ne),delete A.config,I.send(JSON.stringify(A)),new id(I,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}},rA={turnComplete:!0},id=class{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=qe(n.turns),e.isVertexAI()||(r=r.map(o=>da(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(let i of r){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(tA)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},rA),e);let n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:bS(e)}:n={realtimeInput:AS(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");let n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}};function oA(t){let e={};return t.forEach((n,r)=>{e[r]=n}),e}function iA(t){let e=new Headers;for(let[n,r]of Object.entries(t))e.append(n,r);return e}var Pm=10;function km(t){var e,n,r;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(let s of(n=t?.tools)!==null&&n!==void 0?n:[])if(dr(s)){o=!0;break}if(!o)return!0;let i=(r=t?.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function dr(t){return"callTool"in t&&typeof t.callTool=="function"}function sA(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>dr(o)))!==null&&r!==void 0?r:!1}function Fm(t){var e;let n=[];return!((e=t?.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,o)=>{if(dr(r))return;let i=r;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(o)}),n}function Lm(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}var sd=class extends ot{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,o,i,s,l;let c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!sA(n)||km(n.config))return await this.generateContentInternal(c);let d=Fm(n);if(d.length>0){let v=d.map(E=>`tools[${E}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${v}.`)}let f,p,h=qe(c.contents),g=(i=(o=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&i!==void 0?i:Pm,m=0;for(;m<g&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){let v=f.candidates[0].content,E=[];for(let y of(l=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&l!==void 0?l:[])if(dr(y)){let I=await y.callTool(f.functionCalls);E.push(...I)}m++,p={role:"user",parts:E},c.contents=qe(c.contents),c.contents.push(v),c.contents.push(p),Lm(c.config)&&(h.push(v),h.push(p))}return Lm(c.config)&&(f.automaticFunctionCallingHistory=h),f},this.generateContentStream=async n=>{var r,o,i,s,l;if(this.maybeMoveToResponseJsonSchem(n),km(n.config)){let p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}let c=Fm(n);if(c.length>0){let p=c.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}let d=(i=(o=(r=n?.config)===null||r===void 0?void 0:r.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,f=(l=(s=n?.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||l===void 0?void 0:l.disable;if(d&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var o;let i,s=[];if(r?.generatedImages)for(let c of r.generatedImages)c&&c?.safetyAttributes&&((o=c?.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?i=c?.safetyAttributes:s.push(c);let l;return i?l={generatedImages:s,positivePromptSafetyAttributes:i,sdkHttpResponse:r.sdkHttpResponse}:l={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},l}),this.list=async n=>{var r;let s={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Pt(Xt.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(s),s)},this.editImage=async n=>{let r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));let o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{var r,o,i,s,l,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((o=n.video)===null||o===void 0)&&o.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(i=n.source)===null||i===void 0?void 0:i.video)===null||s===void 0)&&s.uri&&(!((c=(l=n.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,o;let i=(n=e.config)===null||n===void 0?void 0:n.tools;if(!i)return e;let s=await Promise.all(i.map(async c=>dr(c)?await c.tool():c)),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(l.config.tools=s,e.config&&e.config.tools&&gy(e.config.tools)){let c=(o=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&o!==void 0?o:{},d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),my(d),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return l}async initAfcToolsMap(e){var n,r,o;let i=new Map;for(let s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(dr(s)){let l=s,c=await l.tool();for(let d of(o=c.functionDeclarations)!==null&&o!==void 0?o:[]){if(!d.name)throw new Error("Function declaration name is required.");if(i.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);i.set(d.name,l)}}return i}async processAfcStream(e){var n,r,o;let i=(o=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&o!==void 0?o:Pm,s=!1,l=0,c=await this.initAfcToolsMap(e);return(function(d,f,p){return nt(this,arguments,function*(){for(var h,g,m,v,E,y;l<i;){s&&(l++,s=!1);let A=yield L(d.processParamsMaybeAddMcpUsage(p)),V=yield L(d.generateContentStreamInternal(A)),x=[],ne=[];try{for(var D=!0,I=(g=void 0,rt(V)),S;S=yield L(I.next()),h=S.done,!h;D=!0){v=S.value,D=!1;let O=v;if(yield yield L(O),O.candidates&&(!((E=O.candidates[0])===null||E===void 0)&&E.content)){ne.push(O.candidates[0].content);for(let q of(y=O.candidates[0].content.parts)!==null&&y!==void 0?y:[])if(l<i&&q.functionCall){if(!q.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(q.functionCall.name)){let ce=yield L(f.get(q.functionCall.name).callTool([q.functionCall]));x.push(...ce)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${q.functionCall.name}`)}}}}catch(O){g={error:O}}finally{try{!D&&!h&&(m=I.return)&&(yield L(m.call(I)))}finally{if(g)throw g.error}}if(x.length>0){s=!0;let O=new Rn;O.candidates=[{content:{role:"user",parts:x}}],yield yield L(O);let q=[];q.push(...ne),q.push({role:"user",parts:x});let ce=qe(p.contents).concat(q);p.contents=ce}else break}})})(this,c,e)}async generateContentInternal(e){var n,r,o,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=bm(this.apiClient,e);return l=T("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=xm(f),h=new Rn;return Object.assign(h,p),h})}else{let d=Am(this.apiClient,e);return l=T("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=Nm(f),h=new Rn;return Object.assign(h,p),h})}}async generateContentStreamInternal(e){var n,r,o,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=bm(this.apiClient,e);return l=T("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(p){return nt(this,arguments,function*(){var h,g,m,v;try{for(var E=!0,y=rt(p),D;D=yield L(y.next()),h=D.done,!h;E=!0){v=D.value,E=!1;let I=v,S=xm(yield L(I.json()));S.sdkHttpResponse={headers:I.headers};let A=new Rn;Object.assign(A,S),yield yield L(A)}}catch(I){g={error:I}}finally{try{!E&&!h&&(m=y.return)&&(yield L(m.call(y)))}finally{if(g)throw g.error}}})})}else{let d=Am(this.apiClient,e);return l=T("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(p){return nt(this,arguments,function*(){var h,g,m,v;try{for(var E=!0,y=rt(p),D;D=yield L(y.next()),h=D.done,!h;E=!0){v=D.value,E=!1;let I=v,S=Nm(yield L(I.json()));S.sdkHttpResponse={headers:I.headers};let A=new Rn;Object.assign(A,S),yield yield L(A)}}catch(I){g={error:I}}finally{try{!E&&!h&&(m=y.return)&&(yield L(m.call(y)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,r,o,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=sw(this.apiClient,e);return l=T("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=lw(f),h=new Os;return Object.assign(h,p),h})}else{let d=iw(this.apiClient,e);return l=T("{model}:batchEmbedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=aw(f),h=new Os;return Object.assign(h,p),h})}}async generateImagesInternal(e){var n,r,o,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=Ew(this.apiClient,e);return l=T("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=Cw(f),h=new Vs;return Object.assign(h,p),h})}else{let d=vw(this.apiClient,e);return l=T("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=_w(f),h=new Vs;return Object.assign(h,p),h})}}async editImageInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI()){let l=tw(this.apiClient,e);return i=T("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{let d=nw(c),f=new bc;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI()){let l=EM(this.apiClient,e);return i=T("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{let d=_M(c),f=new Nc;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI()){let l=eM(this.apiClient,e);return i=T("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>{let d=tM(c),f=new xc;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI()){let l=aM(this.apiClient,e);return i=T("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>{let d=lM(c),f=new Rc;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,o,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=Vw(this.apiClient,e);return l=T("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>Qc(f))}else{let d=Ow(this.apiClient,e);return l=T("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Zc(f))}}async listInternal(e){var n,r,o,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=jw(this.apiClient,e);return l=T("{models_url}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=Yw(f),h=new Us;return Object.assign(h,p),h})}else{let d=Ww(this.apiClient,e);return l=T("{models_url}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=Jw(f),h=new Us;return Object.assign(h,p),h})}}async update(e){var n,r,o,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=yM(this.apiClient,e);return l=T("{model}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>Qc(f))}else{let d=mM(this.apiClient,e);return l=T("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Zc(f))}}async delete(e){var n,r,o,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=ZS(this.apiClient,e);return l=T("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=XS(f),h=new Bs;return Object.assign(h,p),h})}else{let d=KS(this.apiClient,e);return l=T("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=QS(f),h=new Bs;return Object.assign(h,p),h})}}async countTokens(e){var n,r,o,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=jS(this.apiClient,e);return l=T("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=YS(f),h=new Hs;return Object.assign(h,p),h})}else{let d=WS(this.apiClient,e);return l=T("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=JS(f),h=new Hs;return Object.assign(h,p),h})}}async computeTokens(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI()){let l=US(this.apiClient,e);return i=T("{model}:computeTokens",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>{let d=BS(c),f=new Pc;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,o,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=Mw(this.apiClient,e);return l=T("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>{let p=Sw(f),h=new Gs;return Object.assign(h,p),h})}else{let d=ww(this.apiClient,e);return l=T("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{let p=Tw(f),h=new Gs;return Object.assign(h,p),h})}}};var ad=class extends ot{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){let n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let o=n.name.split("/operations/")[0],i;r&&"httpOptions"in r&&(i=r.httpOptions);let s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{let o=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(e){let n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){let o=n.name.split("/operations/")[0],i;r&&"httpOptions"in r&&(i=r.httpOptions);let s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{let o=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,o,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=DT(e);return l=T("{operationName}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s}else{let d=CT(e);return l=T("{operationName}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI()){let l=hT(e);return i=T("{resourceName}:fetchPredictOperation",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}};function aA(t){let e={},n=a(t,["data"]);if(n!=null&&u(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let r=a(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function lA(t){let e={},n=a(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(i=>yA(i))),u(e,["parts"],o)}let r=a(t,["role"]);return r!=null&&u(e,["role"],r),e}function uA(t,e,n){let r={},o=a(e,["expireTime"]);n!==void 0&&o!=null&&u(n,["expireTime"],o);let i=a(e,["newSessionExpireTime"]);n!==void 0&&i!=null&&u(n,["newSessionExpireTime"],i);let s=a(e,["uses"]);n!==void 0&&s!=null&&u(n,["uses"],s);let l=a(e,["liveConnectConstraints"]);n!==void 0&&l!=null&&u(n,["bidiGenerateContentSetup"],mA(t,l));let c=a(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&u(n,["fieldMask"],c),r}function cA(t,e){let n={},r=a(e,["config"]);return r!=null&&u(n,["config"],uA(t,r,n)),n}function dA(t){let e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");let n=a(t,["fileUri"]);n!=null&&u(e,["fileUri"],n);let r=a(t,["mimeType"]);return r!=null&&u(e,["mimeType"],r),e}function fA(t){let e={},n=a(t,["id"]);n!=null&&u(e,["id"],n);let r=a(t,["args"]);r!=null&&u(e,["args"],r);let o=a(t,["name"]);if(o!=null&&u(e,["name"],o),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function pA(t){let e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");let n=a(t,["enableWidget"]);return n!=null&&u(e,["enableWidget"],n),e}function hA(t){let e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");let n=a(t,["timeRangeFilter"]);return n!=null&&u(e,["timeRangeFilter"],n),e}function gA(t,e){let n={},r=a(t,["generationConfig"]);e!==void 0&&r!=null&&u(e,["setup","generationConfig"],r);let o=a(t,["responseModalities"]);e!==void 0&&o!=null&&u(e,["setup","generationConfig","responseModalities"],o);let i=a(t,["temperature"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig","temperature"],i);let s=a(t,["topP"]);e!==void 0&&s!=null&&u(e,["setup","generationConfig","topP"],s);let l=a(t,["topK"]);e!==void 0&&l!=null&&u(e,["setup","generationConfig","topK"],l);let c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","maxOutputTokens"],c);let d=a(t,["mediaResolution"]);e!==void 0&&d!=null&&u(e,["setup","generationConfig","mediaResolution"],d);let f=a(t,["seed"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","seed"],f);let p=a(t,["speechConfig"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","speechConfig"],bd(p));let h=a(t,["thinkingConfig"]);e!==void 0&&h!=null&&u(e,["setup","generationConfig","thinkingConfig"],h);let g=a(t,["enableAffectiveDialog"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],g);let m=a(t,["systemInstruction"]);e!==void 0&&m!=null&&u(e,["setup","systemInstruction"],lA(ye(m)));let v=a(t,["tools"]);if(e!==void 0&&v!=null){let V=gr(v);Array.isArray(V)&&(V=V.map(x=>EA(hr(x)))),u(e,["setup","tools"],V)}let E=a(t,["sessionResumption"]);e!==void 0&&E!=null&&u(e,["setup","sessionResumption"],vA(E));let y=a(t,["inputAudioTranscription"]);e!==void 0&&y!=null&&u(e,["setup","inputAudioTranscription"],y);let D=a(t,["outputAudioTranscription"]);e!==void 0&&D!=null&&u(e,["setup","outputAudioTranscription"],D);let I=a(t,["realtimeInputConfig"]);e!==void 0&&I!=null&&u(e,["setup","realtimeInputConfig"],I);let S=a(t,["contextWindowCompression"]);e!==void 0&&S!=null&&u(e,["setup","contextWindowCompression"],S);let A=a(t,["proactivity"]);if(e!==void 0&&A!=null&&u(e,["setup","proactivity"],A),a(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function mA(t,e){let n={},r=a(e,["model"]);r!=null&&u(n,["setup","model"],W(t,r));let o=a(e,["config"]);return o!=null&&u(n,["config"],gA(o,n)),n}function yA(t){let e={},n=a(t,["mediaResolution"]);n!=null&&u(e,["mediaResolution"],n);let r=a(t,["codeExecutionResult"]);r!=null&&u(e,["codeExecutionResult"],r);let o=a(t,["executableCode"]);o!=null&&u(e,["executableCode"],o);let i=a(t,["fileData"]);i!=null&&u(e,["fileData"],dA(i));let s=a(t,["functionCall"]);s!=null&&u(e,["functionCall"],fA(s));let l=a(t,["functionResponse"]);l!=null&&u(e,["functionResponse"],l);let c=a(t,["inlineData"]);c!=null&&u(e,["inlineData"],aA(c));let d=a(t,["text"]);d!=null&&u(e,["text"],d);let f=a(t,["thought"]);f!=null&&u(e,["thought"],f);let p=a(t,["thoughtSignature"]);p!=null&&u(e,["thoughtSignature"],p);let h=a(t,["videoMetadata"]);return h!=null&&u(e,["videoMetadata"],h),e}function vA(t){let e={},n=a(t,["handle"]);if(n!=null&&u(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function EA(t){let e={},n=a(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),u(e,["functionDeclarations"],f)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");let r=a(t,["googleSearchRetrieval"]);r!=null&&u(e,["googleSearchRetrieval"],r);let o=a(t,["computerUse"]);o!=null&&u(e,["computerUse"],o);let i=a(t,["fileSearch"]);i!=null&&u(e,["fileSearch"],i);let s=a(t,["codeExecution"]);if(s!=null&&u(e,["codeExecution"],s),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");let l=a(t,["googleMaps"]);l!=null&&u(e,["googleMaps"],pA(l));let c=a(t,["googleSearch"]);c!=null&&u(e,["googleSearch"],hA(c));let d=a(t,["urlContext"]);return d!=null&&u(e,["urlContext"],d),e}function _A(t){let e=[];for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n)){let r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){let o=Object.keys(r).map(i=>`${n}.${i}`);e.push(...o)}else e.push(n)}return e.join(",")}function CA(t,e){let n=null,r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){let i=r.setup;typeof i=="object"&&i!==null?(t.bidiGenerateContentSetup=i,n=i):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;let o=t.fieldMask;if(n){let i=_A(n);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)i?t.fieldMask=i:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){let s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"],l=[];o.length>0&&(l=o.map(d=>s.includes(d)?`generationConfig.${d}`:d));let c=[];i&&c.push(i),l.length>0&&c.push(...l),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}var ld=class extends ot{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{let l=cA(this.apiClient,e);i=T("auth_tokens",l._url),s=l._query,delete l.config,delete l._url,delete l._query;let c=CA(l,e.config);return o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}}};function DA(t,e){let n={},r=a(t,["force"]);return e!==void 0&&r!=null&&u(e,["_query","force"],r),n}function IA(t){let e={},n=a(t,["name"]);n!=null&&u(e,["_url","name"],n);let r=a(t,["config"]);return r!=null&&DA(r,e),e}function TA(t){let e={},n=a(t,["name"]);return n!=null&&u(e,["_url","name"],n),e}function SA(t,e){let n={},r=a(t,["pageSize"]);e!==void 0&&r!=null&&u(e,["_query","pageSize"],r);let o=a(t,["pageToken"]);return e!==void 0&&o!=null&&u(e,["_query","pageToken"],o),n}function wA(t){let e={},n=a(t,["parent"]);n!=null&&u(e,["_url","parent"],n);let r=a(t,["config"]);return r!=null&&SA(r,e),e}function MA(t){let e={},n=a(t,["sdkHttpResponse"]);n!=null&&u(e,["sdkHttpResponse"],n);let r=a(t,["nextPageToken"]);r!=null&&u(e,["nextPageToken"],r);let o=a(t,["documents"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>s)),u(e,["documents"],i)}return e}var ud=class extends ot{constructor(e){super(),this.apiClient=e,this.list=async n=>new Pt(Xt.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=TA(e);return i=T("{name}",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async delete(e){var n,r;let o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let s=IA(e);o=T("{name}",s._url),i=s._query,delete s._url,delete s._query,await this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=wA(e);return i=T("{parent}/documents",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>{let d=MA(c),f=new kc;return Object.assign(f,d),f})}}};var cd=class extends ot{constructor(e,n=new ud(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Pt(Xt.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=MM(e);return i=T("fileSearchStores",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async get(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=NM(e);return i=T("{name}",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async delete(e){var n,r;let o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let s=bM(e);o=T("{name}",s._url),i=s._query,delete s._url,delete s._query,await this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=LM(e);return i=T("fileSearchStores",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>{let d=OM(c),f=new Fc;return Object.assign(f,d),f})}}async uploadToFileSearchStoreInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=VM(e);return i=T("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>{let d=UM(c),f=new Lc;return Object.assign(f,d),f})}}async importFile(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=PM(e);return i=T("{file_search_store_name}:importFile",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),o.then(c=>{let d=RM(c),f=new Oc;return Object.assign(f,d),f})}}};var yy=function(){let{crypto:t}=globalThis;if(t?.randomUUID)return yy=t.randomUUID.bind(t),t.randomUUID();let e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))},AA=()=>yy();function dd(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}var fd=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){let e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};var be=class extends Error{},Ne=class t extends be{constructor(e,n,r,o){super(`${t.makeMessage(e,n,r)}`),this.status=e,this.headers=o,this.error=n}static makeMessage(e,n,r){let o=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&o?`${e} ${o}`:e?`${e} status code (no body)`:o||"(no status code or body)"}static generate(e,n,r,o){if(!e||!o)return new fr({message:r,cause:fd(n)});let i=n;return e===400?new Qs(e,i,r,o):e===401?new Xs(e,i,r,o):e===403?new ea(e,i,r,o):e===404?new ta(e,i,r,o):e===409?new na(e,i,r,o):e===422?new ra(e,i,r,o):e===429?new oa(e,i,r,o):e>=500?new ia(e,i,r,o):new t(e,i,r,o)}},Io=class extends Ne{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}},fr=class extends Ne{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}},Zs=class extends fr{constructor({message:e}={}){super({message:e??"Request timed out."})}},Qs=class extends Ne{},Xs=class extends Ne{},ea=class extends Ne{},ta=class extends Ne{},na=class extends Ne{},ra=class extends Ne{},oa=class extends Ne{},ia=class extends Ne{};var bA=/^[a-z][a-z0-9+.-]*:/i,NA=t=>bA.test(t),pd=t=>(pd=Array.isArray,pd(t)),xA=pd,RA=xA,Om=RA;function PA(t){if(!t)return!0;for(let e in t)return!1;return!0}function kA(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var FA=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new be(`${t} must be an integer`);if(e<0)throw new be(`${t} must be a positive integer`);return e},LA=t=>{try{return JSON.parse(t)}catch{return}};var OA=t=>new Promise(e=>setTimeout(e,t));var ur="0.0.1";function VA(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}var UA=()=>{var t,e,n,r,o;let i=VA();if(i==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ur,"X-Stainless-OS":Um(Deno.build.os),"X-Stainless-Arch":Vm(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ur,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(i==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ur,"X-Stainless-OS":Um((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Vm((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};let s=BA();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ur,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ur,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function BA(){if(typeof navigator>"u"||!navigator)return null;let t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(let{key:e,pattern:n}of t){let r=n.exec(navigator.userAgent);if(r){let o=r[1]||0,i=r[2]||0,s=r[3]||0;return{browser:e,version:`${o}.${i}.${s}`}}}return null}var Vm=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Um=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown"),Ns,HA=()=>Ns??(Ns=UA());function GA(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function vy(...t){let e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function $A(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return vy({start(){},async pull(n){let{done:r,value:o}=await e.next();r?n.close():n.enqueue(o)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function Ey(t){if(t[Symbol.asyncIterator])return t;let e=t.getReader();return{async next(){try{let n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){let n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function qA(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}let r=t.getReader(),o=r.cancel();r.releaseLock(),await o}var zA=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});var _y=()=>{var t;if(typeof File>"u"){let{process:e}=globalThis,n=typeof((t=e?.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Sc(t,e,n){return _y(),new File(t,e??"unknown_file",n)}function WA(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}var jA=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";var Cy=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",JA=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Cy(t),YA=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function KA(t,e,n){if(_y(),t=await t,JA(t))return t instanceof File?t:Sc([await t.arrayBuffer()],t.name);if(YA(t)){let o=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Sc(await hd(o),e,n)}let r=await hd(t);if(e||(e=WA(t)),!n?.type){let o=r.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof o=="string"&&(n=Object.assign(Object.assign({},n),{type:o}))}return Sc(r,e,n)}async function hd(t){var e,n,r,o,i;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(Cy(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(jA(t))try{for(var l=!0,c=rt(t),d;d=await c.next(),e=d.done,!e;l=!0){o=d.value,l=!1;let f=o;s.push(...await hd(f))}}catch(f){n={error:f}}finally{try{!l&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}else{let f=(i=t?.constructor)===null||i===void 0?void 0:i.name;throw new Error(`Unexpected data type: ${typeof t}${f?`; constructor: ${f}`:""}${ZA(t)}`)}return s}function ZA(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}var QA=(()=>{class t{constructor(n){this._client=n}}t._key=[];return t})();function Dy(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}var Bm=Object.freeze(Object.create(null)),XA=(t=Dy)=>function(n,...r){if(n.length===1)return n[0];let o=!1,i=[],s=n.reduce((f,p,h)=>{var g,m,v;/[?#]/.test(p)&&(o=!0);let E=r[h],y=(o?encodeURIComponent:t)(""+E);return h!==r.length&&(E==null||typeof E=="object"&&E.toString===((v=Object.getPrototypeOf((m=Object.getPrototypeOf((g=E.hasOwnProperty)!==null&&g!==void 0?g:Bm))!==null&&m!==void 0?m:Bm))===null||v===void 0?void 0:v.toString))&&(y=E+"",i.push({start:f.length+p.length,length:y.length,error:`Value of type ${Object.prototype.toString.call(E).slice(8,-1)} is not a valid path parameter`})),f+p+(h===r.length?"":y)},""),l=s.split(/[?#]/,1)[0],c=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi,d;for(;(d=c.exec(l))!==null;)i.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(i.sort((f,p)=>f.start-p.start),i.length>0){let f=0,p=i.reduce((h,g)=>{let m=" ".repeat(g.start-f),v="^".repeat(g.length);return f=g.start+g.length,h+m+v},"");throw new be(`Path parameters result in path with invalid segments:
${i.map(h=>h.error).join(`
`)}
${s}
${p}`)}return s},xs=XA(Dy);var sa=class extends QA{create(e,n){var r;let{api_version:o=this._client.apiVersion}=e,i=Ys(e,["api_version"]);if("model"in i&&"agent_config"in i)throw new be("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in i&&"generation_config"in i)throw new be("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(xs`/${o}/interactions`,Object.assign(Object.assign({body:i},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){let{api_version:o=this._client.apiVersion}=n??{};return this._client.delete(xs`/${o}/interactions/${e}`,r)}cancel(e,n={},r){let{api_version:o=this._client.apiVersion}=n??{};return this._client.post(xs`/${o}/interactions/${e}/cancel`,r)}get(e,n={},r){var o;let i=n??{},{api_version:s=this._client.apiVersion}=i,l=Ys(i,["api_version"]);return this._client.get(xs`/${s}/interactions/${e}`,Object.assign(Object.assign({query:l},r),{stream:(o=n?.stream)!==null&&o!==void 0?o:!1}))}};sa._key=Object.freeze(["interactions"]);var aa=class extends sa{};function eb(t){let e=0;for(let o of t)e+=o.length;let n=new Uint8Array(e),r=0;for(let o of t)n.set(o,r),r+=o.length;return n}var Rs;function Nd(t){let e;return(Rs??(e=new globalThis.TextEncoder,Rs=e.encode.bind(e)))(t)}var Ps;function Hm(t){let e;return(Ps??(e=new globalThis.TextDecoder,Ps=e.decode.bind(e)))(t)}var pr=class{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];let n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Nd(e):e;this.buffer=eb([this.buffer,n]);let r=[],o;for(;(o=tb(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){r.push(Hm(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}let i=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,s=Hm(this.buffer.subarray(0,i));r.push(s),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}};pr.NEWLINE_CHARS=new Set([`
`,"\r"]);pr.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function tb(t,e){for(let o=e??0;o<t.length;o++){if(t[o]===10)return{preceding:o,index:o+1,carriage:!1};if(t[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function nb(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}var la={off:0,error:200,warn:300,info:400,debug:500},Gm=(t,e,n)=>{if(t){if(kA(la,t))return t;De(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(la))}`)}};function Co(){}function ks(t,e,n){return!e||la[t]>la[n]?Co:e[t].bind(e)}var rb={error:Co,warn:Co,info:Co,debug:Co},$m=new WeakMap;function De(t){var e;let n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return rb;let o=$m.get(n);if(o&&o[0]===r)return o[1];let i={error:ks("error",n,r),warn:ks("warn",n,r),info:ks("info",n,r),debug:ks("debug",n,r)};return $m.set(n,[r,i]),i}var xn=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var gd=class t{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let o=!1,i=r?De(r):console;function s(){return nt(this,arguments,function*(){var c,d,f,p;if(o)throw new be("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let h=!1;try{try{for(var g=!0,m=rt(ob(e,n)),v;v=yield L(m.next()),c=v.done,!c;g=!0){p=v.value,g=!1;let E=p;if(!h)if(E.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield L(JSON.parse(E.data))}catch(y){throw i.error("Could not parse message into JSON:",E.data),i.error("From chunk:",E.raw),y}}}catch(E){d={error:E}}finally{try{!g&&!c&&(f=m.return)&&(yield L(f.call(m)))}finally{if(d)throw d.error}}h=!0}catch(E){if(dd(E))return yield L(void 0);throw E}finally{h||n.abort()}})}return new t(s,n,r)}static fromReadableStream(e,n,r){let o=!1;function i(){return nt(this,arguments,function*(){var c,d,f,p;let h=new pr,g=Ey(e);try{for(var m=!0,v=rt(g),E;E=yield L(v.next()),c=E.done,!c;m=!0){p=E.value,m=!1;let y=p;for(let D of h.decode(y))yield yield L(D)}}catch(y){d={error:y}}finally{try{!m&&!c&&(f=v.return)&&(yield L(f.call(v)))}finally{if(d)throw d.error}}for(let y of h.flush())yield yield L(y)})}function s(){return nt(this,arguments,function*(){var c,d,f,p;if(o)throw new be("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let h=!1;try{try{for(var g=!0,m=rt(i()),v;v=yield L(m.next()),c=v.done,!c;g=!0){p=v.value,g=!1;let E=p;h||E&&(yield yield L(JSON.parse(E)))}}catch(E){d={error:E}}finally{try{!g&&!c&&(f=m.return)&&(yield L(f.call(m)))}finally{if(d)throw d.error}}h=!0}catch(E){if(dd(E))return yield L(void 0);throw E}finally{h||n.abort()}})}return new t(s,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){let e=[],n=[],r=this.iterator(),o=i=>({next:()=>{if(i.length===0){let s=r.next();e.push(s),n.push(s)}return i.shift()}});return[new t(()=>o(e),this.controller,this.client),new t(()=>o(n),this.controller,this.client)]}toReadableStream(){let e=this,n;return vy({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{let{value:o,done:i}=await n.next();if(i)return r.close();let s=Nd(JSON.stringify(o)+`
`);r.enqueue(s)}catch(o){r.error(o)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}};function ob(t,e){return nt(this,arguments,function*(){var r,o,i,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new be("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new be("Attempted to iterate over a response with no body");let l=new md,c=new pr,d=Ey(t.body);try{for(var f=!0,p=rt(ib(d)),h;h=yield L(p.next()),r=h.done,!r;f=!0){s=h.value,f=!1;let g=s;for(let m of c.decode(g)){let v=l.decode(m);v&&(yield yield L(v))}}}catch(g){o={error:g}}finally{try{!f&&!r&&(i=p.return)&&(yield L(i.call(p)))}finally{if(o)throw o.error}}for(let g of c.flush()){let m=l.decode(g);m&&(yield yield L(m))}})}function ib(t){return nt(this,arguments,function*(){var n,r,o,i;let s=new Uint8Array;try{for(var l=!0,c=rt(t),d;d=yield L(c.next()),n=d.done,!n;l=!0){i=d.value,l=!1;let f=i;if(f==null)continue;let p=f instanceof ArrayBuffer?new Uint8Array(f):typeof f=="string"?Nd(f):f,h=new Uint8Array(s.length+p.length);h.set(s),h.set(p,s.length),s=h;let g;for(;(g=nb(s))!==-1;)yield yield L(s.slice(0,g)),s=s.slice(g)}}catch(f){r={error:f}}finally{try{!l&&!n&&(o=c.return)&&(yield L(o.call(c)))}finally{if(r)throw r.error}}s.length>0&&(yield yield L(s))})}var md=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;let i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,o]=sb(e,":");return o.startsWith(" ")&&(o=o.substring(1)),n==="event"?this.event=o:n==="data"&&this.data.push(o),null}};function sb(t,e){let n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function ab(t,e){let{response:n,requestLogID:r,retryOfRequestLogID:o,startTime:i}=e,s=await(async()=>{var l;if(e.options.stream)return De(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):gd.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;let c=n.headers.get("content-type"),d=(l=c?.split(";")[0])===null||l===void 0?void 0:l.trim();return d?.includes("application/json")||d?.endsWith("+json")?await n.json():await n.text()})();return De(t).debug(`[${r}] response parsed`,xn({retryOfRequestLogID:o,url:n.url,status:n.status,body:s,durationMs:Date.now()-i})),s}var yd=class t extends Promise{constructor(e,n,r=ab){super(o=>{o(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new t(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){let[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}};var Iy=Symbol("brand.privateNullableHeaders");function*lb(t){if(!t)return;if(Iy in t){let{values:r,nulls:o}=t;yield*r.entries();for(let i of o)yield[i,null];return}let e=!1,n;t instanceof Headers?n=t.entries():Om(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){let o=r[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");let i=Om(r[1])?r[1]:[r[1]],s=!1;for(let l of i)l!==void 0&&(e&&!s&&(s=!0,yield[o,null]),yield[o,l])}}var Eo=t=>{let e=new Headers,n=new Set;for(let r of t){let o=new Set;for(let[i,s]of lb(r)){let l=i.toLowerCase();o.has(l)||(e.delete(i),o.add(l)),s===null?(e.delete(i),n.add(l)):(e.append(i,s),n.delete(l))}}return{[Iy]:!0,values:e,nulls:n}};var wc=t=>{var e,n,r,o,i,s;if(typeof globalThis.process<"u")return(r=(n=(e=globalThis.process.env)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(i=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||i===void 0?void 0:i.call(o,t))===null||s===void 0?void 0:s.trim()};var Ty,ub=(()=>{class t{constructor(n){var r,o,i,s,l,c,d,{baseURL:f=wc("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:p=(r=wc("GEMINI_API_KEY"))!==null&&r!==void 0?r:null,apiVersion:h="v1beta"}=n,g=Ys(n,["baseURL","apiKey","apiVersion"]);let m=Object.assign(Object.assign({apiKey:p,apiVersion:h},g),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=m.baseURL,this.timeout=(o=m.timeout)!==null&&o!==void 0?o:t.DEFAULT_TIMEOUT,this.logger=(i=m.logger)!==null&&i!==void 0?i:console;let v="warn";this.logLevel=v,this.logLevel=(l=(s=Gm(m.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:Gm(wc("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:v,this.fetchOptions=m.fetchOptions,this.maxRetries=(c=m.maxRetries)!==null&&c!==void 0?c:2,this.fetch=(d=m.fetch)!==null&&d!==void 0?d:GA(),this.encoder=zA,this._options=m,this.apiKey=p,this.apiVersion=h,this.clientAdapter=m.clientAdapter}withOptions(n){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),n))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:n,nulls:r}){if(!(n.has("authorization")||n.has("x-goog-api-key"))&&!(this.apiKey&&n.get("x-goog-api-key"))&&!r.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(n){let r=Eo([n.headers]);if(!(r.values.has("authorization")||r.values.has("x-goog-api-key"))){if(this.apiKey)return Eo([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Eo([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(n){return Object.entries(n).filter(([r,o])=>typeof o<"u").map(([r,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(r)}=`;throw new be(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ur}`}defaultIdempotencyKey(){return`stainless-node-retry-${AA()}`}makeStatusError(n,r,o,i){return Ne.generate(n,r,o,i)}buildURL(n,r,o){let i=!this.baseURLOverridden()&&o||this.baseURL,s=NA(n)?new URL(n):new URL(i+(i.endsWith("/")&&n.startsWith("/")?n.slice(1):n)),l=this.defaultQuery();return PA(l)||(r=Object.assign(Object.assign({},l),r)),typeof r=="object"&&r&&!Array.isArray(r)&&(s.search=this.stringifyQuery(r)),s.toString()}async prepareOptions(n){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!n.path.startsWith(`/${this.apiVersion}/projects/`)){let r=n.path.slice(this.apiVersion.length+1);n.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${r}`}}async prepareRequest(n,{url:r,options:o}){}get(n,r){return this.methodRequest("get",n,r)}post(n,r){return this.methodRequest("post",n,r)}patch(n,r){return this.methodRequest("patch",n,r)}put(n,r){return this.methodRequest("put",n,r)}delete(n,r){return this.methodRequest("delete",n,r)}methodRequest(n,r,o){return this.request(Promise.resolve(o).then(i=>Object.assign({method:n,path:r},i)))}request(n,r=null){return new yd(this,this.makeRequest(n,r,void 0))}async makeRequest(n,r,o){var i,s,l;let c=await n,d=(i=c.maxRetries)!==null&&i!==void 0?i:this.maxRetries;r==null&&(r=d),await this.prepareOptions(c);let{req:f,url:p,timeout:h}=await this.buildRequest(c,{retryCount:d-r});await this.prepareRequest(f,{url:p,options:c});let g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=o===void 0?"":`, retryOf: ${o}`,v=Date.now();if(De(this).debug(`[${g}] sending request`,xn({retryOfRequestLogID:o,method:c.method,url:p,options:c,headers:f.headers})),!((s=c.signal)===null||s===void 0)&&s.aborted)throw new Io;let E=new AbortController,y=await this.fetchWithTimeout(p,f,h,E).catch(fd),D=Date.now();if(y instanceof globalThis.Error){let S=`retrying, ${r} attempts remaining`;if(!((l=c.signal)===null||l===void 0)&&l.aborted)throw new Io;let A=dd(y)||/timed? ?out/i.test(String(y)+("cause"in y?String(y.cause):""));if(r)return De(this).info(`[${g}] connection ${A?"timed out":"failed"} - ${S}`),De(this).debug(`[${g}] connection ${A?"timed out":"failed"} (${S})`,xn({retryOfRequestLogID:o,url:p,durationMs:D-v,message:y.message})),this.retryRequest(c,r,o??g);throw De(this).info(`[${g}] connection ${A?"timed out":"failed"} - error; no more retries left`),De(this).debug(`[${g}] connection ${A?"timed out":"failed"} (error; no more retries left)`,xn({retryOfRequestLogID:o,url:p,durationMs:D-v,message:y.message})),A?new Zs:new fr({cause:y})}let I=`[${g}${m}] ${f.method} ${p} ${y.ok?"succeeded":"failed"} with status ${y.status} in ${D-v}ms`;if(!y.ok){let S=await this.shouldRetry(y);if(r&&S){let q=`retrying, ${r} attempts remaining`;return await qA(y.body),De(this).info(`${I} - ${q}`),De(this).debug(`[${g}] response error (${q})`,xn({retryOfRequestLogID:o,url:y.url,status:y.status,headers:y.headers,durationMs:D-v})),this.retryRequest(c,r,o??g,y.headers)}let A=S?"error; no more retries left":"error; not retryable";De(this).info(`${I} - ${A}`);let V=await y.text().catch(q=>fd(q).message),x=LA(V),ne=x?void 0:V;throw De(this).debug(`[${g}] response error (${A})`,xn({retryOfRequestLogID:o,url:y.url,status:y.status,headers:y.headers,message:ne,durationMs:Date.now()-v})),this.makeStatusError(y.status,x,ne,y.headers)}return De(this).info(I),De(this).debug(`[${g}] response start`,xn({retryOfRequestLogID:o,url:y.url,status:y.status,headers:y.headers,durationMs:D-v})),{response:y,options:c,controller:E,requestLogID:g,retryOfRequestLogID:o,startTime:v}}async fetchWithTimeout(n,r,o,i){let s=r||{},{signal:l,method:c}=s,d=Ys(s,["signal","method"]);l&&l.addEventListener("abort",()=>i.abort());let f=setTimeout(()=>i.abort(),o),p=globalThis.ReadableStream&&d.body instanceof globalThis.ReadableStream||typeof d.body=="object"&&d.body!==null&&Symbol.asyncIterator in d.body,h=Object.assign(Object.assign(Object.assign({signal:i.signal},p?{duplex:"half"}:{}),{method:"GET"}),d);c&&(h.method=c.toUpperCase());try{return await this.fetch.call(void 0,n,h)}finally{clearTimeout(f)}}async shouldRetry(n){let r=n.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:n.status===408||n.status===409||n.status===429||n.status>=500}async retryRequest(n,r,o,i){var s;let l,c=i?.get("retry-after-ms");if(c){let f=parseFloat(c);Number.isNaN(f)||(l=f)}let d=i?.get("retry-after");if(d&&!l){let f=parseFloat(d);Number.isNaN(f)?l=Date.parse(d)-Date.now():l=f*1e3}if(!(l&&0<=l&&l<60*1e3)){let f=(s=n.maxRetries)!==null&&s!==void 0?s:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(r,f)}return await OA(l),this.makeRequest(n,r-1,o)}calculateDefaultRetryTimeoutMillis(n,r){let s=r-n,l=Math.min(.5*Math.pow(2,s),8),c=1-Math.random()*.25;return l*c*1e3}async buildRequest(n,{retryCount:r=0}={}){var o,i,s;let l=Object.assign({},n),{method:c,path:d,query:f,defaultBaseURL:p}=l,h=this.buildURL(d,f,p);"timeout"in l&&FA("timeout",l.timeout),l.timeout=(o=l.timeout)!==null&&o!==void 0?o:this.timeout;let{bodyHeaders:g,body:m}=this.buildBody({options:l}),v=await this.buildHeaders({options:n,method:c,bodyHeaders:g,retryCount:r});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:c,headers:v},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"}),m&&{body:m}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(s=l.fetchOptions)!==null&&s!==void 0?s:{}),url:h,timeout:l.timeout}}async buildHeaders({options:n,method:r,bodyHeaders:o,retryCount:i}){let s={};this.idempotencyHeader&&r!=="get"&&(n.idempotencyKey||(n.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=n.idempotencyKey);let l=await this.authHeaders(n),c=Eo([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},n.timeout?{"X-Stainless-Timeout":String(Math.trunc(n.timeout/1e3))}:{}),HA()),this._options.defaultHeaders,o,n.headers,l]);return this.validateHeaders(c),c.values}buildBody({options:{body:n,headers:r}}){if(!n)return{bodyHeaders:void 0,body:void 0};let o=Eo([r]);return ArrayBuffer.isView(n)||n instanceof ArrayBuffer||n instanceof DataView||typeof n=="string"&&o.values.has("content-type")||globalThis.Blob&&n instanceof globalThis.Blob||n instanceof FormData||n instanceof URLSearchParams||globalThis.ReadableStream&&n instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:n}:typeof n=="object"&&(Symbol.asyncIterator in n||Symbol.iterator in n&&"next"in n&&typeof n.next=="function")?{bodyHeaders:void 0,body:$A(n)}:this.encoder({body:n,headers:o})}}return t.DEFAULT_TIMEOUT=6e4,t})(),le=class extends ub{constructor(){super(...arguments),this.interactions=new aa(this)}};Ty=le;le.GeminiNextGenAPIClient=Ty;le.GeminiNextGenAPIClientError=be;le.APIError=Ne;le.APIConnectionError=fr;le.APIConnectionTimeoutError=Zs;le.APIUserAbortError=Io;le.NotFoundError=ta;le.ConflictError=na;le.RateLimitError=oa;le.BadRequestError=Qs;le.AuthenticationError=Xs;le.InternalServerError=ia;le.PermissionDeniedError=ea;le.UnprocessableEntityError=ra;le.toFile=KA;le.Interactions=aa;function cb(t,e){let n={},r=a(t,["name"]);return r!=null&&u(n,["_url","name"],r),n}function db(t,e){let n={},r=a(t,["name"]);return r!=null&&u(n,["_url","name"],r),n}function fb(t,e){let n={},r=a(t,["sdkHttpResponse"]);return r!=null&&u(n,["sdkHttpResponse"],r),n}function pb(t,e){let n={},r=a(t,["sdkHttpResponse"]);return r!=null&&u(n,["sdkHttpResponse"],r),n}function hb(t,e,n){let r={};if(a(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");let o=a(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&u(e,["displayName"],o),a(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");let i=a(t,["epochCount"]);e!==void 0&&i!=null&&u(e,["tuningTask","hyperparameters","epochCount"],i);let s=a(t,["learningRateMultiplier"]);if(s!=null&&u(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),a(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(a(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");let l=a(t,["batchSize"]);e!==void 0&&l!=null&&u(e,["tuningTask","hyperparameters","batchSize"],l);let c=a(t,["learningRate"]);if(e!==void 0&&c!=null&&u(e,["tuningTask","hyperparameters","learningRate"],c),a(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(a(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function gb(t,e,n){let r={},o=a(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){let g=a(t,["validationDataset"]);e!==void 0&&g!=null&&u(e,["supervisedTuningSpec"],qm(g))}else if(o==="PREFERENCE_TUNING"){let g=a(t,["validationDataset"]);e!==void 0&&g!=null&&u(e,["preferenceOptimizationSpec"],qm(g))}let i=a(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&u(e,["tunedModelDisplayName"],i);let s=a(t,["description"]);e!==void 0&&s!=null&&u(e,["description"],s);let l=a(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){let g=a(t,["epochCount"]);e!==void 0&&g!=null&&u(e,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(l==="PREFERENCE_TUNING"){let g=a(t,["epochCount"]);e!==void 0&&g!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let c=a(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){let g=a(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&u(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(c==="PREFERENCE_TUNING"){let g=a(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let d=a(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){let g=a(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&u(e,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(d==="PREFERENCE_TUNING"){let g=a(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&u(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let f=a(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){let g=a(t,["adapterSize"]);e!==void 0&&g!=null&&u(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(f==="PREFERENCE_TUNING"){let g=a(t,["adapterSize"]);e!==void 0&&g!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(a(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");let p=a(t,["labels"]);e!==void 0&&p!=null&&u(e,["labels"],p);let h=a(t,["beta"]);return e!==void 0&&h!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function mb(t,e){let n={},r=a(t,["baseModel"]);r!=null&&u(n,["baseModel"],r);let o=a(t,["preTunedModel"]);o!=null&&u(n,["preTunedModel"],o);let i=a(t,["trainingDataset"]);i!=null&&Mb(i);let s=a(t,["config"]);return s!=null&&hb(s,n),n}function yb(t,e){let n={},r=a(t,["baseModel"]);r!=null&&u(n,["baseModel"],r);let o=a(t,["preTunedModel"]);o!=null&&u(n,["preTunedModel"],o);let i=a(t,["trainingDataset"]);i!=null&&Ab(i,n,e);let s=a(t,["config"]);return s!=null&&gb(s,n,e),n}function vb(t,e){let n={},r=a(t,["name"]);return r!=null&&u(n,["_url","name"],r),n}function Eb(t,e){let n={},r=a(t,["name"]);return r!=null&&u(n,["_url","name"],r),n}function _b(t,e,n){let r={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);let i=a(t,["pageToken"]);e!==void 0&&i!=null&&u(e,["_query","pageToken"],i);let s=a(t,["filter"]);return e!==void 0&&s!=null&&u(e,["_query","filter"],s),r}function Cb(t,e,n){let r={},o=a(t,["pageSize"]);e!==void 0&&o!=null&&u(e,["_query","pageSize"],o);let i=a(t,["pageToken"]);e!==void 0&&i!=null&&u(e,["_query","pageToken"],i);let s=a(t,["filter"]);return e!==void 0&&s!=null&&u(e,["_query","filter"],s),r}function Db(t,e){let n={},r=a(t,["config"]);return r!=null&&_b(r,n),n}function Ib(t,e){let n={},r=a(t,["config"]);return r!=null&&Cb(r,n),n}function Tb(t,e){let n={},r=a(t,["sdkHttpResponse"]);r!=null&&u(n,["sdkHttpResponse"],r);let o=a(t,["nextPageToken"]);o!=null&&u(n,["nextPageToken"],o);let i=a(t,["tunedModels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>Sy(l))),u(n,["tuningJobs"],s)}return n}function Sb(t,e){let n={},r=a(t,["sdkHttpResponse"]);r!=null&&u(n,["sdkHttpResponse"],r);let o=a(t,["nextPageToken"]);o!=null&&u(n,["nextPageToken"],o);let i=a(t,["tuningJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>vd(l))),u(n,["tuningJobs"],s)}return n}function wb(t,e){let n={},r=a(t,["name"]);r!=null&&u(n,["model"],r);let o=a(t,["name"]);return o!=null&&u(n,["endpoint"],o),n}function Mb(t,e){let n={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");let r=a(t,["examples"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(i=>i)),u(n,["examples","examples"],o)}return n}function Ab(t,e,n){let r={},o=a(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){let s=a(t,["gcsUri"]);e!==void 0&&s!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){let s=a(t,["gcsUri"]);e!==void 0&&s!=null&&u(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let i=a(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){let s=a(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){let s=a(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&u(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(a(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function Sy(t,e){let n={},r=a(t,["sdkHttpResponse"]);r!=null&&u(n,["sdkHttpResponse"],r);let o=a(t,["name"]);o!=null&&u(n,["name"],o);let i=a(t,["state"]);i!=null&&u(n,["state"],Xm(i));let s=a(t,["createTime"]);s!=null&&u(n,["createTime"],s);let l=a(t,["tuningTask","startTime"]);l!=null&&u(n,["startTime"],l);let c=a(t,["tuningTask","completeTime"]);c!=null&&u(n,["endTime"],c);let d=a(t,["updateTime"]);d!=null&&u(n,["updateTime"],d);let f=a(t,["description"]);f!=null&&u(n,["description"],f);let p=a(t,["baseModel"]);p!=null&&u(n,["baseModel"],p);let h=a(t,["_self"]);return h!=null&&u(n,["tunedModel"],wb(h)),n}function vd(t,e){let n={},r=a(t,["sdkHttpResponse"]);r!=null&&u(n,["sdkHttpResponse"],r);let o=a(t,["name"]);o!=null&&u(n,["name"],o);let i=a(t,["state"]);i!=null&&u(n,["state"],Xm(i));let s=a(t,["createTime"]);s!=null&&u(n,["createTime"],s);let l=a(t,["startTime"]);l!=null&&u(n,["startTime"],l);let c=a(t,["endTime"]);c!=null&&u(n,["endTime"],c);let d=a(t,["updateTime"]);d!=null&&u(n,["updateTime"],d);let f=a(t,["error"]);f!=null&&u(n,["error"],f);let p=a(t,["description"]);p!=null&&u(n,["description"],p);let h=a(t,["baseModel"]);h!=null&&u(n,["baseModel"],h);let g=a(t,["tunedModel"]);g!=null&&u(n,["tunedModel"],g);let m=a(t,["preTunedModel"]);m!=null&&u(n,["preTunedModel"],m);let v=a(t,["supervisedTuningSpec"]);v!=null&&u(n,["supervisedTuningSpec"],v);let E=a(t,["preferenceOptimizationSpec"]);E!=null&&u(n,["preferenceOptimizationSpec"],E);let y=a(t,["tuningDataStats"]);y!=null&&u(n,["tuningDataStats"],y);let D=a(t,["encryptionSpec"]);D!=null&&u(n,["encryptionSpec"],D);let I=a(t,["partnerModelTuningSpec"]);I!=null&&u(n,["partnerModelTuningSpec"],I);let S=a(t,["customBaseModel"]);S!=null&&u(n,["customBaseModel"],S);let A=a(t,["experiment"]);A!=null&&u(n,["experiment"],A);let V=a(t,["labels"]);V!=null&&u(n,["labels"],V);let x=a(t,["outputUri"]);x!=null&&u(n,["outputUri"],x);let ne=a(t,["pipelineJob"]);ne!=null&&u(n,["pipelineJob"],ne);let O=a(t,["serviceAccount"]);O!=null&&u(n,["serviceAccount"],O);let q=a(t,["tunedModelDisplayName"]);q!=null&&u(n,["tunedModelDisplayName"],q);let ce=a(t,["veoTuningSpec"]);return ce!=null&&u(n,["veoTuningSpec"],ce),n}function bb(t,e){let n={},r=a(t,["sdkHttpResponse"]);r!=null&&u(n,["sdkHttpResponse"],r);let o=a(t,["name"]);o!=null&&u(n,["name"],o);let i=a(t,["metadata"]);i!=null&&u(n,["metadata"],i);let s=a(t,["done"]);s!=null&&u(n,["done"],s);let l=a(t,["error"]);return l!=null&&u(n,["error"],l),n}function qm(t,e){let n={},r=a(t,["gcsUri"]);r!=null&&u(n,["validationDatasetUri"],r);let o=a(t,["vertexDatasetResource"]);return o!=null&&u(n,["validationDatasetUri"],o),n}var Ed=class extends ot{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Pt(Xt.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){let o={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(o.checkpointId=n.config.preTunedModelCheckpointId);let i=Object.assign(Object.assign({},n),{preTunedModel:o});return i.baseModel=void 0,await this.tuneInternal(i)}else{let o=Object.assign({},n);return await this.tuneInternal(o)}else{let o=Object.assign({},n),i=await this.tuneMldevInternal(o),s="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?s=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(s=i.name.split("/operations/")[0]),{name:s,state:jm.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,o,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=Eb(e);return l=T("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>vd(f))}else{let d=vb(e);return l=T("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>Sy(f))}}async listInternal(e){var n,r,o,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=Ib(e);return l=T("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=Sb(f),h=new $s;return Object.assign(h,p),h})}else{let d=Db(e);return l=T("tunedModels",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=Tb(f),h=new $s;return Object.assign(h,p),h})}}async cancel(e){var n,r,o,i;let s,l="",c={};if(this.apiClient.isVertexAI()){let d=db(e);return l=T("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=pb(f),h=new qs;return Object.assign(h,p),h})}else{let d=cb(e);return l=T("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{let h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{let p=fb(f),h=new qs;return Object.assign(h,p),h})}}async tuneInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI()){let l=yb(e,e);return i=T("tuningJobs",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>vd(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let o,i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{let l=mb(e);return i=T("tunedModels",l._url),s=l._query,delete l._url,delete l._query,o=this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{let f=d;return f.sdkHttpResponse={headers:c.headers},f})),o.then(c=>bb(c))}}};var _d=class{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}},Nb=1024*1024*8,xb=3,Rb=1e3,Pb=2,ua="x-goog-upload-status";async function kb(t,e,n){var r;let o=await wy(t,e,n),i=await o?.json();if(((r=o?.headers)===null||r===void 0?void 0:r[ua])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function Fb(t,e,n){var r;let o=await wy(t,e,n),i=await o?.json();if(((r=o?.headers)===null||r===void 0?void 0:r[ua])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");let s=Wm(i),l=new $c;return Object.assign(l,s),l}async function wy(t,e,n){var r,o;let i=0,s=0,l=new Do(new Response),c="upload";for(i=t.size;s<i;){let d=Math.min(Nb,i-s),f=t.slice(s,s+d);s+d>=i&&(c+=", finalize");let p=0,h=Rb;for(;p<xb&&(l=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(d)}}}),!(!((r=l?.headers)===null||r===void 0)&&r[ua]));)p++,await Ob(h),h=h*Pb;if(s+=d,((o=l?.headers)===null||o===void 0?void 0:o[ua])!=="active")break;if(i<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return l}async function Lb(t){return{size:t.size,type:t.type}}function Ob(t){return new Promise(e=>setTimeout(e,t))}var Cd=class{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await kb(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Fb(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Lb(e)}};var Dd=class{create(e,n,r){return new Id(e,n,r)}},Id=class{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}};var zm="x-goog-api-key",Td=class{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(zm)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(zm,this.apiKey)}}};var Vb="gl-node/",ca=class{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");let e=this.httpOptions;e?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");let n=new le({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e?.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;let r=fT(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;let o=new Td(this.apiKey);this.apiClient=new ed({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Vb+"web",uploader:new Cd,downloader:new _d}),this.models=new sd(this.apiClient),this.live=new od(this.apiClient,o,new Dd),this.batches=new Wc(this.apiClient),this.chats=new Jc(this.models,this.apiClient),this.caches=new jc(this.apiClient),this.files=new Kc(this.apiClient),this.operations=new ad(this.apiClient),this.authTokens=new ld(this.apiClient),this.tunings=new Ed(this.apiClient),this.fileSearchStores=new cd(this.apiClient)}};var ha=class t{constructor(){this.ai=null;this.apiKey=null;this.provider="google"}setApiKey(e,n="google"){this.apiKey=e,this.provider=n,n==="google"?this.ai=new ca({apiKey:e}):this.ai=null}hasApiKey(){return!!this.apiKey}async generateExampleImages(e){let n=`A high-quality, professional, photorealistic photograph representing the scene: "${e}". Sharp focus, beautiful lighting, vivid colors, shot on a professional camera.`;try{if(!this.ai)throw new Error("API key not set.");return(await this.ai.models.generateImages({model:"imagen-4.0-generate-001",prompt:n,config:{numberOfImages:4,outputMimeType:"image/jpeg",aspectRatio:"4:3"}})).generatedImages.map(o=>`data:image/jpeg;base64,${o.image.imageBytes}`)}catch(r){return console.error("Error calling Gemini Image Generation API:",r),[]}}async generateCameraSettings(e,n,r){if(!this.ai)throw new Error("API key not set.");let o=n!=="Any"?`The user is using a ${n} camera.`:"",i=r?`Specifically, the camera model is ${r}.`:"",s,l="For each setting, also provide a concise explanation (in the corresponding 'Explanation' field) of why this specific value or range is recommended for the scene.";e.toLowerCase().includes("long exposure")?s=`
      As a professional photography assistant, provide the ideal camera settings for a "Long Exposure" shot. The goal is to capture motion blur, such as silky water, light trails, or blurred clouds.
      ${o}
      ${i}

      Give a specific value or a small, specific range for the core settings.
      - Shutter Speed: Recommend a very slow speed, likely multiple seconds (e.g., 5-30 seconds) or Bulb mode.
      - ISO: Recommend the lowest possible native setting (e.g., ISO 100, ISO 64).
      - Aperture: Suggest a mid-range aperture for sharpness (e.g., f/8 - f/16).
      - Focus Mode: Heavily recommend Manual Focus (MF) and explain the user should focus before starting the exposure.
      - General Tip: The general tip MUST explain the absolute necessity of a sturdy tripod and using a remote shutter release or the camera's self-timer to prevent camera shake.
      - Brand Specific Tip: If a brand is specified, provide a relevant tip (like Long Exposure Noise Reduction). If no brand is specified, use this tip to explain what a Neutral Density (ND) filter is and why it's essential for long exposures during the day.
      
      ${l}
      `:s=`
        As a professional photography assistant, provide the ideal camera settings for the following scene: "${e}".
        ${o}
        ${i}

        Give a specific value or a small, specific range for the core settings.
        For brand-specific settings like Focus Mode, Metering Mode, and Drive Mode, use terminology common to the specified brand if possible. If no brand is specified, use generic terms.
        Provide a recommendation for a type of lens that would be suitable for this shot.
        Also, provide a concise, actionable 'general tip' to improve the shot.
        If a camera brand is specified, add a 'brand specific tip' that leverages a feature or setting of that brand. If no brand is specified, this field can be omitted or left empty.
        
        ${l}
      `;let c={type:Z.OBJECT,properties:{aperture:{type:Z.STRING,description:"e.g., f/1.8, f/8-f/11"},apertureExplanation:{type:Z.STRING,description:"Explain why this aperture is recommended for the scene."},iso:{type:Z.STRING,description:"e.g., 100, 400-800"},isoExplanation:{type:Z.STRING,description:"Explain why this ISO is recommended for the scene."},shutterSpeed:{type:Z.STRING,description:"e.g., 1/125s, 30s"},shutterSpeedExplanation:{type:Z.STRING,description:"Explain why this shutter speed is recommended for the scene."},whiteBalance:{type:Z.STRING,description:"e.g., Auto, Daylight, 5500K"},whiteBalanceExplanation:{type:Z.STRING,description:"Explain why this white balance is recommended for the scene."},focusMode:{type:Z.STRING,description:"e.g., AF-C, Eye AF, Manual Focus"},focusModeExplanation:{type:Z.STRING,description:"Explain why this focus mode is recommended for the scene."},driveMode:{type:Z.STRING,description:"e.g., Single Shot, Continuous High"},driveModeExplanation:{type:Z.STRING,description:"Explain why this drive mode is recommended for the scene."},meteringMode:{type:Z.STRING,description:"e.g., Matrix, Center-Weighted"},meteringModeExplanation:{type:Z.STRING,description:"Explain why this metering mode is recommended for the scene."},lensRecommendation:{type:Z.STRING,description:"A recommendation for a suitable lens."},generalTip:{type:Z.STRING,description:"A short, helpful tip for any camera."},brandSpecificTip:{type:Z.STRING,description:"A tip specific to the user's camera brand or a key technique like using ND filters."}},required:["aperture","apertureExplanation","iso","isoExplanation","shutterSpeed","shutterSpeedExplanation","whiteBalance","whiteBalanceExplanation","focusMode","focusModeExplanation","driveMode","driveModeExplanation","meteringMode","meteringModeExplanation","lensRecommendation","generalTip"]};try{let f=(await this.ai.models.generateContent({model:"gemini-2.5-flash",contents:s,config:{responseMimeType:"application/json",responseSchema:c,temperature:.5}})).text.trim(),p=JSON.parse(f);if(!p.aperture||!p.apertureExplanation||!p.iso||!p.isoExplanation||!p.shutterSpeed||!p.shutterSpeedExplanation||!p.whiteBalance||!p.whiteBalanceExplanation||!p.focusMode||!p.focusModeExplanation||!p.driveMode||!p.driveModeExplanation||!p.meteringMode||!p.meteringModeExplanation||!p.lensRecommendation||!p.generalTip)throw new Error("Invalid response structure from AI model.");return p}catch(d){throw console.error("Error calling Gemini API:",d),new Error("Failed to communicate with the AI model.")}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}};var My=(t,e)=>e.id;function Ub(t,e){if(t&1){let n=Jt();_(0,"button",46),ge("click",function(){let o=wt(n).$implicit,i=ae();return Mt(i.setTheme(o))}),C()}if(t&2){let n=e.$implicit,r=ae();rr(r.activeTheme().id===n.id?"ring-2 ring-white scale-110":"ring-1 ring-transparent hover:ring-white/50"),rs("background","linear-gradient(to right, "+n.iconColors.from+", "+n.iconColors.to+")"),Et("title",n.name)}}function Bb(t,e){if(t&1&&(_(0,"p",47),w(1),C()),t&2){let n=ae();N(),ee(n.apiKeyError())}}function Hb(t,e){if(t&1){let n=Jt();_(0,"button",59),ge("click",function(){let o=wt(n).$implicit,i=ae(2);return Mt(i.getSettings(o))}),Ge(),_(1,"svg",60),ue(2,"path"),C(),Ye(),_(3,"span",61),w(4),C()()}if(t&2){let n,r,o=e.$implicit,i=ae(2);rr("group p-4 bg-[rgb(var(--background-secondary-rgb))] rounded-lg shadow-lg hover:bg-[rgb(var(--accent-active-bg-rgb))]/50 transition-all duration-300 ease-in-out transform hover:-translate-y-1 focus:outline-none focus:ring-2 focus:ring-[var(--accent-ring)] "+(((n=i.selectedScene())==null?null:n.id)===o.id&&i.isSettingsPanelOpen()?"ring-2 ring-[var(--accent-ring)] bg-[rgb(var(--accent-active-bg-rgb))]/60":"")),N(),rr(((r=i.selectedScene())==null?null:r.id)===o.id&&i.isSettingsPanelOpen()?"text-[var(--accent-primary)]":""),N(),to("d",o.icon),N(2),Yt(" ",o.name," ")}}function Gb(t,e){if(t&1){let n=Jt();_(0,"button",59),ge("click",function(){let o=wt(n).$implicit,i=ae(2);return Mt(i.setBrand(o))}),w(1),C()}if(t&2){let n=e.$implicit,r=ae(2);rr("px-4 py-2 text-sm font-medium rounded-md transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[rgb(var(--background-secondary-rgb))] focus:ring-[var(--accent-focus)] "+(r.cameraBrand()===n?"bg-[rgb(var(--accent-bg-hover-rgb))] text-[var(--accent-button-text)]":"bg-[rgb(var(--background-tertiary-rgb))] hover:bg-[rgb(var(--background-hover-rgb))]")),N(),Yt(" ",n," ")}}function $b(t,e){if(t&1&&(_(0,"p",47),w(1),C()),t&2){let n=ae(2);N(),ee(n.cameraModelError())}}function qb(t,e){if(t&1){let n=Jt();_(0,"main",48)(1,"section",49)(2,"h2",50),w(3,"1. Choose a Photography Scene"),C(),_(4,"div",51),tr(5,Hb,5,6,"button",52,My),C()(),_(7,"section",53)(8,"h2",50),w(9,"2. Add Advanced Details (Optional)"),C(),_(10,"div",54)(11,"div")(12,"label",55),w(13,"Camera Brand"),C(),_(14,"div",56),tr(15,Gb,2,3,"button",52,Ku),C()(),_(17,"div")(18,"label",57),w(19,"Camera Model"),C(),_(20,"input",58),ge("input",function(o){wt(n);let i=ae();return Mt(i.onModelInput(o))}),C(),Xe(21,$b,2,1,"p",47),C()()()()}if(t&2){let n=ae();N(5),nr(n.scenes),N(10),nr(n.cameraBrands),N(5),Rt("border-[rgb(var(--border-primary-rgb))]",!n.cameraModelError())("focus:ring-[var(--accent-focus)]",!n.cameraModelError())("focus:border-[var(--accent-focus)]",!n.cameraModelError())("border-[var(--error)]",n.cameraModelError())("focus:ring-[var(--error)]",n.cameraModelError())("focus:border-[var(--error)]",n.cameraModelError()),Et("value",n.cameraModel()),N(),et(n.cameraModelError()?21:-1)}}function zb(t,e){if(t&1){let n=Jt();_(0,"div",62),ge("click",function(){wt(n);let o=ae();return Mt(o.closeSettingsPanel())}),C()}}function Wb(t,e){if(t&1&&(_(0,"span"),w(1),C()),t&2){let n,r=ae();N(),Yt("Settings for ",(n=r.selectedScene())==null?null:n.name)}}function jb(t,e){t&1&&(_(0,"span"),w(1,"Camera Settings"),C())}function Jb(t,e){t&1&&(_(0,"div",43)(1,"div",63),Ge(),_(2,"svg",64),ue(3,"circle",65)(4,"path",66),C(),Ye(),_(5,"span",67),w(6,"Generating Settings..."),C()()())}function Yb(t,e){if(t&1&&(_(0,"div",44)(1,"div",68),Ge(),_(2,"svg",69),ue(3,"path",70),C(),Ye(),_(4,"h3",71),w(5,"An Error Occurred"),C(),_(6,"p"),w(7),C()()()),t&2){let n=ae();N(7),ee(n.error())}}function Kb(t,e){if(t&1&&(_(0,"div",86)(1,"h4",80),Ge(),_(2,"svg",101),ue(3,"path",102),C(),w(4,"Brand Specific Tip"),C(),Ye(),_(5,"p",83),w(6),C()()),t&2){let n=ae();N(6),ee(n.brandSpecificTip)}}function Zb(t,e){if(t&1&&(_(0,"div",94)(1,"div",103)(2,"h5",104),w(3,"Aperture"),C(),_(4,"p",105),w(5),C()(),_(6,"div",103)(7,"h5",104),w(8,"ISO"),C(),_(9,"p",106)(10,"strong"),w(11,"Definition:"),C(),w(12," ISO measures your camera's sensitivity to light. A low ISO is for bright light and gives a cleaner image, while a high ISO is for dark scenes but can add grain (noise)."),C(),_(13,"p",105),w(14),C()(),_(15,"div",103)(16,"h5",104),w(17,"Shutter Speed"),C(),_(18,"p",105),w(19),C()(),_(20,"div",103)(21,"h5",104),w(22,"White Balance"),C(),_(23,"p",105),w(24),C()(),_(25,"div",103)(26,"h5",104),w(27,"Focus Mode"),C(),_(28,"p",105),w(29),C()(),_(30,"div",103)(31,"h5",104),w(32,"Drive Mode"),C(),_(33,"p",105),w(34),C()(),_(35,"div",103)(36,"h5",104),w(37,"Metering Mode"),C(),_(38,"p",105),w(39),C()()()),t&2){let n=ae();N(5),ee(n.apertureExplanation),N(9),ee(n.isoExplanation),N(5),ee(n.shutterSpeedExplanation),N(5),ee(n.whiteBalanceExplanation),N(5),ee(n.focusModeExplanation),N(5),ee(n.driveModeExplanation),N(5),ee(n.meteringModeExplanation)}}function Qb(t,e){t&1&&(_(0,"div",98),ue(1,"div",107)(2,"div",107)(3,"div",107)(4,"div",107),C())}function Xb(t,e){if(t&1&&(_(0,"div",108),ue(1,"img",109)(2,"div",110),C()),t&2){let n,r=e.$implicit,o=e.$index,i=ae(3);N(),Et("alt",Qu("AI generated example photo for ",(n=i.selectedScene())==null?null:n.name," ",o+1))("src",r,Mu)}}function eN(t,e){if(t&1&&(_(0,"div",99),tr(1,Xb,3,4,"div",108,Yu),C()),t&2){let n=ae(2);N(),nr(n.exampleImages())}}function tN(t,e){t&1&&(_(0,"div",100)(1,"p"),w(2,"Could not load example images."),C()())}function nN(t,e){if(t&1){let n=Jt();_(0,"div",45)(1,"div",72)(2,"div",73)(3,"h4",74),w(4,"Aperture"),C(),_(5,"p",75),w(6),C()(),_(7,"div",73)(8,"h4",74),w(9,"ISO"),C(),_(10,"p",75),w(11),C()(),_(12,"div",73)(13,"h4",74),w(14,"Shutter Speed"),C(),_(15,"p",75),w(16),C()(),_(17,"div",73)(18,"h4",74),w(19,"White Balance"),C(),_(20,"p",75),w(21),C()()(),_(22,"div",76)(23,"div",73)(24,"h4",74),w(25,"Focus Mode"),C(),_(26,"p",77),w(27),C()(),_(28,"div",73)(29,"h4",74),w(30,"Drive Mode"),C(),_(31,"p",77),w(32),C()(),_(33,"div",73)(34,"h4",74),w(35,"Metering Mode"),C(),_(36,"p",77),w(37),C()()(),_(38,"div",78)(39,"div",79)(40,"h4",80),Ge(),_(41,"svg",81),ue(42,"path",82),C(),w(43,"Lens Recommendation"),C(),Ye(),_(44,"p",83),w(45),C()(),_(46,"div",79)(47,"h4",80),Ge(),_(48,"svg",84),ue(49,"path",85),C(),w(50,"General Tip"),C(),Ye(),_(51,"p",83),w(52),C()(),Xe(53,Kb,7,1,"div",86),C(),_(54,"div",87)(55,"button",88),ge("click",function(){wt(n);let o=ae();return Mt(o.toggleExplanations())}),_(56,"h4",89),Ge(),_(57,"svg",90),ue(58,"path",91),C(),w(59," Settings Glossary "),C(),_(60,"svg",92),ue(61,"path",93),C()(),Xe(62,Zb,40,7,"div",94),C(),Ye(),_(63,"div",95)(64,"h4",96),Ge(),_(65,"svg",90),ue(66,"path",97),C(),w(67," AI Generated Examples "),C(),Xe(68,Qb,5,0,"div",98)(69,eN,3,0,"div",99)(70,tN,3,0,"div",100),C()()}if(t&2){let n=e,r=ae();N(6),ee(n.aperture),N(5),ee(n.iso),N(5),ee(n.shutterSpeed),N(5),ee(n.whiteBalance),N(6),ee(n.focusMode),N(5),ee(n.driveMode),N(5),ee(n.meteringMode),N(8),ee(n.lensRecommendation),N(7),ee(n.generalTip),N(),et(r.cameraBrand()!=="Any"&&n.brandSpecificTip?53:-1),N(7),Rt("rotate-180",r.isExplanationsOpen()),N(2),et(r.isExplanationsOpen()?62:-1),N(6),et(r.imageLoading()?68:r.exampleImages()&&r.exampleImages().length>0?69:70)}}var ga=class t{constructor(){this.geminiService=M(ha);this.selectedProvider="google";this.apiKey=oe("");this.apiKeyError=oe(null);this.apiKeySaved=oe(!1);this.currentYear=new Date().getFullYear();this.themes=[{id:"sky-dark",name:"Sky",iconColors:{from:"#38bdf8",to:"#3b82f6"},colors:{"--background-primary":"#111827","--text-primary":"#f9fafb","--text-secondary":"#9ca3af","--accent-primary":"#7dd3fc","--accent-ring":"#38bdf8","--accent-focus":"#0ea5e9","--accent-button-text":"#ffffff","--accent-gradient-from":"#38bdf8","--accent-gradient-to":"#3b82f6","--error":"#f87171","--background-secondary-rgb":"31 41 55","--background-tertiary-rgb":"55 65 81","--background-hover-rgb":"75 85 99","--accent-bg-hover-rgb":"2 132 199","--accent-active-bg-rgb":"12 74 110","--border-primary-rgb":"75 85 99","--background-primary-rgb":"17 24 39"}},{id:"sunset-dark",name:"Sunset",iconColors:{from:"#fb923c",to:"#f43f5e"},colors:{"--background-primary":"#1c1917","--text-primary":"#fef3c7","--text-secondary":"#a8a29e","--accent-primary":"#fb923c","--accent-ring":"#f97316","--accent-focus":"#ea580c","--accent-button-text":"#ffffff","--accent-gradient-from":"#fb923c","--accent-gradient-to":"#f43f5e","--error":"#fca5a5","--background-secondary-rgb":"41 37 36","--background-tertiary-rgb":"68 64 60","--background-hover-rgb":"87 83 78","--accent-bg-hover-rgb":"234 88 12","--accent-active-bg-rgb":"124 45 18","--border-primary-rgb":"87 83 78","--background-primary-rgb":"28 25 23"}},{id:"forest-dark",name:"Forest",iconColors:{from:"#4ade80",to:"#16a34a"},colors:{"--background-primary":"#1a2e05","--text-primary":"#ecfccb","--text-secondary":"#a3e635","--accent-primary":"#86efac","--accent-ring":"#4ade80","--accent-focus":"#22c55e","--accent-button-text":"#052e16","--accent-gradient-from":"#4ade80","--accent-gradient-to":"#16a34a","--error":"#f87171","--background-secondary-rgb":"20 83 45","--background-tertiary-rgb":"21 128 61","--background-hover-rgb":"22 163 74","--accent-bg-hover-rgb":"22 101 52","--accent-active-bg-rgb":"20 83 45","--border-primary-rgb":"22 101 52","--background-primary-rgb":"26 46 5"}},{id:"classic-light",name:"Classic",iconColors:{from:"#a5b4fc",to:"#6366f1"},colors:{"--background-primary":"#f1f5f9","--text-primary":"#0f172a","--text-secondary":"#475569","--accent-primary":"#4f46e5","--accent-ring":"#6366f1","--accent-focus":"#4338ca","--accent-button-text":"#ffffff","--accent-gradient-from":"#a5b4fc","--accent-gradient-to":"#6366f1","--error":"#ef4444","--background-secondary-rgb":"226 232 240","--background-tertiary-rgb":"203 213 225","--background-hover-rgb":"148 163 184","--accent-bg-hover-rgb":"79 70 229","--accent-active-bg-rgb":"224 231 255","--border-primary-rgb":"203 213 225","--background-primary-rgb":"241 245 249"}},{id:"sakura-light",name:"Sakura",iconColors:{from:"#f9a8d4",to:"#ec4899"},colors:{"--background-primary":"#fff1f2","--text-primary":"#831843","--text-secondary":"#be185d","--accent-primary":"#ec4899","--accent-ring":"#f472b6","--accent-focus":"#db2777","--accent-button-text":"#ffffff","--accent-gradient-from":"#f9a8d4","--accent-gradient-to":"#ec4899","--error":"#e11d48","--background-secondary-rgb":"253 232 248","--background-tertiary-rgb":"252 211 240","--background-hover-rgb":"251 182 225","--accent-bg-hover-rgb":"219 39 119","--accent-active-bg-rgb":"253 242 248","--border-primary-rgb":"251 182 225","--background-primary-rgb":"255 241 242"}}];this.scenes=[{id:"portrait_outdoor_daylight",name:"Outdoor Portrait",icon:"M12 5.5A3.5 3.5 0 0 1 15.5 9a3.5 3.5 0 0 1-3.5 3.5A3.5 3.5 0 0 1 8.5 9A3.5 3.5 0 0 1 12 5.5M5 19v-2c0-2.21 3.13-4 7-4s7 1.79 7 4v2H5zm17-7h-2v-2h2v2zm-2-4l1.41-1.41-1.41-1.41L18 6.59V8h2V6.59l1.41 1.41 1.41-1.41L21.41 5.2zM18 2h-2v2h2V2z"},{id:"portrait_indoor_lowlight",name:"Indoor Portrait",icon:"M20 18v2H4v-2c0-1.65 3.33-3 5-3 .39 0 .78.04 1.16.11A4.012 4.012 0 0 1 12 14c1.23 0 2.34.56 3.07 1.44.33-.06.66-.09 1-.09 1.67 0 5 1.35 5 3zm-8-6c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm8-10H4v16h16V2zm2-2H2v20h20V0z"},{id:"night_portrait",name:"Night Portrait",icon:"M12,5.5A3.5,3.5 0 0,1 15.5,9A3.5,3.5 0 0,1 12,12.5A3.5,3.5 0 0,1 8.5,9A3.5,3.5 0 0,1 12,5.5M5,19V17C5,14.79 8.13,13 12,13C15.87,13 19,14.79 19,17V19H5M19.5,9.5L21,8L19.5,6.5L18,8L19.5,9.5M17,6L16,4L15,6L16,8L17,6M22,12L21,14L22,16L24,15L22,12Z"},{id:"portrait_lighting",name:"Portrait Lighting",icon:"M12 5.5A3.5 3.5 0 0 1 15.5 9a3.5 3.5 0 0 1-3.5 3.5A3.5 3.5 0 0 1 8.5 9A3.5 3.5 0 0 1 12 5.5M5 19v-2c0-2.21 3.13-4 7-4s7 1.79 7 4v2H5zm14-7h-2v-2h2v2zm0 4h-2v-2h2v2zm0 4h-2v-2h2v2zM17 3v2h2V3h-2zm-2 2h-2V3h2v2z"},{id:"landscape_daylight",name:"Landscape",icon:"M6.5,15.5L9.5,11.5L12.5,15.5L15.5,10.5L19,15.5H5.5L6.5,15.5M21,19.5H3V4.5H21V19.5Z"},{id:"group_photo_outdoor",name:"Outdoor Group Photo",icon:"M16,13C17.66,13 19,11.66 19,10C19,8.34 17.66,7 16,7C14.34,7 13,8.34 13,10C13,11.66 14.34,13 16,13M16,14C13.33,14 8,15.33 8,18V21H24V18C24,15.33 18.67,14 16,14M8,13C9.66,13 11,11.66 11,10C11,8.34 9.66,7 8,7C6.34,7 5,8.34 5,10C5,11.66 6.34,13 8,13M8,14C7.3,14 6.62,14.07 5.97,14.21C6.91,15.27 7.5,16.5 7.5,18V21H13V18C13,15.33 12.67,14 8,14Z"},{id:"family_portrait_indoor",name:"Indoor Family Photo",icon:"M22 10.5V19c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2v-8.5c0-.82.52-1.56 1.26-1.88l8-4.5c.48-.27 1.04-.27 1.52 0l8 4.5c.74.32 1.22 1.06 1.22 1.88zM12 6c-1.93 0-3.5 1.57-3.5 3.5S10.07 13 12 13s3.5-1.57 3.5-3.5S13.93 6 12 6zm-5 13c0-1.67 3.33-2.5 5-2.5s5 .83 5 2.5v1H7v-1z"},{id:"sports_action_daylight",name:"Action/Sports",icon:"M9.5 5.5c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm2.5 1.5h-5c-1.1 0-2 .9-2 2v6h2v-5h1v6h2v-4h1v4h2v-6c0-1.1-.9-2-2-2z"},{id:"street_photography",name:"Street Photography",icon:"M14.5,9.5A2.5,2.5 0 0,0 12,7A2.5,2.5 0 0,0 9.5,9.5A2.5,2.5 0 0,0 12,12A2.5,2.5 0 0,0 14.5,9.5M8,21V12.5C8,11.12 9.12,10 10.5,10H13.5C14.88,10 16,11.12 16,12.5V21H14V16H10V21H8M6,21H2V9L6,5V21M18,21V5L22,9V21H18Z"},{id:"night_sky_astrophotography",name:"Night Sky",icon:"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.67 0-4.85-2.18-4.85-4.85 0-1.82.89-3.42 2.26-4.4C12.92 3.04 12.46 3 12 3zm4.5 9.5l-1.06 1.06-1.44-1.44-1.44 1.44-1.06-1.06L12.94 13l-1.44-1.44 1.06-1.06L14 11.56l1.44-1.44 1.06 1.06L14.06 13l1.44 1.44z"},{id:"macro_photography",name:"Macro Photography",icon:"M17.5 15c-1.2 0-2.3.5-3.1 1.3L5.8 7.7c.3-1 .2-2.1-.3-3s-1.4-1.5-2.5-1.7c-1.1-.2-2.2.2-2.8 1s-.8 1.7-.5 2.8.9 1.9 2 2.3l8.6 8.6c-.7.8-1.2 1.9-1.2 3 0 2.2 1.8 4 4 4s4-1.8 4-4-1.8-4-4-4zm-14-8c0-.6.4-1 1-1s1 .4 1 1-.4 1-1 1-1-.4-1-1zm3 3c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1zm3 3c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1zm-3 3c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1z"},{id:"product_photography",name:"Product Photography",icon:"M16,5V4H8V5H16M16.4,7H7.6C7.05,7 6.6,7.45 6.6,8V18.4C6.6,18.95 7.05,19.4 7.6,19.4H16.4C16.95,19.4 17.4,18.95 17.4,18.4V8C17.4,7.45 16.95,7 16.4,7Z"},{id:"wildlife_photography",name:"Wildlife Photography",icon:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1.5 15.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm3-3c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm-6 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm3-4.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"},{id:"fireworks_photography",name:"Fireworks",icon:"M12 2C12 2 11 4 9 4C7 4 7 2 7 2S8 0 10 0C12 0 12 2 12 2M5.5 4.5C5.5 4.5 4.5 5.5 4.5 7.5S5.5 10.5 5.5 10.5S6.5 9.5 6.5 7.5S5.5 4.5 5.5 4.5M18.5 4.5C18.5 4.5 17.5 5.5 17.5 7.5S18.5 10.5 18.5 10.5S19.5 9.5 19.5 7.5S18.5 4.5 18.5 4.5M12 12C12 12 11 14 9 14C7 14 7 12 7 12S8 10 10 10C12 10 12 12 12 12M14 22H10V15H14V22Z"},{id:"long_exposure",name:"Long Exposure",icon:"M13 3.05V1h-2v2.05A9 9 0 0 0 3.05 11H1v2h2.05A9 9 0 0 0 11 20.95V23h2v-2.05A9 9 0 0 0 20.95 13H23v-2h-2.05A9 9 0 0 0 13 3.05zM12 19a7 7 0 1 1 0-14 7 7 0 0 1 0 14zm1-8h2.55A5.52 5.52 0 0 0 12 6.45V9h1zm-4.45 4L9.5 13h1.05l-1.9 1.9A5.52 5.52 0 0 0 6.45 12H9v1z"},{id:"light_painting",name:"Light Painting",icon:"M7 14c.83 0 1.5.67 1.5 1.5S7.83 17 7 17s-1.5-.67-1.5-1.5S6.17 14 7 14zm3 2c0-1.66-1.34-3-3-3s-3 1.34-3 3h2c0-.55.45-1 1-1s1 .45 1 1h2zm10.25-3.5-.71-.71c-.38-.38-.89-.59-1.42-.59H17v-2h-2v3.42l1.44 1.44c.31.32.72.54 1.16.64l.1.02c.82 0 1.5-.67 1.5-1.5 0-.25-.06-.48-.18-.69zm-1.89 3.33L17 14.42V17h-2v-4h-1.17l-1-1H11v-2h2.17l2-2H13v-2h2v1.17l4.42 4.42c.39.39.39 1.02 0 1.41zM3 14c.55 0 1 .45 1 1v2h2c.55 0 1 .45 1 1s-.45 1-1 1H4v2c0 .55-.45 1-1 1s-1-.45-1-1v-2H0c-.55 0-1-.45-1-1s.45-1 1-1h2v-2c0-.55.45-1 1-1z"},{id:"panning_photography",name:"Panning",icon:"M8.5 14.5L4 19l1.5 1.5L10 16l-1.5-1.5zM19 4l-1.5-1.5L13 7l1.5 1.5L19 4zm-6.5 2.5l-1-1L1 15.5l1 1L12.5 6.5z"},{id:"50mm_walkaround",name:"50mm Walk-around",icon:"M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4Z"},{id:"85mm_bokeh_portrait",name:"85mm Bokeh Portrait",icon:"M20 18v2H4v-2c0-1.65 3.33-3 5-3 .39 0 .78.04 1.16.11A4.012 4.012 0 0 1 12 14c1.23 0 2.34.56 3.07 1.44.33-.06.66-.09 1-.09 1.67 0 5 1.35 5 3zm-8-6c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm8-10H4v16h16V2zm2-2H2v20h20V0z"},{id:"70-200mm_sports_action",name:"70-200mm Sports",icon:"M9.5 5.5c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm2.5 1.5h-5c-1.1 0-2 .9-2 2v6h2v-5h1v6h2v-4h1v4h2v-6c0-1.1-.9-2-2-2z"},{id:"70-200mm_compressed_landscape",name:"70-200mm Landscape",icon:"M17,2H14L12,4H8L6,2H3A1,1 0 0,0 2,3V21A1,1 0 0,0 3,22H17A1,1 0 0,0 18,21V3A1,1 0 0,0 17,2M12.5,17A2.5,2.5 0 0,1 10,14.5A2.5,2.5 0 0,1 12.5,12A2.5,2.5 0 0,1 15,14.5A2.5,2.5 0 0,1 12.5,17M12.5,7.5A1,1 0 0,1 11.5,8.5V11.5A1,1 0 0,1 12.5,12.5A1,1 0 0,1 13.5,11.5V8.5A1,1 0 0,1 12.5,7.5M22,6V18H20V6H22Z"}];this.cameraBrands=["Any","Canon","Nikon","Sony","Fujifilm","Panasonic"];this.activeTheme=oe(this.themes[0]);this.selectedScene=oe(null);this.settings=oe(null);this.loading=oe(!1);this.error=oe(null);this.isSettingsPanelOpen=oe(!1);this.exampleImages=oe(null);this.imageLoading=oe(!1);this.isExplanationsOpen=oe(!1);this.cameraBrand=oe("Any");this.cameraModel=oe("");this.cameraModelError=oe(null);this.applyTheme(this.activeTheme()),Hl(()=>{this.applyTheme(this.activeTheme())})}providerLabel(){switch(this.selectedProvider){case"google":return"Google Gemini API Key";case"openai":return"OpenAI API Key";default:return"API Key"}}providerPlaceholder(){switch(this.selectedProvider){case"google":return"Enter your Gemini API key";case"openai":return"Enter your OpenAI API key";default:return"Enter your API key"}}onProviderChange(e){this.selectedProvider=e.target.value,this.apiKey.set(""),this.apiKeyError.set(null),this.apiKeySaved.set(!1)}onApiKeyInput(e){let n=e.target.value.trim();this.apiKey.set(n),n?this.selectedProvider==="google"&&!/^AIza[0-9A-Za-z-_]{30,}$/.test(n)?this.apiKeyError.set("Invalid Google Gemini API key format."):this.selectedProvider==="openai"&&!/^sk-[A-Za-z0-9-]{300,}$/.test(n)?this.apiKeyError.set("Invalid OpenAI API key format."):this.apiKeyError.set(null):this.apiKeyError.set("API key is required."),this.apiKeySaved.set(!1)}saveApiKey(){!this.apiKeyError()&&this.apiKey()&&(this.geminiService.setApiKey(this.apiKey(),this.selectedProvider),this.apiKeySaved.set(!0))}applyTheme(e){for(let[n,r]of Object.entries(e.colors))document.documentElement.style.setProperty(n,r)}setTheme(e){this.activeTheme.set(e)}async getSettings(e){if(this.loading()&&this.imageLoading())return;this.isExplanationsOpen.set(!1),this.isSettingsPanelOpen.set(!0),this.selectedScene.set(e),this.settings.set(null),this.exampleImages.set(null),this.error.set(null),this.loading.set(!0),this.imageLoading.set(!0);let n=this.geminiService.generateCameraSettings(e.name,this.cameraBrand(),this.cameraModel()),r=this.geminiService.generateExampleImages(e.name);n.then(o=>{this.settings.set(o)}).catch(o=>{this.error.set("Failed to generate camera settings. Please try again."),console.error("Settings Error:",o)}).finally(()=>{this.loading.set(!1)}),r.then(o=>{this.exampleImages.set(o)}).catch(o=>{console.error("Image Generation Error:",o),this.exampleImages.set([])}).finally(()=>{this.imageLoading.set(!1)})}closeSettingsPanel(){this.isSettingsPanelOpen.set(!1)}setBrand(e){this.cameraBrand.set(e)}onModelInput(e){let r=e.target.value;if(this.cameraModel.set(r),!r){this.cameraModelError.set(null);return}/^(?=.*[a-zA-Z])(?=.*[0-9])[a-zA-Z0-9\s-]{2,20}$/.test(r)?this.cameraModelError.set(null):this.cameraModelError.set("Invalid format. Use letters and numbers (e.g., A7 IV, R5).")}toggleExplanations(){this.isExplanationsOpen.update(e=>!e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=$u({type:t,selectors:[["app-root"]],decls:66,vars:25,consts:[[1,"min-h-screen","flex","flex-col","items-center","p-4","sm:p-6","md:p-8"],[1,"w-full","max-w-5xl","flex","justify-end","mb-4","-mt-2"],[1,"p-1.5","bg-[rgb(var(--background-secondary-rgb))]","rounded-lg","shadow-md"],[1,"flex","items-center","space-x-2"],[1,"w-6","h-6","rounded-full","focus:outline-none","focus:ring-2","focus:ring-offset-2","ring-offset-[rgb(var(--background-secondary-rgb))]","transition-all",3,"class","background","title"],[1,"w-full","max-w-5xl","text-center","mb-8","md:mb-12"],[1,"text-4xl","sm:text-5xl","md:text-6xl","font-extrabold","mb-2","bg-clip-text","text-transparent","bg-gradient-to-r","from-[var(--accent-gradient-from)]","to-[var(--accent-gradient-to)]"],[1,"text-lg","sm:text-xl","text-[var(--text-secondary)]"],[1,"w-full","max-w-5xl","mb-8","md:mb-12"],[1,"h-32","md:h-40","grid","grid-cols-4","sm:grid-cols-6","gap-2","rounded-xl","overflow-hidden","shadow-lg"],[1,"sm:col-span-2","col-span-2","relative","group"],["src","https://picsum.photos/seed/portrait/600/800","alt","A striking portrait of a person",1,"w-full","h-full","object-cover","transition-transform","duration-500","group-hover:scale-105"],[1,"absolute","inset-0","bg-black/20","hover:bg-black/10","transition-colors"],[1,"col-span-2","sm:col-span-2","relative","group"],["src","https://picsum.photos/seed/landscape/800/600","alt","A vast landscape with mountains",1,"w-full","h-full","object-cover","transition-transform","duration-500","group-hover:scale-105"],[1,"hidden","sm:block","sm:col-span-1","relative","group"],["src","https://picsum.photos/seed/wildlife/600/800","alt","A close-up of a wild animal",1,"w-full","h-full","object-cover","transition-transform","duration-500","group-hover:scale-105"],["src","https://picsum.photos/seed/street/600/800","alt","A candid moment in street photography",1,"w-full","h-full","object-cover","transition-transform","duration-500","group-hover:scale-105"],[1,"mb-8","w-full","max-w-2xl","mx-auto","p-4","bg-[rgb(var(--background-secondary-rgb))]/60","rounded-lg","shadow-md","flex","flex-col","items-center"],["for","providerSelect",1,"block","text-lg","font-semibold","mb-2","text-[var(--text-secondary)]"],["id","providerSelect",1,"w-full","px-4","py-2","mb-4","border","rounded-md","bg-[rgb(var(--background-tertiary-rgb))]","text-[var(--text-primary)]",3,"ngModelChange","change","ngModel"],["value","google"],["value","openai"],["value","other"],["for","apiKeyInput",1,"block","text-lg","font-semibold","mb-2","text-[var(--text-secondary)]"],["id","apiKeyInput","type","password","autocomplete","off",1,"w-full","px-4","py-2","bg-[rgb(var(--background-tertiary-rgb))]","border","rounded-md","focus:outline-none","focus:ring-2","text-[var(--text-primary)]","placeholder:text-[var(--text-secondary)]/70","transition-colors","mb-2",3,"input","value","placeholder"],[1,"mt-2","px-6","py-2","bg-[var(--accent-primary)]","text-[var(--accent-button-text)]","rounded-md","font-semibold","shadow","hover:bg-[var(--accent-focus)]","transition-colors",3,"click","disabled"],["class","mt-2 text-sm text-[var(--error)] animate-fast-fade-in",4,"ngIf"],["class","w-full max-w-5xl flex-grow",4,"ngIf"],[1,"w-full","max-w-5xl","text-center","py-6","mt-12","border-t","border-t-[rgb(var(--border-primary-rgb))]","text-[var(--text-secondary)]","text-sm"],[1,"flex","flex-col","sm:flex-row","justify-center","items-center","gap-4","sm:gap-8","mb-4"],["href","mailto:contact@camerai.app",1,"hover:text-[var(--text-primary)]","transition-colors"],["href","https://opensource.org/licenses/MIT","target","_blank","rel","noopener noreferrer",1,"hover:text-[var(--text-primary)]","transition-colors"],["href","#",1,"hover:text-[var(--text-primary)]","transition-colors"],[1,"fixed","inset-0","bg-black/60","z-40","animate-backdrop-fade-in"],[1,"fixed","top-0","right-0","h-full","w-full","max-w-lg","bg-[rgb(var(--background-primary-rgb))]","shadow-2xl","z-50","transform","transition-transform","duration-300","ease-in-out"],[1,"h-full","flex","flex-col"],[1,"flex","items-center","justify-between","p-4","border-b","border-b-[rgb(var(--border-primary-rgb))]","flex-shrink-0"],[1,"text-xl","font-bold","text-[var(--accent-primary)]"],[1,"p-2","rounded-full","hover:bg-[rgb(var(--background-hover-rgb))]","text-[var(--text-secondary)]","hover:text-[var(--text-primary)]","transition-colors","focus:outline-none","focus:ring-2","focus:ring-[var(--accent-focus)]",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"overflow-y-auto","flex-grow","p-6","relative"],[1,"absolute","inset-0","flex","items-center","justify-center","rounded-lg","z-10"],[1,"flex","items-center","justify-center","h-full","text-center","text-[var(--error)]"],[1,"animate-fade-in"],[1,"w-6","h-6","rounded-full","focus:outline-none","focus:ring-2","focus:ring-offset-2","ring-offset-[rgb(var(--background-secondary-rgb))]","transition-all",3,"click","title"],[1,"mt-2","text-sm","text-[var(--error)]","animate-fast-fade-in"],[1,"w-full","max-w-5xl","flex-grow"],[1,"mb-10"],[1,"text-2xl","font-bold","text-[var(--accent-primary)]","mb-6","text-center"],[1,"grid","grid-cols-2","sm:grid-cols-3","lg:grid-cols-5","gap-4"],[3,"class"],[1,"mb-10","p-6","bg-[rgb(var(--background-secondary-rgb))]/50","rounded-lg"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","items-start"],[1,"block","text-lg","font-semibold","mb-3","text-[var(--text-secondary)]"],[1,"flex","flex-wrap","gap-2"],["for","cameraModel",1,"block","text-lg","font-semibold","mb-3","text-[var(--text-secondary)]"],["id","cameraModel","type","text","placeholder","e.g., Sony A7 IV, Canon R5",1,"w-full","px-4","py-2","bg-[rgb(var(--background-tertiary-rgb))]","border","rounded-md","focus:outline-none","focus:ring-2","text-[var(--text-primary)]","placeholder:text-[var(--text-secondary)]/70","transition-colors",3,"input","value"],[3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"h-10","w-10","mx-auto","mb-3","text-[var(--text-secondary)]","group-hover:text-[var(--accent-primary)]","transition-all","duration-300","ease-in-out","group-hover:scale-110","group-hover:-rotate-3"],[1,"font-semibold","text-sm","text-center","block","text-[var(--text-primary)]"],[1,"fixed","inset-0","bg-black/60","z-40","animate-backdrop-fade-in",3,"click"],[1,"flex","flex-col","items-center","text-[var(--accent-primary)]"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","h-10","w-10","mb-4"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"text-lg","font-semibold"],[1,"flex","flex-col","items-center"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"h-12","w-12","mb-3",2,"animation","icon-shake 0.6s ease-in-out"],["d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"],[1,"text-xl","font-bold"],[1,"grid","grid-cols-2","md:grid-cols-2","gap-4","mb-6"],[1,"bg-[rgb(var(--background-tertiary-rgb))]/50","p-4","rounded-lg","text-center"],[1,"text-sm","font-semibold","text-[var(--text-secondary)]"],[1,"text-2xl","font-bold","text-[var(--text-primary)]"],[1,"space-y-4","mb-6"],[1,"text-xl","font-bold","text-[var(--text-primary)]"],[1,"space-y-4"],[1,"bg-[rgb(var(--background-primary-rgb))]/40","p-5","rounded-lg"],[1,"flex","items-center","text-lg","font-bold","text-[var(--accent-primary)]","mb-2"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"h-6","w-6","mr-2",2,"animation","icon-pop-in 0.5s ease-out 0.3s backwards"],["d","m13.28 8.43-3.75-3.75a1.5 1.5 0 0 0-2.12 0L2.05 10.05a1.5 1.5 0 0 0 0 2.12l3.75 3.75a1.5 1.5 0 0 0 2.12 0L13.28 10a1.5 1.5 0 0 0 0-1.57zM18 6a4 4 0 1 0 0 8a4 4 0 0 0 0-8zm0 6a2 2 0 1 1 0-4a2 2 0 0 1 0 4z"],[1,"text-[var(--text-secondary)]","leading-relaxed"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"h-6","w-6","mr-2",2,"animation","icon-pop-in 0.5s ease-out 0.4s backwards"],["d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 14c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1zm-1-8V6h2v2h-2z"],[1,"bg-gradient-to-r","from-[rgb(var(--accent-active-bg-rgb))]/50","to-[rgb(var(--background-primary-rgb))]/40","p-5","rounded-lg","border-l-4","border-[var(--accent-ring)]"],[1,"mt-8"],[1,"w-full","flex","justify-between","items-center","p-2","rounded-lg","hover:bg-[rgb(var(--background-hover-rgb))]","transition-colors","focus:outline-none","focus:ring-2","focus:ring-[var(--accent-focus)]",3,"click"],[1,"flex","items-center","text-lg","font-bold","text-[var(--accent-primary)]"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"h-6","w-6","mr-2"],["d","M11.5 13.5H10v-2h1.5v2zm2.5-1.5a2 2 0 1 0-4 0H8.5a3.5 3.5 0 1 1 5.4 2.7L15 15.5V17h-1.5v-1.1l-1.6-1.6c.1-.2.2-.4.2-.6zM20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-1 14H5c-.55 0-1-.45-1-1V7c0-.55.45-1 1-1h14c.55 0 1 .45 1 1v10c0 .55-.45 1-1 1z"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-[var(--text-secondary)]","transition-transform","duration-300"],["fill-rule","evenodd","d","M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule","evenodd"],[1,"mt-4","pl-4","border-l-2","border-[var(--accent-ring)]","space-y-4","animate-slide-down"],[1,"mt-8","pt-6","border-t","border-t-[rgb(var(--border-primary-rgb))]"],[1,"flex","items-center","text-lg","font-bold","text-[var(--accent-primary)]","mb-4"],["d","M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"],[1,"grid","grid-cols-2","gap-3","animate-pulse"],[1,"grid","grid-cols-2","gap-3"],[1,"text-center","text-[var(--text-secondary)]","p-4","bg-[rgb(var(--background-tertiary-rgb))]","rounded-lg"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"h-6","w-6","mr-2",2,"animation","icon-pop-in 0.5s ease-out 0.5s backwards"],["d","M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm-1 14H9V8h2v8zm4 0h-2V8h2v8z"],[1,"p-3","bg-[rgb(var(--background-tertiary-rgb))]/40","rounded-r-lg"],[1,"font-semibold","text-[var(--text-primary)]"],[1,"text-sm","text-[var(--text-secondary)]","leading-relaxed"],[1,"text-sm","text-[var(--text-secondary)]","leading-relaxed","pb-2","mb-2","border-b","border-[rgb(var(--border-primary-rgb))]"],[1,"bg-[rgb(var(--background-tertiary-rgb))]","rounded-lg","aspect-[4/3]"],[1,"relative","group","overflow-hidden","rounded-lg"],[1,"w-full","h-full","object-cover","aspect-[4/3]","transition-transform","duration-300","group-hover:scale-105","animate-fade-in",3,"src","alt"],[1,"absolute","inset-0","bg-black/10","group-hover:bg-black/0","transition-colors"]],template:function(n,r){if(n&1&&(_(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),tr(4,Ub,1,5,"button",4,My),C()()(),_(6,"header",5)(7,"h1",6),w(8," AI Camera Settings "),C(),_(9,"p",7),w(10," Select a scene to instantly get professional camera settings. "),C()(),_(11,"section",8)(12,"div",9)(13,"div",10),ue(14,"img",11)(15,"div",12),C(),_(16,"div",13),ue(17,"img",14)(18,"div",12),C(),_(19,"div",15),ue(20,"img",16)(21,"div",12),C(),_(22,"div",15),ue(23,"img",17)(24,"div",12),C()()(),_(25,"section",18)(26,"label",19),w(27,"Select API Provider"),C(),_(28,"select",20),is("ngModelChange",function(i){return Zu(r.selectedProvider,i)||(r.selectedProvider=i),i}),ge("change",function(i){return r.onProviderChange(i)}),_(29,"option",21),w(30,"Google Gemini"),C(),_(31,"option",22),w(32,"OpenAI"),C(),_(33,"option",23),w(34,"Other"),C()(),_(35,"label",24),w(36),C(),_(37,"input",25),ge("input",function(i){return r.onApiKeyInput(i)}),C(),_(38,"button",26),ge("click",function(){return r.saveApiKey()}),w(39," Save API Key "),C(),eo(40,Bb,2,1,"p",27),C(),eo(41,qb,22,14,"main",28),_(42,"footer",29)(43,"div",30)(44,"a",31),w(45,"Contact Us"),C(),_(46,"a",32),w(47,"Terms (MIT License)"),C(),_(48,"a",33),w(49,"Privacy Policy"),C()(),_(50,"p"),w(51),C()(),Xe(52,zb,1,0,"div",34),_(53,"aside",35)(54,"div",36)(55,"div",37)(56,"h2",38),Xe(57,Wb,2,1,"span")(58,jb,2,0,"span"),C(),_(59,"button",39),ge("click",function(){return r.closeSettingsPanel()}),Ge(),_(60,"svg",40),ue(61,"path",41),C()()(),Ye(),_(62,"div",42),Xe(63,Jb,7,0,"div",43),Xe(64,Yb,8,1,"div",44),Xe(65,nN,71,14,"div",45),C()()()()),n&2){let o;N(4),nr(r.themes),N(24),os("ngModel",r.selectedProvider),N(8),ee(r.providerLabel()),N(),Rt("border-[var(--border-primary-rgb))]",!r.apiKeyError())("focus:ring-[var(--accent-focus)]",!r.apiKeyError())("border-[var(--error)]",r.apiKeyError())("focus:ring-[var(--error)]",r.apiKeyError()),Et("value",r.apiKey())("placeholder",r.providerPlaceholder()),N(),Et("disabled",!r.apiKey()||!!r.apiKeyError()),N(2),Et("ngIf",r.apiKeyError()),N(),Et("ngIf",r.apiKeySaved()),N(10),Yt("\xA9 ",r.currentYear," AI Camera Settings Generator. All Rights Reserved."),N(),et(r.isSettingsPanelOpen()?52:-1),N(),Rt("translate-x-0",r.isSettingsPanelOpen())("translate-x-full",!r.isSettingsPanelOpen()),N(4),et(r.selectedScene()?57:58),N(6),et(r.loading()?63:-1),N(),et(r.error()?64:-1),N(),et((o=r.settings())?65:-1,o)}},dependencies:[ds,rc,_m,ym,Em,bs,pm,Tc],styles:[".animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}.animate-backdrop-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_backdropFadeIn .3s ease-in-out}.animate-fast-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fastFadeIn .3s ease-out}.animate-slide-down[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDown .4s ease-out}@keyframes _ngcontent-%COMP%_backdropFadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fastFadeIn{0%{opacity:0;transform:translateY(-3px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_icon-pulse{0%,to{transform:scale(1);opacity:.7}50%{transform:scale(1.05);opacity:1}}@keyframes _ngcontent-%COMP%_icon-shake{0%,to{transform:translate(0)}10%,30%,50%,70%,90%{transform:translate(-4px)}20%,40%,60%,80%{transform:translate(4px)}}@keyframes _ngcontent-%COMP%_icon-pop-in{0%{transform:scale(.5);opacity:0}75%{transform:scale(1.1);opacity:1}to{transform:scale(1);opacity:1}}"],changeDetection:0})}};dc(ga,{providers:[Xu(),mc()]}).catch(t=>console.error(t));
